{"version":3,"file":"static/js/7866.05d79337.chunk.js","mappings":"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","sources":["../node_modules/@dytesdk/ui-kit/dist/esm/dyte-plugin-main_2.entry.js","../node_modules/@dytesdk/ui-kit/dist/esm/index-25aba8a9.js","../node_modules/@dytesdk/ui-kit/dist/esm/string-ed1380fb.js"],"sourcesContent":["import { r as registerInstance, w as writeTask, h, H as Host, c as createEvent } from './index-08f4416b.js';\nimport { a as defaultIconPack, c as useLanguage, d as defaultConfig } from './ui-store-11740cb4.js';\nimport { S as SyncWithStore } from './index-25aba8a9.js';\nimport { f as formatName, s as shorten } from './string-ed1380fb.js';\n\nconst dytePluginMainCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;height:100%;width:100%;flex-direction:column;overflow:hidden;border-radius:var(--dyte-border-radius-lg, 12px);color:rgb(var(--dyte-colors-text-1000, 255 255 255))}header{display:flex;height:var(--dyte-space-8, 32px);align-items:center;justify-content:space-between;padding-left:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-3, 12px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity))}header>div{display:flex;align-items:center}dyte-button{display:flex;height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px);flex-direction:column;align-items:center;border-radius:9999px}dyte-button dyte-icon{height:var(--dyte-space-3, 12px);width:var(--dyte-space-3, 12px)}iframe{display:block;flex:1 1 0%;margin:var(--dyte-space-0, 0px);border-width:var(--dyte-border-width-none, 0);border-style:none;padding:var(--dyte-space-0, 0px);outline:2px solid transparent;outline-offset:2px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-video-bg, 24 24 24) / var(--tw-bg-opacity))}.iframe-container{position:relative;height:100%;width:100%}.block-inputs{position:absolute;z-index:10;height:100%;width:100%;border-left-width:var(--dyte-border-width-none, 0);border-top-width:var(--dyte-border-width-lg, 4px);border-style:solid;--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-border-opacity))}iframe{height:100%;width:100%}\";\nconst DytePluginMainStyle0 = dytePluginMainCss;\n\nvar __decorate$1 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DytePluginMain = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        this.canClosePlugin = false;\n        this.viewModeEnabled = false;\n        this.onIframeRef = (el) => {\n            var _a;\n            if (el === this.iframeEl)\n                return;\n            this.iframeEl = el;\n            (_a = this.plugin) === null || _a === void 0 ? void 0 : _a.addPluginView(el, 'plugin-main');\n        };\n        this.canInteractWithPlugin = () => {\n            const pluginId = this.plugin.id;\n            if (!pluginId)\n                return true;\n            /**\n             * For v1 canStartPlugins is the controller\n             * For v2 the controller is within plugin config\n             */\n            const pluginConfig = this.meeting.self.permissions.plugins\n                .config[pluginId];\n            /**\n             * In some cases plugin config is undefined, specifically seen in cases of self\n             * hosted plugins, in that case just return true\n             */\n            if (!pluginConfig)\n                return true;\n            /**\n             * In V2 config currently in dev portal when a preset is saved without opening the\n             * config menu then it gets added with access control undefined, to handle this case\n             * the following has been done\n             */\n            if (!pluginConfig.accessControl)\n                return true;\n            /**\n             * If access conrol is defined then return the permission\n             */\n            return pluginConfig.accessControl === 'FULL_ACCESS';\n        };\n    }\n    componentDidLoad() {\n        this.meetingChanged(this.meeting);\n        this.pluginChanged(this.plugin);\n    }\n    meetingChanged(meeting) {\n        if (meeting == undefined)\n            return;\n        const enabled = this.canInteractWithPlugin();\n        this.viewModeEnabled = !enabled;\n        writeTask(() => {\n            this.canClosePlugin =\n                meeting.self.permissions.plugins.canClose || this.plugin.enabledBy === meeting.self.id;\n        });\n    }\n    pluginChanged(plugin) {\n        this.toggleViewModeListener = (enable) => {\n            const enabled = this.canInteractWithPlugin();\n            if (enabled)\n                return;\n            this.viewModeEnabled = enable;\n        };\n        if (plugin != null) {\n            this.iframeEl && plugin.addPluginView(this.iframeEl, 'plugin-main');\n            plugin.addListener('toggleViewMode', this.toggleViewModeListener);\n        }\n    }\n    disconnectedCallback() {\n        var _a, _b;\n        (_a = this.plugin) === null || _a === void 0 ? void 0 : _a.removePluginView('plugin-main');\n        (_b = this.plugin) === null || _b === void 0 ? void 0 : _b.removeListener('toggleViewMode', this.toggleViewModeListener);\n    }\n    render() {\n        if (this.plugin == null)\n            return null;\n        return (h(Host, null, h(\"header\", { part: \"header\" }, h(\"div\", null, this.plugin.name), this.canClosePlugin && (h(\"div\", null, h(\"dyte-button\", { kind: \"icon\", onClick: () => this.plugin.deactivate(), part: \"button\" }, h(\"dyte-icon\", { icon: this.iconPack.dismiss }))))), h(\"div\", { class: 'iframe-container' }, !(this.canInteractWithPlugin() || !this.viewModeEnabled) ? (h(\"div\", { class: \"block-inputs\" })) : null, h(\"iframe\", { ref: (el) => this.onIframeRef(el), part: \"iframe\" }))));\n    }\n    static get watchers() { return {\n        \"meeting\": [\"meetingChanged\"],\n        \"plugin\": [\"pluginChanged\"]\n    }; }\n};\n__decorate$1([\n    SyncWithStore()\n], DytePluginMain.prototype, \"meeting\", void 0);\n__decorate$1([\n    SyncWithStore()\n], DytePluginMain.prototype, \"iconPack\", void 0);\n__decorate$1([\n    SyncWithStore()\n], DytePluginMain.prototype, \"t\", void 0);\nDytePluginMain.style = DytePluginMainStyle0;\n\nconst dyteTabBarCss = \".scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\\\.5, 6px);width:var(--dyte-space-1\\\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{box-sizing:border-box;display:flex;height:100%;width:var(--dyte-space-16, 64px);flex-direction:column;gap:var(--dyte-space-2, 8px);overflow-y:auto;font-family:var(--dyte-font-family, sans-serif)}dyte-button{z-index:10}.col{display:flex;flex-direction:column;align-items:center}.tab{display:flex;height:var(--dyte-space-16, 64px);width:var(--dyte-space-16, 64px);align-items:center;justify-content:center;margin-bottom:var(--dyte-space-2, 8px);font-size:12px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}.tab.active{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity))}.tab img{height:var(--dyte-space-7, 28px);width:var(--dyte-space-7, 28px);border-radius:var(--dyte-border-radius-sm, 4px)}.tab .name{margin-top:var(--dyte-space-0\\\\.5, 2px)}:host([size='sm']){flex-direction:column;margin-top:var(--dyte-space-4, 16px);height:var(--dyte-space-16, 64px);width:100%;flex-direction:row;gap:var(--dyte-space-2, 8px);overflow-x:auto}:host([size='sm']) .tab{margin:var(--dyte-space-0, 0px);text-overflow:clip;min-width:100px;height:40px}:host([size='sm']) .tab .col{display:flex;flex-direction:row;align-items:center;gap:var(--dyte-space-2, 8px)}:host([size='sm']) .tab .col img,:host([size='sm']) .tab .col dyte-icon{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}:host([size='sm']) .tab .col .name{gap:var(--dyte-space-1, 4px)}:host([layout='column']){flex-direction:column}:host([layout='column']) .aside{flex:2;max-width:100%;width:100%}@media (orientation: portrait){:host([size='sm']){margin-top:var(--dyte-space-2, 8px);height:var(--dyte-space-16, 64px);width:100%;flex-direction:row;transition:all 0.3s linear}:host([size='md']){height:var(--dyte-space-24, 96px);width:100%;flex-direction:row;transition:all 0.3s linear}:host .tab{margin:var(--dyte-space-0, 0px)}}@media (orientation: landscape){:host([size='sm']){margin-right:var(--dyte-space-4, 16px);height:100%;width:var(--dyte-space-14, 56px);flex-direction:row;gap:var(--dyte-space-2, 8px);overflow-y:auto;overflow-x:hidden;transition:all 0.3s linear}:host([size='md']){margin-right:var(--dyte-space-4, 16px);height:100%;width:var(--dyte-space-14, 56px);flex-direction:row;gap:var(--dyte-space-2, 8px);overflow-y:auto;overflow-x:hidden;transition:all 0.3s linear}:host .tab{margin:var(--dyte-space-0, 0px)}:host([size='sm']) .tab{margin:var(--dyte-space-0, 0px);width:100%;text-overflow:clip;min-width:0px;min-height:40px}:host([size='sm']) .tab .col{display:flex;flex-direction:column;align-items:center;gap:var(--dyte-space-2, 8px);font-size:10px}:host([size='sm']) .tab .col img,:host([size='sm']) .tab .col dyte-icon{height:var(--dyte-space-3, 12px);width:var(--dyte-space-3, 12px)}:host([size='sm']) .tab .col .name{gap:var(--dyte-space-1, 4px)}}\";\nconst DyteTabBarStyle0 = dyteTabBarCss;\n\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteTabBar = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.tabChange = createEvent(this, \"tabChange\", 7);\n        /** UI Config */\n        this.config = defaultConfig;\n        /** Grid Layout */\n        this.layout = 'row';\n        /** Icon Pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        /** Tabs */\n        this.tabs = [];\n    }\n    render() {\n        return (h(Host, { key: '8bdec657a4b6635cc2d3d73e79b4be08db404cb9' }, h(\"dyte-spotlight-indicator\", { key: '958fa41423f075e8110d272ea521cbfc8aa67aa4', meeting: this.meeting, iconPack: this.iconPack, t: this.t, size: this.size }), this.tabs.map((tab) => {\n            var _a, _b, _c, _d, _e;\n            let isActive = false;\n            if (((_a = this.activeTab) === null || _a === void 0 ? void 0 : _a.type) === 'plugin' &&\n                tab.plugin &&\n                ((_b = this.activeTab) === null || _b === void 0 ? void 0 : _b.plugin.id) === tab.plugin.id)\n                isActive = true;\n            else if (((_c = this.activeTab) === null || _c === void 0 ? void 0 : _c.type) === 'screenshare' &&\n                tab.participant &&\n                ((_d = this.activeTab) === null || _d === void 0 ? void 0 : _d.participant.id) === tab.participant.id)\n                isActive = true;\n            if (tab.type === 'screenshare') {\n                const participant = tab.participant;\n                const name = formatName(participant.name);\n                return (h(\"dyte-button\", { title: `${name}'s Screen Share`, key: tab.participant.id, kind: \"icon\", variant: isActive ? 'primary' : 'secondary', class: {\n                        tab: true,\n                        active: isActive,\n                    }, onClick: () => this.tabChange.emit(tab) }, h(\"div\", { class: \"center col\" }, h(\"dyte-icon\", { icon: this.iconPack.share_screen_person }), h(\"span\", { class: \"name\" }, participant.id === ((_e = this.meeting) === null || _e === void 0 ? void 0 : _e.self.id) ? this.t('you') : shorten(name, 6)))));\n            }\n            else if (tab.type === 'plugin') {\n                const plugin = tab.plugin;\n                return (h(\"dyte-button\", { title: plugin.name, key: plugin.id, kind: \"icon\", variant: isActive ? 'primary' : 'secondary', class: {\n                        tab: true,\n                        active: isActive,\n                    }, onClick: () => this.tabChange.emit(tab) }, h(\"div\", { class: \"center col\" }, h(\"img\", { src: plugin.picture }), h(\"span\", { class: \"name\" }, shorten(plugin.name, 6)))));\n            }\n        })));\n    }\n};\n__decorate([\n    SyncWithStore()\n], DyteTabBar.prototype, \"size\", void 0);\n__decorate([\n    SyncWithStore()\n], DyteTabBar.prototype, \"meeting\", void 0);\n__decorate([\n    SyncWithStore()\n], DyteTabBar.prototype, \"states\", void 0);\n__decorate([\n    SyncWithStore()\n], DyteTabBar.prototype, \"iconPack\", void 0);\n__decorate([\n    SyncWithStore()\n], DyteTabBar.prototype, \"t\", void 0);\nDyteTabBar.style = DyteTabBarStyle0;\n\nexport { DytePluginMain as dyte_plugin_main, DyteTabBar as dyte_tab_bar };\n","import { a as getElement } from './index-08f4416b.js';\nimport { o as appendElement, q as removeElement, u as uiStore } from './ui-store-11740cb4.js';\n\nfunction SyncWithStore() {\n    return function (proto, propName) {\n        const { connectedCallback, disconnectedCallback } = proto;\n        proto.connectedCallback = function () {\n            const host = getElement(this);\n            const value = host[propName];\n            if (!value) {\n                const storeValue = uiStore.state[propName];\n                host[propName] = storeValue;\n                appendElement(propName, host);\n            }\n            return connectedCallback === null || connectedCallback === void 0 ? void 0 : connectedCallback.call(this);\n        };\n        proto.disconnectedCallback = function () {\n            removeElement(propName, getElement(this));\n            return disconnectedCallback === null || disconnectedCallback === void 0 ? void 0 : disconnectedCallback.call(this);\n        };\n    };\n}\n\nexport { SyncWithStore as S };\n","/**\n * Shorten a string upto a maximum length of characters and add `...` as suffix if it exceeds the maximum length\n * @param str The The string you want to shorten\n * @param maxLength Maximum length of character\n * @returns Formatted shortedned string\n */\nconst shorten = (str, maxLength = 20) => {\n    if (str == null)\n        return '';\n    if (str.length > maxLength) {\n        return `${str.substring(0, maxLength)}...`;\n    }\n    return str;\n};\n/**\n * Checks if a given string consists of only emojis.\n *\n * However this classifies a string with numbers as emoji as well.\n * Which works in our favour for now in chat as it enlarges messages with just numbers.\n * @param str String on which to perform the check on\n * @returns A Boolean value which indicates if string consists of only emojis\n */\nconst hasOnlyEmojis = (str) => {\n    const num = /^\\d+$/;\n    const re = /^\\p{Emoji}+$/u;\n    return re.test(str) && !num.test(str);\n};\nconst sanitizeLink = (link) => {\n    // TODO: needs more work\n    if (link === null || link === void 0 ? void 0 : link.trim().toLowerCase().startsWith('javascript:')) {\n        return 'https://dyte.io';\n    }\n    return link;\n};\n/**\n * Formats a given name and returns **Participant** for unnamed participants.\n * @param name Name of participant\n * @returns Name to use in the UI\n */\nconst formatName = (name) => {\n    name = name === null || name === void 0 ? void 0 : name.trim();\n    if (name === '')\n        return 'Participant';\n    return name;\n};\nconst whiteSpace = new RegExp(/[^\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w\\s]/, 'g');\nconst space = new RegExp(/\\s+/);\nfunction getInitials(name, maxInitials = 2) {\n    // removes any character that is not a letter, number or whitespace\n    const cleanedName = name.replace(whiteSpace, '');\n    const words = cleanedName.trim().split(space).slice(0, maxInitials);\n    return words\n        .map((word) => word.charAt(0))\n        .join('')\n        .toUpperCase();\n}\n\nexport { sanitizeLink as a, formatName as f, getInitials as g, hasOnlyEmojis as h, shorten as s };\n"],"names":["__decorate$1","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","DytePluginMain","constructor","hostRef","registerInstance","this","iconPack","defaultIconPack","t","useLanguage","canClosePlugin","viewModeEnabled","onIframeRef","el","_a","iframeEl","plugin","addPluginView","canInteractWithPlugin","pluginId","id","pluginConfig","meeting","self","permissions","plugins","config","accessControl","componentDidLoad","meetingChanged","pluginChanged","undefined","enabled","writeTask","canClose","enabledBy","toggleViewModeListener","enable","addListener","disconnectedCallback","_b","removePluginView","removeListener","render","h","Host","part","name","kind","onClick","deactivate","icon","dismiss","class","ref","watchers","SyncWithStore","prototype","style","__decorate","DyteTabBar","tabChange","createEvent","defaultConfig","layout","tabs","size","map","tab","_c","_d","_e","isActive","activeTab","type","participant","formatName","title","concat","variant","active","emit","share_screen_person","shorten","src","picture","proto","propName","connectedCallback","host","getElement","storeValue","uiStore","state","appendElement","call","removeElement","str","maxLength","substring","hasOnlyEmojis","test","sanitizeLink","link","trim","toLowerCase","startsWith","whiteSpace","RegExp","space","getInitials","maxInitials","replace","split","slice","word","charAt","join","toUpperCase"],"sourceRoot":""}