"use strict";(self.webpackChunkjagruti_software=self.webpackChunkjagruti_software||[]).push([[5168],{12617:(t,e,i)=>{i.d(e,{S:()=>n});var s=i(85077),a=i(7508);function n(){return function(t,e){const{connectedCallback:i,disconnectedCallback:n}=t;t.connectedCallback=function(){const t=(0,s.a)(this);if(!t[e]){const i=a.u.state[e];t[e]=i,(0,a.o)(e,t)}return null===i||void 0===i?void 0:i.call(this)},t.disconnectedCallback=function(){return(0,a.q)(e,(0,s.a)(this)),null===n||void 0===n?void 0:n.call(this)}}}},55168:(t,e,i)=>{i.r(e),i.d(e,{dyte_mixed_grid:()=>d});var s=i(85077),a=i(7508),n=i(63034),r=i(77424),o=i(12617);var c=function(t,e,i,s){var a,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(r=(n<3?a(r):n>3?a(e,i,r):a(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r};const d=class{constructor(t){(0,s.r)(this,t),this.layout="row",this.participants=[],this.pinnedParticipants=[],this.screenShareParticipants=[],this.plugins=[],this.aspectRatio="16:9",this.gap=8,this.config=a.d,this.iconPack=a.a,this.t=(0,a.c)(),this.gridSize=n.d}componentWillLoad(){this.initialised=!1,this.screenShareParticipantsChanged(this.screenShareParticipants),this.pluginsChanged(this.plugins),this.initialised=!0}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){var t;null===(t=this.meeting.meta)||void 0===t||t.removeListener("activeTabUpdate",this.activeTabUpdateListener)}meetingChanged(t){var e,i,s,a;null!=t&&(void 0!=(null===(e=t.meta)||void 0===e?void 0:e.selfActiveTab)&&this.onActiveTabUpdate(null===(i=t.meta.selfActiveTab)||void 0===i?void 0:i.type,null===(s=t.meta.selfActiveTab)||void 0===s?void 0:s.id),this.activeTabUpdateListener=t=>{this.onActiveTabUpdate(null===t||void 0===t?void 0:t.type,null===t||void 0===t?void 0:t.id)},null===(a=t.meta)||void 0===a||a.addListener("activeTabUpdate",this.activeTabUpdateListener))}screenShareParticipantsChanged(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(this.initialised||null==this.activeTab)&&(null==this.activeTab&&t.length>0?this.setActiveTab({type:"screenshare",participant:t[0]}):this.revalidateActiveTab())}pluginsChanged(t){if(this.initialised||null==this.activeTab)if(t.length>0){const e=t.length-1;this.setActiveTab({type:"plugin",plugin:t[e]})}else this.revalidateActiveTab()}revalidateActiveTab(){if(null!=this.activeTab)if("screenshare"===this.activeTab.type){const{participant:t}=this.activeTab;this.screenShareParticipants.some(e=>e.id===t.id)||this.reassignActiveTab()}else{const{plugin:t}=this.activeTab;this.plugins.some(e=>e.id===t.id)||this.reassignActiveTab()}}setActiveTab(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var i;this.activeTab=t;const s="screenshare"===t.type?t.participant.id:t.plugin.id;e&&(null===(i=this.meeting.meta)||void 0===i||i.setSelfActiveTab({type:t.type,id:s},0))}reassignActiveTab(){if(this.screenShareParticipants.length>0)this.setActiveTab({type:"screenshare",participant:this.screenShareParticipants[0]});else if(this.plugins.length>0){const t=this.plugins.length-1;this.setActiveTab({type:"plugin",plugin:this.plugins[t]})}}onActiveTabUpdate(t,e){if(void 0!=t&&void 0!=e)switch(t){case"plugin":const t=this.plugins.find(t=>t.id===e);void 0!=t&&this.setActiveTab({type:"plugin",plugin:t},!1);break;case"screenshare":const i=this.screenShareParticipants.find(t=>t.id===e);void 0!=i&&this.setActiveTab({type:"screenshare",participant:i},!1)}}getTabs(){const t=this.screenShareParticipants.map(t=>({type:"screenshare",participant:t})),e=this.plugins.map(t=>({type:"plugin",plugin:t}));return t.concat(e)}render(){var t,e;const i={meeting:this.meeting,config:this.config,states:this.states,size:this.size,iconPack:this.iconPack,t:this.t};return(0,s.h)(s.H,{key:"cda320d567f39a7128b5bf6fac054cf5c504e26f"},(0,s.h)("main",{key:"9bdea21421ca72cca011f48c7fbaa8eee1745b8f",id:"main-view",part:"main-view"},(null===(t=this.getTabs())||void 0===t?void 0:t.length)>1&&(0,s.h)("dyte-tab-bar",Object.assign({key:"71eb59ca8cd9ad805c372b0d9b1deecc16bcd3fe",activeTab:this.activeTab,tabs:this.getTabs(),onTabChange:t=>this.setActiveTab(t.detail)},i)),(0,s.h)("div",{id:"tabs",key:"tabs"},this.screenShareParticipants.map(t=>{var e,a;return(0,s.h)(r.R,{element:"dyte-screenshare-view",defaults:i,props:{participant:t,key:t.id,style:{display:"screenshare"===(null===(e=this.activeTab)||void 0===e?void 0:e.type)&&(null===(a=this.activeTab)||void 0===a?void 0:a.participant.id)===t.id?"flex":"none"}},childProps:{participant:t,isScreenShare:!0},deepProps:!0})}),this.plugins.map(t=>{var e,a;return(0,s.h)("dyte-plugin-main",Object.assign({},i,{plugin:t,key:t.id,style:{display:"plugin"===(null===(e=this.activeTab)||void 0===e?void 0:e.type)&&(null===(a=this.activeTab)||void 0===a?void 0:a.plugin.id)===t.id?"flex":"none"}}))}))),(0,s.h)(r.R,{key:"f8b8c9e7dd41eeddf98b8165f212bea6d38e9e84",element:"dyte-mixed-grid",defaults:i,childProps:{part:"participants-grid",class:this.gridSize.mixed?"grid-width-".concat(this.gridSize.mixed):"grid-width-lg",participants:this.participants,pinnedParticipants:this.pinnedParticipants,screenShareParticipants:this.screenShareParticipants,plugins:this.plugins,aspectRatio:this.aspectRatio,gap:this.gap,size:"AUDIO_ROOM"===(null===(e=this.meeting.meta)||void 0===e?void 0:e.viewType)?"md":"sm",layout:"row"},onlyChildren:!0}))}get host(){return(0,s.a)(this)}static get watchers(){return{meeting:["meetingChanged"],screenShareParticipants:["screenShareParticipantsChanged"],plugins:["pluginsChanged"]}}};c([(0,o.S)()],d.prototype,"size",void 0),c([(0,o.S)()],d.prototype,"meeting",void 0),c([(0,o.S)()],d.prototype,"states",void 0),c([(0,o.S)()],d.prototype,"iconPack",void 0),c([(0,o.S)()],d.prototype,"t",void 0),d.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block;height:100%;width:100%;display:flex}main{display:flex;flex:1 1 0%;padding-left:var(--dyte-space-4, 16px)}:host([layout='column']) main{padding-left:var(--dyte-space-4, 16px);padding-right:var(--dyte-space-4, 16px)}main dyte-tab-bar{margin-right:var(--dyte-space-4, 16px);box-sizing:border-box;display:flex;height:100%;width:var(--dyte-space-16, 64px);flex-direction:column}main #tabs{height:100%;flex:1 1 0%}dyte-button{z-index:10}.grid-width-sm{width:25%}.grid-width-md{width:50%}.grid-width-lg{width:66.666667%}.col{display:flex;flex-direction:column;align-items:center}.tab{display:flex;height:var(--dyte-space-16, 64px);width:var(--dyte-space-16, 64px);align-items:center;justify-content:center;margin-bottom:var(--dyte-space-2, 8px);font-size:12px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}.tab.active{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity))}.tab img{height:var(--dyte-space-7, 28px);width:var(--dyte-space-7, 28px);border-radius:var(--dyte-border-radius-sm, 4px)}:host([size='sm']){flex-direction:column}:host([size='sm']) .grid-width-lg,:host([size='sm']) .grid-width-md{height:50%;width:100%;max-width:100%}:host([size='sm']) .grid-width-sm{height:33.333333%;width:100%;max-width:100%}:host([size='sm']) main{display:flex;flex:1 1 0%;flex-direction:column;padding-left:var(--dyte-space-4, 16px);padding-right:var(--dyte-space-4, 16px)}:host([size='sm']) dyte-tab-bar{height:var(--dyte-space-12, 48px);width:100%;flex-direction:row}:host([size='sm']) #tabs{flex:1 1 0%}:host([size='sm']) .tab{margin:var(--dyte-space-0, 0px);margin-right:var(--dyte-space-2, 8px)}:host([layout='column']){flex-direction:column}:host([layout='column']) main{display:flex;flex:1 1 0%}:host([layout='column']) .grid-width-lg,:host([layout='column']) .grid-width-md{height:50%;max-width:100%;width:100%}:host([layout='column']) .grid-width-sm{height:33.333333%;max-width:100%;width:100%}@media (orientation: portrait){:host{flex-direction:column}:host .grid-width-lg{height:50%;width:100%;max-width:100%}:host .grid-width-md{height:33.333333%;width:100%;max-width:100%}:host .grid-width-sm{height:25%;width:100%;max-width:100%}:host main{flex:1 1 0%;flex-direction:column;padding-left:var(--dyte-space-4, 16px);padding-right:var(--dyte-space-4, 16px)}:host([size='md']) main{flex:1 1 0%;flex-direction:column;padding-left:var(--dyte-space-4, 16px);padding-right:var(--dyte-space-4, 16px)}:host dyte-tab-bar{height:var(--dyte-space-16, 64px);width:100%;flex-direction:row}:host #tabs{flex:1 1 0%}:host .tab{margin:var(--dyte-space-0, 0px);margin-right:var(--dyte-space-2, 8px)}}@media (orientation: landscape){:host{flex-direction:row}:host([size='sm']){flex-direction:row}:host .grid-width-lg{height:50%;width:100%;max-width:100%}:host([size='sm']) .grid-width-sm{height:100%;max-height:100%;width:16.666667%}:host([size='sm']) main{flex:1 1 0%;flex-direction:row;padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px)}:host([size='md']) main{flex:1 1 0%;flex-direction:row;padding-left:var(--dyte-space-4, 16px);padding-right:var(--dyte-space-4, 16px)}:host([size='sm']) dyte-tab-bar{margin-right:var(--dyte-space-2, 8px);height:100%;width:var(--dyte-space-12, 48px);flex-direction:column}:host #tabs{flex:1 1 0%}:host .tab{margin:var(--dyte-space-0, 0px);margin-right:var(--dyte-space-2, 8px)}}"},63034:(t,e,i)=>{function s(t,e){const i=Math.pow(10,e);return Math.floor(t*i)/i}function a(t){let{dimensions:e,count:i,aspectRatio:a,gap:r}=t;const{width:o,height:c,rows:d,cols:l}=function(t){let{count:e,dimensions:i,aspectRatio:a,gap:r}=t,{width:o,height:c}=i;if(0===o||0===c)return{width:0,height:0,rows:1,cols:1};o-=2*r,c-=2*r;const d=r,l=e,h=n(a);let p=0,g=0,u=1,f=1;const v=[];for(let s=1;s<=l;s++)v.push((o-d*(s-1))/s),v.push((c-d*(s-1))/(s*h));v.sort((t,e)=>e-t);for(const n of v)if(p=s(n,4),g=s(p*h,4),u=Math.floor((o+d)/(p+d)),f=Math.floor((c+d)/(g+d)),u*f>=l){f=Math.ceil(l/u);break}return{width:p,height:g,rows:f,cols:u}}({dimensions:e,count:i,aspectRatio:a,gap:r}),h=function(t){let{parentDimensions:e,dimensions:i,rows:s,cols:a,count:n,gap:r}=t;const{width:o,height:c}=e,{width:d,height:l}=i,h=(c-(l*s+(s-1)*r))/2;let p=(o-(d*a+(a-1)*r))/2;const g=l+r,u=d+r;let f=0,v=0;const y=n%a;function m(t){const e=n-t;e===y&&(p=(o-(d*e+(e-1)*r))/2);const i=h+v*g,s=p+f*u;return f++,(t+1)%a===0&&(v++,f=0),{top:i,left:s}}return m}({parentDimensions:e,dimensions:{width:o,height:c},rows:d,cols:l,count:i,gap:r});return{width:o,height:c,getPosition:h}}i.d(e,{d:()=>r,u:()=>a});const n=t=>{const[e,i]=t.split(":");return Number.parseInt(i)/Number.parseInt(e)},r={spotlight:"sm",mixed:"sm"}},77424:(t,e,i)=>{i.d(e,{R:()=>c,l:()=>o});var s=i(85077);const a=t=>{let{element:e,size:i,states:s={},config:a={}}=t,n=[];const r=null===a||void 0===a?void 0:a.root[e],o=t=>{n.push(t),"string"===typeof i&&n.push("".concat(t,".").concat(i))};if(o(e),"object"===typeof r&&!Array.isArray(r)&&null!==r){const{state:t,states:i}=r;let a=e,n=[];if(Array.isArray(i)){n=i.filter(t=>s[t]),n.sort();for(const t of n)o("".concat(a,".").concat(t));if(n.length>1){o([a,...n].join("."))}}if("string"===typeof t){const i="".concat(e,"[").concat(t,"=").concat(s[t],"]");o(i);for(const t of n)o("".concat(i,".").concat(t));if(n.length>1){o([i,...n].join("."))}}}return n},n=t=>{let{selectors:e,root:i}=t;if(!i||!Array.isArray(e))return[];let s=[];for(const a of e){const t=i[a];if(Array.isArray(t))s=[...t];else if(t){if(t.children&&(s=[...t.children]),Array.isArray(t.remove))for(const e of t.remove)s=s.filter(t=>"string"===typeof t?t!==e:!Array.isArray(t)||t[0]!==e);if(t.addBefore)for(const[e,i]of Object.entries(t.addBefore)){const t=s.findIndex(t=>"string"===typeof t?t===e:!!Array.isArray(t)&&t[0]===e);t>=0&&s.splice(t,0,...i)}Array.isArray(t.add)&&(s=s.concat(t.add)),Array.isArray(t.prepend)&&(s=t.prepend.concat(s))}}return s},r=t=>{let{elements:e,defaults:i,props:a={},deepProps:n=!1,elementProps:r={}}=t;return Array.isArray(e)&&0!==e.length?e.map(t=>(0,s.h)(c,{element:t,defaults:i,props:a,childProps:n&&a,elementProps:r})):null},o=t=>{let{element:e,defaults:i,props:s={},elementProps:r={}}=t;var o;const{config:c,size:d,states:l}=i;let h,p={},g=[];Array.isArray(e)?[h,p,...g]=e:h=e;const u=null===(o=null===c||void 0===c?void 0:c.root)||void 0===o?void 0:o[h];null!=u&&"props"in u&&(s=Object.assign(Object.assign({},u.props),s)),s=Object.assign(Object.assign({},s),p),h in r&&(s=Object.assign(Object.assign({},s),r[h]));const f=a({element:h,size:d,states:l,config:c});return n({selectors:f,root:c.root}).length},c=(t,e)=>{let{element:i,defaults:o,childProps:c={},props:d={},onlyChildren:l=!1,asHost:h=!1,deepProps:p=!1,elementProps:g={}}=t;var u;const{config:f,size:v,states:y}=o;let m,b={},x=[];Array.isArray(i)?[m,b,...x]=i:m=i;const w=null===(u=null===f||void 0===f?void 0:f.root)||void 0===u?void 0:u[m];null!=w&&"props"in w&&(d=Object.assign(Object.assign({},w.props),d)),d=Object.assign(Object.assign({},d),b),m in g&&(d=Object.assign(Object.assign({},d),g[m]));const A=a({element:m,size:v,states:y,config:f}),T=n({selectors:A,root:f.root});if(l)return(0,s.h)(r,{elements:T,defaults:o,props:c,deepProps:p,elementProps:g});const P=(t=>{let{selectors:e,styles:i}=t;if(!Array.isArray(e)||null==i)return{};const s={};for(const a of e){const t=i[a];null!=t&&Object.assign(s,t)}return s})({selectors:A,styles:f.styles});if(h)return(0,s.h)(s.H,Object.assign({},o,{style:P},d),(0,s.h)(r,{elements:T,defaults:o,props:c,deepProps:p,elementProps:g}),e,x.map(t=>{if(Array.isArray(t)){const[e,i]=t;return(0,s.h)(e,Object.assign({},o,i))}return t}));if(["dyte-header","dyte-controlbar"].includes(m)&&(d.disableRender=!0),m.startsWith("dyte-"))return(0,s.h)(m,Object.assign({},o,{style:P},d),(0,s.h)(r,{elements:T,defaults:o,props:c,deepProps:p,elementProps:g}),e,x.map(t=>{if(Array.isArray(t)){const[e,i]=t;return(0,s.h)(e,Object.assign({},o,i))}return t}));{const[t,i]=m.split("#");return(0,s.h)(t,Object.assign({id:i,style:P},d),(0,s.h)(r,{elements:T,defaults:o,props:c,deepProps:p,elementProps:g}),e,x.map(t=>{if(Array.isArray(t)){const[e,i]=t;return(0,s.h)(e,Object.assign({},o,i))}return t}))}}}}]);
//# sourceMappingURL=5168.376fedbd.chunk.js.map