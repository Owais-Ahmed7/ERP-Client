"use strict";(self.webpackChunkjagruti_software=self.webpackChunkjagruti_software||[]).push([[1863],{1863:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Ge});var l=a(65043),n=a(99904),i=a(16544),s=a(26259),d=a(22166);const o="DASHBOARD",r="REPORT",c="FINANACE",m="DB_LOGS",u="PATIENT_ANALYTICS",v="LEAD_ANALYTICS",p="OPD_ANALYTICS",h="BOOKING";var y=a(98093),x=a(22284),b=a(59782),g=a(70579);const j=e=>{let{centers:t,data:a,loading:n}=e;const i=(0,d.wA)(),[s,o]=(0,l.useState)("");(0,l.useEffect)(()=>{s&&i((0,y.ZzQ)(s))},[s,i]);return(0,g.jsx)(l.Fragment,{children:(0,g.jsxs)("div",{className:"mt-5",children:[(0,g.jsx)("div",{className:"container-fluid",children:(0,g.jsx)("div",{className:"row",children:(0,g.jsx)("div",{className:"col-12",children:(0,g.jsx)("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:(0,g.jsx)("h4",{className:"mb-sm-0 font-size-18",children:"Dashboard"})})})})}),(0,g.jsx)("div",{className:"row",children:(0,g.jsx)("div",{className:"col-12",children:(0,g.jsx)("div",{className:"card",children:(0,g.jsxs)("div",{className:"card-body",children:[(0,g.jsxs)("div",{className:"mb-3",children:[(0,g.jsx)("label",{htmlFor:"centerSelect",className:"form-label fw-semibold",children:"Select a Center"}),(0,g.jsxs)("select",{id:"centerSelect",className:"form-select",onChange:e=>{const t=e.target.value;o(t)},value:s,children:[(0,g.jsx)("option",{value:"",children:"Select a Center"}),t&&t.map(e=>(0,g.jsx)("option",{value:e._id,children:e.title},e._id))]})]}),n&&(0,g.jsxs)("div",{className:"text-center py-4",children:[(0,g.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,g.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,g.jsx)("p",{className:"mt-2 text-muted",children:"Loading dashboard data..."})]}),!n&&!s&&(0,g.jsx)("div",{className:"text-center py-4",children:(0,g.jsx)("p",{className:"text-muted",children:"Please select a center to view dashboard analytics."})})]})})})}),!n&&a&&(0,g.jsxs)("div",{className:"row",children:[(0,g.jsx)("div",{className:"col-md-12 mb-3",children:(0,g.jsx)(x.A,{centerId:s,data:null===a||void 0===a?void 0:a.monthTillDate})}),(0,g.jsx)("div",{className:"col-md-12",children:(0,g.jsx)(b.A,{centerId:s,data:null===a||void 0===a?void 0:a.monthOnMonth})})]})]})})};j.defaultProps={data:null,loading:!1,centers:[]};const A=(0,d.Ng)(e=>{var t,a,l,n;return{data:(null===(t=e.Dashboard)||void 0===t?void 0:t.data)||null,loading:(null===(a=e.Dashboard)||void 0===a?void 0:a.loading)||!1,centers:(null===(l=e.Center)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.map(e=>({title:e.title,_id:e._id})))||[]}})(j);var f=a(5780),N=a(46087),D=a(52414),k=a(62978),w=a(89379),P=a(80045),I=a(12327),C=a(22345),M=a(72679),S=a(45627),T=a(62378),B=a(49935),R=a(62739),O=a(87426),E=a(85873),F=a(81349),L=a(78639);const _=(0,d.Ng)(e=>({patients:e.Patient.searchedPatients,searchLoading:e.Patient.searchLoading,centerAccess:e.User.centerAccess}))(e=>{let{patients:t,searchLoading:a,centerAccess:n,patient:i,setPatient:s}=e;const o=(0,d.wA)(),[r,c]=(0,l.useState)("");return(0,l.useEffect)(()=>{o((0,y.wms)({name:r,centerAccess:n}))},[o,n,r]),(0,g.jsx)(l.Fragment,{children:(0,g.jsxs)("div",{className:"h-100",children:[" ",(0,g.jsxs)(B.A,{direction:"down",className:"",children:[(0,g.jsxs)(R.A,{className:"p-0 w-100 h-100 position-relative",color:"light",children:[(0,g.jsx)(M.A,{value:r,onChange:e=>{const t=e.target.value;c(t)},size:"sm",className:"w-100 h-100"}),(0,g.jsx)(L.A,{isTrue:a,children:(0,g.jsx)("span",{className:"link-success dropdown-input-icon",style:{right:"10px"},children:(0,g.jsx)(O.A,{size:"sm",color:"success"})})})]}),(0,g.jsx)(E.A,{className:"dropdown-menu-md overflow-auto dropdown-height-md",children:(t||[]).map(e=>(0,g.jsx)(F.A,{className:"d-flex align-items-center link-primary text-primary fs-6",onClick:()=>{c(e.name),s(e)},children:(0,g.jsx)("span",{children:e.name})},e._id))})]})]})})});var U=a(89330);const G="ALL_TRANSACTIONS",H="ADVANCE_PAYMENT",V="INVOICE",W="DUE_AMOUNT",z="OPD_BILL",Y="ALL_REFERRELS",q="ADDMISSION_DATE",K="DISCAHRGE_DATE",$="DISCHARGE_PATIENT",Q="INTERN",X=[{label:"All Transactions",value:G},{label:"IPD Payment",value:H},{label:"IPD Invoice",value:V},{label:"IPD Due Amount",value:W},{label:"OPD Bills",value:z},{label:"Interns",value:Q}],Z=[{label:"Date",key:"date"},{label:"Patient/Intern",key:"name"},{label:"UID",key:"uid"},{label:"Type",key:"type"},{label:"Center",key:"center.title"},{label:"Invoice Number",key:"invoiceNumber"},{label:"Invoiced Amount (\u20b9Dr)",key:"invoice.payable"},{label:"Payment Modes",key:"paymentModes"},{label:"Paid Amount (\u20b9Cr)",key:"advancePayment.totalAmount"}],J=[{label:"Date",key:"date"},{label:"Patient/Intern",key:"name"},{label:"UID",key:"uid"},{label:"Type",key:"type"},{label:"Center",key:"center.title"},{label:"Date of Addmission",key:"dateOfAddmission"},{label:"Invoice Number",key:"invoiceNumber"},{label:"Invoiced Amount (\u20b9Dr)",key:"invoice.payable"},{label:"Payment Modes",key:"paymentModes"},{label:"Paid Amount (\u20b9Cr)",key:"advancePayment.totalAmount"}],ee=[{label:"Patient/Intern",key:"name"},{label:"Center",key:"patient.center.title"},{label:"UID",key:"uid"},{label:"Date of Addmission",key:"dateOfAddmission"},{label:"Total Invoiced Amount (\u20b9Dr)",key:"totalPayable"},{label:"Total Paid Amount (\u20b9Cr)",key:"totalAdvancePayment"},{label:"Total Due Amount",key:"dueAmount"}],te=[{label:"Date",key:"date"},{label:"Patient/Intern",key:"name"},{label:"UID",key:"uid"},{label:"Type",key:"type"},{label:"Center",key:"center.title"},{label:"Invoice Number",key:"invoiceNumber"},{label:"Payment Modes",key:"paymentModes"},{label:"Paid Amount (\u20b9Cr)",key:"advancePayment.totalAmount"}],ae=[{label:"Date",key:"date"},{label:"Patient/Intern",key:"name"},{label:"UID",key:"uid"},{label:"Type",key:"type"},{label:"Center",key:"center.title"},{label:"Date of Addmission",key:"dateOfAddmission"},{label:"Invoice Number",key:"invoiceNumber"},{label:"Payment Modes",key:"paymentModes"},{label:"Paid Amount (\u20b9Cr)",key:"advancePayment.totalAmount"}],le=[{label:"Date",key:"date"},{label:"Patient/Intern",key:"name"},{label:"UID",key:"uid"},{label:"Type",key:"type"},{label:"Center",key:"center.title"},{label:"Invoice Number",key:"invoiceNumber"},{label:"Invoiced Amount (\u20b9Dr)",key:"invoice.payable"}],ne=[{label:"Date",key:"date"},{label:"Patient/Intern",key:"name"},{label:"UID",key:"uid"},{label:"Type",key:"type"},{label:"Center",key:"center.title"},{label:"Date of Addmission",key:"dateOfAddmission"},{label:"Invoice Number",key:"invoiceNumber"},{label:"Invoiced Amount (\u20b9Dr)",key:"invoice.payable"}],ie=[{label:"Date",key:"date"},{label:"Patient/Intern",key:"name"},{label:"UID",key:"uid"},{label:"Type",key:"type"},{label:"Center",key:"center.title"},{label:"Invoice Number",key:"invoiceNumber"},{label:"Invoiced Amount (\u20b9Dr)",key:"invoice.payable"}],se=["data","billType","setBillType","patient","setPatient","sortByDate","setSortByDate","setSortPatientStatus","sortPatientStatus","patientsReferrel","setPatientsReferrel","diagnosisCol","toggle"],de=e=>{let{data:t,billType:a,setBillType:n,patient:i,setPatient:d,sortByDate:o,setSortByDate:r,setSortPatientStatus:c,sortPatientStatus:m,patientsReferrel:u,setPatientsReferrel:v,diagnosisCol:p,toggle:h}=e;(0,P.A)(e,se);return(0,g.jsx)(l.Fragment,{children:(0,g.jsx)("div",{children:(0,g.jsx)("div",{children:(0,g.jsx)("form",{children:(0,g.jsxs)(I.A,{children:[(0,g.jsx)(C.A,{xs:12,md:3,className:"mb-3 mb-md-0",children:(0,g.jsx)("div",{className:"d-flex",children:(0,g.jsx)(M.A,{id:"selectfilter",name:"address",type:"select",onChange:e=>{e&&n(e.target.value)},value:a||"",className:"form-control form-control-sm",children:(X||[]).map((e,t)=>(0,g.jsx)("option",{value:e.value,className:"text-muted",children:e.label},e+t))})})}),(0,g.jsx)(C.A,{xs:12,md:3,children:(0,g.jsx)(_,{setPatient:d,patient:i})}),(0,g.jsx)(C.A,{xs:12,md:6,children:(0,g.jsxs)("div",{className:"d-flex justify-content-start justify-content-md-end mt-3 mt-md-0",children:[(0,g.jsx)(s.A,{size:"sm",color:"danger",title:"Reset",onClick:()=>{d(""),n(G),c(""),r(""),v("")},children:(0,g.jsx)("i",{className:"ri-arrow-go-back-line text-white"})}),(0,g.jsx)(s.A,{size:"sm",color:"light",className:"ms-3",title:"Print",children:(0,g.jsx)("i",{className:"ri-printer-line"})}),(0,g.jsx)(T.CSVLink,{data:(()=>{const e=a===Q?null===t||void 0===t?void 0:t.filter(e=>e.intern):t;return null===e||void 0===e?void 0:e.map(e=>{var t,l,n,i,s,d,o,r,c,m,u,v,p,h;return(0,w.A)((0,w.A)({},e),{},{name:e.intern?e.intern.name:(null===(t=e.patient)||void 0===t?void 0:t.name)||"",date:e.date?(0,S.A)(new Date(e.date),"dd MMM yyyy"):"",uid:null!==(l=e.patient)&&void 0!==l&&l.id?"".concat(e.patient.id.prefix).concat(e.patient.id.value):"",invoiceNumber:e.key?"".concat(e.key.prefix).concat(e.key.patientId,"-").concat(e.key.value):"",dateOfAddmission:null!==(n=e.patient)&&void 0!==n&&null!==(i=n.addmission)&&void 0!==i&&i.addmissionDate?(0,S.A)(new Date(e.patient.addmission.addmissionDate),"dd MMM yyyy"):"",dateOfDischarge:null!==(s=e.patient)&&void 0!==s&&null!==(d=s.addmission)&&void 0!==d&&d.dischargeDate?(0,S.A)(new Date(e.patient.addmission.dischargeDate),"dd MMM yyyy"):"",type:a===G?e.type&&""!==e.type.trim()?e.type:"INTERN":e.type||"",invoice:{payable:e.intern&&e.receipt?e.receipt.totalAmount||0:(null===(o=e.invoice)||void 0===o?void 0:o.payable)||(null===(r=e.receiptInvoice)||void 0===r?void 0:r.payable)||0},advancePayment:{totalAmount:e.intern&&e.receipt?e.receipt.totalAmount||0:(null===(c=e.advancePayment)||void 0===c?void 0:c.totalAmount)||(null===(m=e.receiptInvoice)||void 0===m?void 0:m.payable)||0},paymentModes:null===(u=e.intern?null===(v=e.receipt)||void 0===v?void 0:v.paymentModes:(null===(p=e.advancePayment)||void 0===p?void 0:p.paymentModes)||(null===(h=e.receiptInvoice)||void 0===h?void 0:h.paymentModes))||void 0===u?void 0:u.map((e,t,a)=>{const l=a[t-1]?"\n":"";return e.paymentMode===U.AI||e.type===U.AI?"".concat(l).concat(e.paymentMode||e.type," \u20b9").concat(e.amount):e.paymentMode===U.PE||e.type===U.PE?"".concat(l).concat(e.paymentMode||e.type," ").concat(e.cardNumber||""," \u20b9").concat(e.amount):e.paymentMode===U.$c||e.type===U.$c?"".concat(l).concat(e.paymentMode||e.type," ").concat(e.transactionId||""):e.paymentMode===U.Ec||e.type===U.Ec?"".concat(l).concat(e.paymentMode||e.type," ").concat(e.bankName||""," ").concat(e.chequeNo||e.chequeNumber||""," \u20b9").concat(e.amount):e.paymentMode===U.NT||e.type===U.NT?"".concat(l).concat(e.paymentMode||e.type," ").concat(e.bankName||""," \u20b9").concat(e.amount):""}).filter(Boolean).join("")})})})()||[],title:"CSV Download",filename:"reports.csv",headers:(()=>{let e=[];return o!==q&&o!==K||!p?o===q||o===K?a===H?e=[...ae,u?{label:"Referred By",key:"patient.referredBy"}:null]:a===V?e=[...ne,u?{label:"Referred By",key:"patient.referredBy"}:null]:a===W?e=[...ee,m===$?{label:"Date of Discharge",key:"dateOfDischarge"}:null,u?{label:"Referred By",key:"patient.referredBy"}:null]:a===G?e=[...J,u?{label:"Referred By",key:"patient.referredBy"}:null]:a===Q&&(e=[{label:"Patient/Intern",key:"name"},{label:"Center",key:"center.title"},{label:"Date",key:"date"},{label:"UID",key:"uid"},{label:"Invoice No",key:"invoiceNumber"},{label:"Invoiced Amount",key:"invoice.payable"},{label:"Payment Modes",key:"paymentModes"},{label:"Paid Amount",key:"advancePayment.totalAmount"}]):p?a===W?e=[...ee,m===$?{label:"Date of Discharge",key:"dateOfDischarge"}:null,u?{label:"Referred By",key:"patient.referredBy"}:null,{label:"Diagnosis",key:"dischargeSummary.diagnosis"}]:a===H?e=[...te,u?{label:"Referred By",key:"patient.referredBy"}:null,{label:"Diagnosis",key:"dischargeSummary.diagnosis"}]:a===V?e=[...le,u?{label:"Referred By",key:"patient.referredBy"}:null,{label:"Diagnosis",key:"dischargeSummary.diagnosis"}]:a===G?e=[...Z,u?{label:"Referred By",key:"patient.referredBy"}:null,{label:"Diagnosis",key:"dischargeSummary.diagnosis"}]:a===Q&&(e=[{label:"Patient/Intern",key:"name"},{label:"Center",key:"center.title"},{label:"Date",key:"date"},{label:"UID",key:"uid"},{label:"Invoice No",key:"invoiceNumber"},{label:"Invoiced Amount",key:"invoice.payable"},{label:"Payment Modes",key:"paymentModes"},{label:"Paid Amount",key:"advancePayment.totalAmount"}]):a===W?e=[...ee,m===$?{label:"Date of Discharge",key:"dateOfDischarge"}:null,u?{label:"Referred By",key:"patient.referredBy"}:null]:a===H?e=[...te,u?{label:"Referred By",key:"patient.referredBy"}:null]:a===V?e=[...le,u?{label:"Referred By",key:"patient.referredBy"}:null]:a===G?e=[...Z,u?{label:"Referred By",key:"patient.referredBy"}:null]:a===z?e=[...ie,u?{label:"Referred By",key:"patient.referredBy"}:null]:a===Q&&(e=[{label:"Patient/Intern",key:"name"},{label:"Center",key:"center.title"},{label:"Date",key:"date"},{label:"Payment Modes",key:"paymentModes"},{label:"Paid Amount",key:"advancePayment.totalAmount"}]):a===H?e=[...ae,u?{label:"Referred By",key:"patient.referredBy"}:null,{label:"Diagnosis",key:"dischargeSummary.diagnosis"}]:a===V?e=[...ne,u?{label:"Referred By",key:"patient.referredBy"}:null,{label:"Diagnosis",key:"dischargeSummary.diagnosis"}]:a===W?e=[...ee,m===$?{label:"Date of Discharge",key:"dateOfDischarge"}:null,u?{label:"Referred By",key:"patient.referredBy"}:null,{label:"Diagnosis",key:"dischargeSummary.diagnosis"}]:a===G?e=[...J,u?{label:"Referred By",key:"patient.referredBy"}:null]:a===Q&&(e=[{label:"Patient/Intern",key:"name"},{label:"Center",key:"center.title"},{label:"Date",key:"date"},{label:"UID",key:"uid"},{label:"Invoice No",key:"invoiceNumber"},{label:"Invoiced Amount",key:"invoice.payable"},{label:"Payment Modes",key:"paymentModes"},{label:"Paid Amount",key:"advancePayment.totalAmount"}]),e.filter(e=>null!==e)})(),className:"btn btn-info px-2 ms-3",children:(0,g.jsx)("i",{className:"ri-file-paper-2-line text-light text-decoration-none"})}),(0,g.jsx)(s.A,{size:"sm",color:"secondary",className:"ms-3",title:"Filters",onClick:h,children:(0,g.jsx)("i",{className:"ri-filter-2-line"})})]})})]})})})})})},oe=e=>{let{data:t,billType:a}=e;console.log(a);const n=e=>{let t=0;return null===e||void 0===e||e.forEach(e=>{var l;if(e.intern&&null!==(l=e.receipt)&&void 0!==l&&l.totalAmount)t+=e.receipt.totalAmount;else if(a===W)t+=(null===e||void 0===e?void 0:e.totalAdvancePayment)||0;else if(a===z){var n;t+=(null===e||void 0===e||null===(n=e.receiptInvoice)||void 0===n?void 0:n.payable)||0}else{var i,s;t+=(null===e||void 0===e||null===(i=e.advancePayment)||void 0===i?void 0:i.totalAmount)||(null===e||void 0===e||null===(s=e.receiptInvoice)||void 0===s?void 0:s.payable)||0}}),t},i=e=>{let t=0;return null===e||void 0===e||e.forEach(e=>{if(a===W)t+=(null===e||void 0===e?void 0:e.totalPayable)||0;else if(a===z){var l,n,i;if(e.intern&&e.receipt)t+=(null===e||void 0===e||null===(l=e.receipt)||void 0===l?void 0:l.totalAmount)||0;else t+=(null===e||void 0===e||null===(n=e.invoice)||void 0===n?void 0:n.payable)||(null===e||void 0===e||null===(i=e.receiptInvoice)||void 0===i?void 0:i.payable)||0}else{var s,d;t+=(null===e||void 0===e||null===(s=e.invoice)||void 0===s?void 0:s.payable)||(null===e||void 0===e||null===(d=e.receiptInvoice)||void 0===d?void 0:d.payable)||0}}),t};return(0,g.jsx)(l.Fragment,{children:(0,g.jsx)("div",{className:"p-4 mt-3 shadow bg-body rounded",children:(0,g.jsxs)("div",{className:"d-flex flex-wrap justify-content-between justify-content-md-around",children:[(0,g.jsx)(L.A,{isTrue:a!==H,children:(0,g.jsxs)("div",{className:"d-flex align-items-center",children:[(0,g.jsx)("h6",{className:"display-6 fs-6",children:"TOTAL INVOICED AMOUNT (\u20b9): "}),(0,g.jsx)("h5",{className:"display-5 ms-2 fs-17 font-semi-bold",children:i(t)||n(t)||0})]})}),(0,g.jsx)(L.A,{isTrue:a!==V,children:(0,g.jsxs)("div",{className:"d-flex align-items-center",children:[(0,g.jsx)("h6",{className:"display-6 fs-6",children:"TOTAL PAID AMOUNT (\u20b9): "}),(0,g.jsx)("h5",{className:"display-5 ms-2 fs-17 font-semi-bold",children:n(t)||0})]})}),(0,g.jsx)(L.A,{isTrue:a===W,children:(0,g.jsxs)("div",{className:"d-flex align-items-center",children:[(0,g.jsx)("h6",{className:"display-6 fs-6",children:"TOTAL DUE AMOUNT (\u20b9): "}),(0,g.jsx)("h5",{className:"display-5 ms-2 fs-17 font-semi-bold",children:(e=>{const t=n(e),a=i(e);return a>t?a-t:0})(t)||0})]})})]})})})};var re=a(52640),ce=a(49157),me=a(18353),ue=a(7493);const ve=(0,d.Ng)(e=>({referrels:e.Patient.patientReferrel,searchLoading:e.Patient.patientRefLoading,centerAccess:e.User.centerAccess}))(e=>{let{referrels:t,searchLoading:a,centerAccess:n,patientReferrel:i,setPatientsReferrel:s}=e;const o=(0,d.wA)(),[r,c]=(0,l.useState)("");return(0,l.useEffect)(()=>{r&&o((0,y.h3z)({value:r,centerAccess:n}))},[o,n,r]),(0,g.jsx)(l.Fragment,{children:(0,g.jsxs)("div",{className:"h-100",children:[" ",(0,g.jsxs)(B.A,{direction:"down",className:"h-100",children:[(0,g.jsxs)(R.A,{className:"p-0 w-100 h-100 position-relative",color:"light",children:[(0,g.jsx)(M.A,{value:r,onChange:e=>{const t=e.target.value;c(t)},placeholder:"Search by referral...",size:"sm",className:"w-100 h-100"}),(0,g.jsx)(L.A,{isTrue:a,children:(0,g.jsx)("span",{className:"link-success dropdown-input-icon",style:{right:"10px"},children:(0,g.jsx)(O.A,{size:"sm",color:"success"})})})]}),(0,g.jsx)(E.A,{className:"dropdown-menu-md overflow-auto dropdown-height-md",children:(t||[]).map(e=>(0,g.jsx)(F.A,{className:"d-flex align-items-center link-primary text-primary fs-6",onClick:()=>{c(e.referredBy),s(e.referredBy)},children:(0,g.jsx)("span",{className:"",children:e.referredBy})},e._id))})]})]})})}),pe=e=>{let{isOpen:t,sortByDate:a,setSortByDate:n,sortPatientStatus:i,setSortPatientStatus:s,patientsReferrel:d,setPatientsReferrel:o,diagnosisCol:r,setDiagnosisCol:c}=e;return(0,g.jsx)(l.Fragment,{children:(0,g.jsx)("div",{className:"mt-3",children:(0,g.jsx)("div",{children:(0,g.jsx)(re.A,{isOpen:t,children:(0,g.jsx)(ce.A,{children:(0,g.jsx)(me.A,{children:(0,g.jsxs)(I.A,{children:[(0,g.jsx)(C.A,{s:12,md:4,lg:3,className:"mb-3 mb-md-0",children:(0,g.jsx)("div",{className:"d-flex h-100",children:(0,g.jsxs)(M.A,{id:"",name:"dates",type:"select",onChange:e=>n(e.target.value),value:a||"",className:"form-control form-control-sm h-100",children:[(0,g.jsx)("option",{disabled:!0,selected:!0,value:"",children:"Choose Date Filter"}),(0,g.jsx)("option",{value:q,className:"text-muted",children:"Date Of Addmission"}),(0,g.jsx)("option",{value:K,className:"text-muted",children:"Date Of Discharge"})]})})}),(0,g.jsx)(C.A,{xs:12,md:3,className:"mb-3 mb-md-0",children:(0,g.jsx)("div",{className:"d-flex h-100",children:(0,g.jsxs)(M.A,{id:"",name:"patientStatus",type:"select",onChange:e=>{s(e.target.value)},value:i||"",className:"form-control form-control-sm h-100",children:[(0,g.jsx)("option",{value:"",selected:!0,disabled:!0,children:"Choose here"}),(0,g.jsx)("option",{value:"ADMIT_PATIENT",className:"text-muted",children:"Admit Patients"}),(0,g.jsx)("option",{value:"DISCHARGE_PATIENT",className:"text-muted",children:"Discharge Patients"})]})})}),(0,g.jsx)(C.A,{xs:12,md:3,className:"mb-3 mb-md-0",children:(0,g.jsx)(ve,{patientsReferrel:d,setPatientsReferrel:o})}),(0,g.jsx)(C.A,{xs:12,md:4,className:"mb-3 mb-md-0",children:(0,g.jsxs)("div",{className:"d-flex align-items-center h-100",children:[(0,g.jsx)(M.A,{id:"",name:"diagnosis",type:"checkbox",onChange:e=>c(!r),checked:r,className:"mt-0"}),(0,g.jsx)(ue.A,{className:"mb-0 ms-3 fs-4",children:"Diagnosis"})]})}),(0,g.jsx)(C.A,{xs:12,md:4,className:"mb-3 mb-md-0",children:(0,g.jsxs)("div",{className:"d-flex align-items-center h-100",children:[(0,g.jsx)(M.A,{id:"",name:"diagnosis",type:"checkbox",onChange:e=>{o(d===Y?"":Y)},checked:d===Y,className:"mt-0"}),(0,g.jsx)(ue.A,{className:"mb-0 ms-3 fs-4",children:"Referral"})]})})]})})})})})})})};var he=a(58786);const ye=e=>{let{data:t,billType:a,sortByDate:n,patientsReferrel:i}=e;const s=[{name:"#",selector:(e,t)=>t+1,maxWidth:"80px",minWidth:"80px"},a!==W?{name:"Type",selector:e=>e.bill||e.type||"",maxWidth:"100px",minWidth:"100px"}:null,{name:"Center",selector:e=>{var t;return(null===(t=e.center)||void 0===t?void 0:t.title)||""},maxWidth:"130px",minWidth:"130px"},{name:a===W&&n===q?"Admission Date":a===W&&n===K?"Discharge Date":"Date",selector:e=>(e=>{var t,a,l,i;return e.date?(0,S.A)(new Date(e.date),"dd MMM yyyy"):n===q&&null!==(t=e.patient)&&void 0!==t&&null!==(a=t.addmission)&&void 0!==a&&a.addmissionDate?(0,S.A)(new Date(e.patient.addmission.addmissionDate),"dd MMM yyyy"):n===K&&null!==(l=e.patient)&&void 0!==l&&null!==(i=l.addmission)&&void 0!==i&&i.dischargeDate?(0,S.A)(new Date(e.patient.addmission.dischargeDate),"dd MMM yyyy"):""})(e),maxWidth:"130px",minWidth:"130px"},a!==W&&a!==z&&a!==Q&&n===q?{name:"Admission Date",selector:e=>{var t,a;return null!==(t=e.patient)&&void 0!==t&&null!==(a=t.addmission)&&void 0!==a&&a.addmissionDate?(0,S.A)(new Date(e.patient.addmission.addmissionDate),"dd MMM yyyy"):""}}:null,a!==W&&a!==z&&a!==Q&&n===K?{name:"Discharge Date",selector:e=>{var t,a;return null!==(t=e.patient)&&void 0!==t&&null!==(a=t.addmission)&&void 0!==a&&a.dischargeDate?(0,S.A)(new Date(e.patient.addmission.dischargeDate),"dd MMM yyyy"):""}}:null,{name:"Patient/Intern",selector:e=>{var t;return e.intern?e.intern.name:(null===(t=e.patient)||void 0===t?void 0:t.name)||""},wrap:!0,maxWidth:"150px",minWidth:"150px"},{name:"UID",selector:e=>{var t,a;return e.intern&&null!==(t=e.id)&&void 0!==t&&t.value?e.id.value:null!==(a=e.patient)&&void 0!==a&&a.id?"".concat(e.patient.id.prefix).concat(e.patient.id.value):""},wrap:!0,maxWidth:"100px",minWidth:"100px"},i?{name:"Referred By",selector:e=>{var t;return(null===(t=e.patient)||void 0===t?void 0:t.referredBy)||""}}:null,a!==W?{name:"Invoice No",selector:e=>e.key?"".concat(e.key.prefix).concat(e.key.patientId,"-").concat(e.key.value):""}:null,a!==W&&a!==H?{name:"Invoiced Amount",selector:e=>{var t,a,l,n,i,s,d,o,r;return e.intern&&e.receipt?null!==(i=null!==(s=null!==(d=e.receipt.totalAmount)&&void 0!==d?d:null===(o=e.invoice)||void 0===o?void 0:o.payable)&&void 0!==s?s:null===(r=e.receiptInvoice)||void 0===r?void 0:r.payable)&&void 0!==i?i:"":null!==(t=null!==(a=null===(l=e.invoice)||void 0===l?void 0:l.payable)&&void 0!==a?a:null===(n=e.receiptInvoice)||void 0===n?void 0:n.payable)&&void 0!==t?t:""}}:null,a!==W&&a!==V?{name:"Payment Modes",selector:e=>{var t,a,l,n;return e.intern&&null!==(t=e.receipt)&&void 0!==t&&t.paymentModes?e.receipt.paymentModes.map(e=>"".concat((null===e||void 0===e?void 0:e.paymentMode)||""," ").concat((null===e||void 0===e?void 0:e.bankName)||""," ").concat((null===e||void 0===e?void 0:e.transactionId)||""," ").concat((null===e||void 0===e?void 0:e.chequeNumber)||""," ").concat((null===e||void 0===e?void 0:e.cardNumber)||"").trim()).filter(Boolean).join("\n"):e.type===U.K$&&null!==(a=e.receiptInvoice)&&void 0!==a&&a.paymentModes?e.receiptInvoice.paymentModes.map(e=>"".concat((null===e||void 0===e?void 0:e.type)||""," ").concat((null===e||void 0===e?void 0:e.bankName)||""," ").concat((null===e||void 0===e?void 0:e.transactionId)||""," ").concat((null===e||void 0===e?void 0:e.chequeNumber)||""," ").concat((null===e||void 0===e?void 0:e.cardNumber)||"").trim()).filter(Boolean).join("\n"):null!==(l=e.deposit)&&void 0!==l&&l.paymentModes?e.deposit.paymentModes.map(e=>"".concat(e.paymentMode||""," ").concat(e.bankName||""," ").concat(e.chequeNumber||""," ").concat(e.cardNumber||"").trim()).filter(Boolean).join("\n"):null!==(n=e.advancePayment)&&void 0!==n&&n.paymentModes?e.advancePayment.paymentModes.map(e=>"".concat(e.paymentMode||""," ").concat(e.bankName||""," ").concat(e.chequeNumber||""," ").concat(e.cardNumber||"").trim()).filter(Boolean).join("\n"):""}}:null,a!==W&&a!==V?{name:"Paid Amount",selector:e=>{var t;return e.intern&&e.receipt?e.receipt.totalAmount:e.type===U.K$?(null===(t=e.receiptInvoice)||void 0===t?void 0:t.payable)||"":e.deposit?e.deposit.totalAmount||"":e.advancePayment&&e.advancePayment.totalAmount||""}}:null,a===W?{name:"Total Invoiced Amount",selector:e=>e.totalPayable||""}:null,a===W?{name:"Total Paid Amount",selector:e=>e.totalAdvancePayment||""}:null,a===W?{name:"Total Due Amount",selector:e=>e.dueAmount||"",style:{color:"red",fontWeight:"bold"}}:null];return(0,g.jsx)(l.Fragment,{children:(0,g.jsx)("div",{children:(0,g.jsx)("div",{className:"table-auto mt-5",children:(0,g.jsx)("div",{className:"table-responsive-sm h-auto table-card mt- mb-1 px-3 overflow-auto",children:(0,g.jsx)(he.Ay,{fixedHeader:!0,columns:s.filter(e=>null!==e),data:(null===t||void 0===t?void 0:t.map(e=>(0,w.A)((0,w.A)({},e),{},{id:e._id})))||[],highlightOnHover:!0})})})})})},xe=(0,d.Ng)(e=>({data:e.Report.data,centerAccess:e.User.centerAccess}))(e=>{let{data:t,centerAccess:a}=e;const n=(0,d.wA)(),[i,s]=(0,l.useState)({start:(0,f.A)(new Date),end:(0,N.A)(new Date)}),[o,r]=(0,l.useState)(""),[c,m]=(0,l.useState)(""),[u,v]=(0,l.useState)(G),[p,h]=(0,l.useState)(""),[x,b]=(0,l.useState)(!1),[j,A]=(0,l.useState)(""),[w,P]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{u===W&&r(q);const e=(0,f.A)(i.start),t=(0,N.A)(i.end);n((0,y.HXl)({startDate:e,endDate:t,patient:(null===c||void 0===c?void 0:c._id)||"",billType:u,patientsReferrel:j.trim(),sortPatientStatus:p,centerAccess:a}))},[i,u,c,a,p,j,n]),(0,g.jsx)(l.Fragment,{children:(0,g.jsx)("div",{className:"pt-4",children:(0,g.jsxs)("div",{className:"bg-white p-2 m-n3",children:[(0,g.jsx)(D.A,{reportDate:i,setReportDate:s}),(0,g.jsx)(k.A,{}),(0,g.jsx)(de,{data:t,billType:u,setBillType:v,patient:c,setPatient:m,toggle:()=>P(!w),sortByDate:o,setSortByDate:r,sortPatientStatus:p,diagnosisCol:x,setDiagnosisCol:b,patientsReferrel:j,setSortPatientStatus:h,setPatientsReferrel:A}),(0,g.jsx)(pe,{sortPatientStatus:p,setSortPatientStatus:h,sortByDate:o,setSortByDate:r,diagnosisCol:x,setDiagnosisCol:b,isOpen:w,patientsReferrel:j,setPatientsReferrel:A,setPatient:m}),(0,g.jsx)(oe,{billType:u,data:t}),(0,g.jsx)(ye,{data:t,sortPatientStatus:p,sortByDate:o,billType:u,diagnosisCol:x,patientsReferrel:j})]})})})}),be=e=>(0,g.jsx)("div",{});var ge=a(95117),je=a(50986),Ae=a(56403);const fe=(0,d.Ng)(e=>({data:e.Report.patient,centerAccess:e.User.centerAccess}))(e=>{let{centerAccess:t}=e;const[a,n]=(0,l.useState)({start:(0,f.A)(new Date),end:(0,N.A)(new Date)}),[i,d]=(0,l.useState)(""),[o,r]=(0,l.useState)(""),[c,m]=(0,l.useState)([]),[u,v]=(0,l.useState)(1),[p,h]=(0,l.useState)(0),[y,x]=(0,l.useState)(1),[b,j]=(0,l.useState)(10),[A,P]=(0,l.useState)([]),[I,C]=(0,l.useState)(!1),B=(0,l.useRef)();(0,l.useEffect)(()=>{(async()=>{try{const n=await Ae.A.get(je.kAQ,{params:{page:u,limit:b,startDate:a.start.toISOString(),endDate:a.end.toISOString(),filter:i,val:o,centerAccess:t}});var e,l;n.success&&(m(n.payload||[]),x((null===(e=n.pagination)||void 0===e?void 0:e.totalPages)||1),h(null===n||void 0===n||null===(l=n.pagination)||void 0===l?void 0:l.total))}catch(n){console.error("Failed to fetch patient analytics",n)}})()},[u,a,i,b,t,o]);const R=[{name:"#",selector:(e,t)=>t+1},{name:"Center",selector:e=>{var t;return null===(t=e.center)||void 0===t?void 0:t.title}},{name:"Patient",selector:e=>{var t;return null===(t=e.patient)||void 0===t?void 0:t.name},wrap:!0},{name:"UID",selector:e=>{var t,a,l,n;return"".concat(null===(t=e.patient)||void 0===t||null===(a=t.id)||void 0===a?void 0:a.prefix).concat(null===(l=e.patient)||void 0===l||null===(n=l.id)||void 0===n?void 0:n.value)}},{name:"Doctor",selector:e=>{var t,a,l,n,i,s,d,o;const r=(null===e||void 0===e||null===(t=e.doctors)||void 0===t?void 0:t.length)>0?e.doctors.map(e=>{var t;return null!==e&&void 0!==e&&e.name?e.name:null!==e&&void 0!==e&&null!==(t=e.doctor)&&void 0!==t&&t.name?e.doctor.name:""}).filter(Boolean).join(", "):null,c=(null===e||void 0===e||null===(a=e.addmission)||void 0===a||null===(l=a.doctors)||void 0===l?void 0:l.length)>0?e.addmission.doctors.map(e=>(null===e||void 0===e?void 0:e.name)||"").filter(Boolean).join(", "):null,m=(null===e||void 0===e||null===(n=e.addmission)||void 0===n||null===(i=n.doctor)||void 0===i?void 0:i.name)||(null===e||void 0===e||null===(s=e.doctor)||void 0===s?void 0:s.name)||(null===e||void 0===e||null===(d=e.patient)||void 0===d||null===(o=d.doctor)||void 0===o?void 0:o.name)||"-";return r||c||m},wrap:!0},{name:"Psychologist",selector:e=>{var t,a,l,n,i,s,d,o;const r=(null===e||void 0===e||null===(t=e.psychologists)||void 0===t?void 0:t.length)>0?e.psychologists.map(e=>{var t;return null!==e&&void 0!==e&&e.name?e.name:null!==e&&void 0!==e&&null!==(t=e.psychologist)&&void 0!==t&&t.name?e.psychologist.name:""}).filter(Boolean).join(", "):null,c=(null===e||void 0===e||null===(a=e.addmission)||void 0===a||null===(l=a.psychologists)||void 0===l?void 0:l.length)>0?e.addmission.psychologists.map(e=>(null===e||void 0===e?void 0:e.name)||"").filter(Boolean).join(", "):null,m=(null===e||void 0===e||null===(n=e.addmission)||void 0===n||null===(i=n.psychologist)||void 0===i?void 0:i.name)||(null===e||void 0===e||null===(s=e.psychologist)||void 0===s?void 0:s.name)||(null===e||void 0===e||null===(d=e.patient)||void 0===d||null===(o=d.psychologist)||void 0===o?void 0:o.name)||"-";return r||c||m},wrap:!0},{name:"Gender",selector:e=>{var t;return null===(t=e.patient)||void 0===t?void 0:t.gender}},{name:"Referred By",selector:e=>{var t;return null===(t=e.patient)||void 0===t?void 0:t.referredBy},wrap:!0},{name:"Phone No",selector:e=>{var t;return null===(t=e.patient)||void 0===t?void 0:t.phoneNumber}},{name:"Age",selector:e=>{var t;return(0,ge.A)(new Date,new Date(null===(t=e.patient)||void 0===t?void 0:t.dateOfBirth))+" years"}},{name:"Guardian",selector:e=>{var t;return null===(t=e.patient)||void 0===t?void 0:t.guardianName},wrap:!0},{name:"Guardian Number",selector:e=>{var t;return null===(t=e.patient)||void 0===t?void 0:t.guardianPhoneNumber},wrap:!0},{name:"Admission Date",selector:e=>e.addmissionDate?(0,S.A)(new Date(e.addmissionDate),"d MMM yyyy hh:mm a"):"",wrap:!0},{name:"Discharge Date",selector:e=>e.dischargeDate?(0,S.A)(new Date(e.dischargeDate),"d MMM yyyy hh:mm a"):"",wrap:!0}],O={name:"Bill Cycle Date",selector:e=>{var t;return null!==(t=e.addmission)&&void 0!==t&&t.addmissionDate?(0,S.A)(new Date(e.addmission.addmissionDate),"d"):""},wrap:!0},E={name:"Admission Date",selector:e=>{var t;return null!==(t=e.addmission)&&void 0!==t&&t.addmissionDate?(0,S.A)(new Date(e.addmission.addmissionDate),"d MMM yyyy hh:mm a"):""},wrap:!0},F={name:"Discharge Date",selector:e=>{var t;return null!==(t=e.addmission)&&void 0!==t&&t.dischargeDate?(0,S.A)(new Date(e.addmission.dischargeDate),"d MMM yyyy hh:mm a"):""},wrap:!0},L=[{name:"#",selector:(e,t)=>t+1},{name:"Center",selector:e=>{var t;return null===(t=e.center)||void 0===t?void 0:t.title}},{name:"Patient",selector:e=>null===e||void 0===e?void 0:e.name,wrap:!0},{name:"UID",selector:e=>{var t,a;return"".concat(null===e||void 0===e||null===(t=e.uid)||void 0===t?void 0:t.prefix).concat(null===e||void 0===e||null===(a=e.uid)||void 0===a?void 0:a.value)}},{name:"Gender",selector:e=>null===e||void 0===e?void 0:e.gender},{name:"Referred By",selector:e=>null===e||void 0===e?void 0:e.referredBy,wrap:!0},{name:"Doctor",selector:e=>{var t,a,l,n,i;return(null===e||void 0===e||null===(t=e.addmission)||void 0===t||null===(a=t.doctors)||void 0===a?void 0:a.length)>0?e.addmission.doctors.map(e=>(null===e||void 0===e?void 0:e.name)||"").filter(Boolean).pop()||"\u2014":(null===e||void 0===e||null===(l=e.addmission)||void 0===l||null===(n=l.doctor)||void 0===n?void 0:n.name)||(null===e||void 0===e||null===(i=e.doctor)||void 0===i?void 0:i.name)||"\u2014"},wrap:!0},{name:"Psychologist",selector:e=>{var t,a,l,n,i;return(null===e||void 0===e||null===(t=e.addmission)||void 0===t||null===(a=t.psychologists)||void 0===a?void 0:a.length)>0?e.addmission.psychologists.map(e=>(null===e||void 0===e?void 0:e.name)||"").filter(Boolean).pop()||"\u2014":(null===e||void 0===e||null===(l=e.addmission)||void 0===l||null===(n=l.psychologist)||void 0===n?void 0:n.name)||(null===e||void 0===e||null===(i=e.psychologist)||void 0===i?void 0:i.name)||"\u2014"},wrap:!0},{name:"Phone No",selector:e=>null===e||void 0===e?void 0:e.phoneNumber},{name:"Age",selector:e=>null!==e&&void 0!==e&&e.dateOfBirth?(0,ge.A)(new Date,new Date(null===e||void 0===e?void 0:e.dateOfBirth))+" years":""},{name:"Guardian",selector:e=>null===e||void 0===e?void 0:e.guardianName,wrap:!0},{name:"Guardian Number",selector:e=>null===e||void 0===e?void 0:e.guardianPhoneNumber,wrap:!0},{name:"IPD File NUmber",selector:e=>e.ipdFileNumber}],_=[...L,E,O],U=[...L,E,F],G=L;return(0,g.jsx)(l.Fragment,{children:(0,g.jsx)("div",{className:"pt-4",children:(0,g.jsxs)("div",{className:"bg-white p-2 m-n3",children:[(0,g.jsx)("div",{className:"",children:(0,g.jsxs)("h6",{className:"display-6 fs-6 my-3",children:["Total Patients:- ",p]})}),(0,g.jsx)(D.A,{reportDate:a,setReportDate:n}),(0,g.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[(0,g.jsxs)("div",{className:"d-flex gap-2",children:[(0,g.jsxs)(M.A,{type:"select",value:i,onChange:e=>{d(e.target.value)},children:[(0,g.jsx)("option",{value:"",children:"General"}),(0,g.jsx)("option",{value:"ADMITTED_PATIENTS",children:"Admitted Patients"}),(0,g.jsx)("option",{value:"DISCHARGED_PATIENTS",children:"Discharged Patients"}),(0,g.jsx)("option",{value:"ALL_PATIENTS",children:"All Patients"})]}),(0,g.jsx)(M.A,{type:"select",value:b,onChange:e=>{j(Number(e.target.value)),v(1)},style:{width:"100px"},children:[10,20,30,40,50].map(e=>(0,g.jsx)("option",{value:e,children:e},e))})]}),(0,g.jsxs)("div",{children:["ADMITTED_PATIENTS"===i&&("ALL_ADMITTED"===o?(0,g.jsx)(s.A,{color:"info",onClick:()=>r(""),style:{marginRight:"10px"},children:"Back to dates"}):(0,g.jsx)(s.A,{color:"info",onClick:()=>r("ALL_ADMITTED"),style:{marginRight:"10px"},children:"Show All Admitted Patients"})),(0,g.jsx)(s.A,{color:"info",onClick:async()=>{try{C(!0);const e=await Ae.A.get(je.uY1,{params:{startDate:a.start.toISOString(),endDate:a.end.toISOString(),filter:i,val:o,centerAccess:t}});if(e.success){const t=(e.payload||[]).map((e,t)=>{var a,l,n,i,s,d,o,r,c,m,u,v,p,h,y,x,b,g,j,A,f;return(0,w.A)((0,w.A)({},e),{},{id:t+1,uid:"".concat((null===e||void 0===e||null===(a=e.id)||void 0===a?void 0:a.prefix)||(null===e||void 0===e||null===(l=e.patient)||void 0===l||null===(n=l.id)||void 0===n?void 0:n.prefix)||"").concat((null===e||void 0===e||null===(i=e.id)||void 0===i?void 0:i.value)||(null===e||void 0===e||null===(s=e.patient)||void 0===s||null===(d=s.id)||void 0===d?void 0:d.value)||""),age:null!==e&&void 0!==e&&e.dateOfBirth?(0,ge.A)(new Date,new Date(null===e||void 0===e?void 0:e.dateOfBirth)):null!==e&&void 0!==e&&null!==(o=e.patient)&&void 0!==o&&o.dateOfBirth?(0,ge.A)(new Date,new Date(null===(r=e.patient)||void 0===r?void 0:r.dateOfBirth)):"",doctor:null!==e&&void 0!==e&&null!==(c=e.addmission)&&void 0!==c&&null!==(m=c.doctors)&&void 0!==m&&m.length?e.addmission.doctors.map(e=>(null===e||void 0===e?void 0:e.name)||"").pop()||"":(null===e||void 0===e||null===(u=e.doctor)||void 0===u?void 0:u.name)||(null===e||void 0===e||null===(v=e.addmission)||void 0===v||null===(p=v.doctor)||void 0===p?void 0:p.name)||"",psychologist:null!==e&&void 0!==e&&null!==(h=e.addmission)&&void 0!==h&&null!==(y=h.psychologists)&&void 0!==y&&y.length?e.addmission.psychologists.map(e=>(null===e||void 0===e?void 0:e.name)||"").pop()||"":(null===e||void 0===e||null===(x=e.psychologist)||void 0===x?void 0:x.name)||(null===e||void 0===e||null===(b=e.addmission)||void 0===b||null===(g=b.psychologist)||void 0===g?void 0:g.name)||"",addmissionDate:null!==e&&void 0!==e&&null!==(j=e.addmission)&&void 0!==j&&j.addmissionDate?(0,S.A)(new Date(e.addmission.addmissionDate),"d MMM yyyy hh:mm a"):null!==e&&void 0!==e&&e.addmissionDate?(0,S.A)(new Date(e.addmissionDate),"d MMM yyyy hh:mm a"):"",dischargeDate:null!==e&&void 0!==e&&null!==(A=e.addmission)&&void 0!==A&&A.dischargeDate?(0,S.A)(new Date(e.addmission.dischargeDate),"d MMM yyyy hh:mm a"):null!==e&&void 0!==e&&e.dischargeDate?(0,S.A)(new Date(e.dischargeDate),"d MMM yyyy hh:mm a"):"",billCycleDate:null!==e&&void 0!==e&&null!==(f=e.addmission)&&void 0!==f&&f.addmissionDate?(0,S.A)(new Date(e.addmission.addmissionDate),"d"):""})});P(t),setTimeout(()=>{B.current.link.click()},100)}}catch(e){console.error("Failed to fetch full patient analytics",e)}finally{C(!1)}},disabled:I,children:I?"Preparing CSV...":"Export CSV"}),(0,g.jsx)(T.CSVLink,{data:A||[],filename:"reports.csv",headers:"ADMITTED_PATIENTS"===i?[{label:"#",key:"id"},{label:"Center",key:"center.title"},{label:"Patient",key:"name"},{label:"UID",key:"uid"},{label:"Gender",key:"gender"},{label:"Referred By",key:"referredBy"},{label:"Phone No",key:"phoneNumber"},{label:"Doctor",key:"doctor"},{label:"Psychologist",key:"psychologist"},{label:"Age",key:"age"},{label:"Guardian",key:"guardianName"},{label:"Guardian Number",key:"guardianPhoneNumber"},{label:"IPD File No",key:"ipdFileNumber"},{label:"Addmission Date",key:"addmissionDate"},{label:"Bill Cycle Date",key:"billCycleDate"}]:"DISCHARGED_PATIENTS"===i?[{label:"#",key:"id"},{label:"Center",key:"center.title"},{label:"Patient",key:"name"},{label:"UID",key:"uid"},{label:"Gender",key:"gender"},{label:"Referred By",key:"referredBy"},{label:"Phone No",key:"phoneNumber"},{label:"Doctor",key:"doctor"},{label:"Psychologist",key:"psychologist"},{label:"Age",key:"age"},{label:"Guardian",key:"guardianName"},{label:"Guardian Number",key:"guardianPhoneNumber"},{label:"IPD File No",key:"ipdFileNumber"},{label:"Addmission Date",key:"addmissionDate"},{label:"Discharge Date",key:"dischargeDate"}]:"ALL_PATIENTS"===i?[{label:"#",key:"id"},{label:"Center",key:"center.title"},{label:"Patient",key:"name"},{label:"UID",key:"uid"},{label:"Gender",key:"gender"},{label:"Phone No",key:"phoneNumber"},{label:"Doctor",key:"doctor"},{label:"Psychologist",key:"psychologist"},{label:"Age",key:"age"},{label:"Referred By",key:"referredBy"},{label:"Guardian",key:"guardianName"},{label:"Guardian Number",key:"guardianPhoneNumber"},{label:"IPD File No",key:"ipdFileNumber"}]:[{label:"#",key:"id"},{label:"Center",key:"center.title"},{label:"Patient",key:"patient.name"},{label:"UID",key:"uid"},{label:"Gender",key:"patient.gender"},{label:"Referred By",key:"patient.referredBy"},{label:"Phone No",key:"patient.phoneNumber"},{label:"Doctor",key:"doctor"},{label:"Psychologist",key:"psychologist"},{label:"Age",key:"age"},{label:"Guardian",key:"guardianName"},{label:"Guardian Number",key:"guardianPhoneNumber"},{label:"Addmission Date",key:"addmissionDate"},{label:"Discharge Date",key:"dischargeDate"}],className:"d-none",ref:B})]})]}),(0,g.jsx)(k.A,{}),(0,g.jsx)(he.Ay,{fixedHeader:!0,columns:"ADMITTED_PATIENTS"===i?_:"ALL_PATIENTS"===i?G:"DISCHARGED_PATIENTS"===i?U:R,data:(null===c||void 0===c?void 0:c.map(e=>(0,w.A)((0,w.A)({},e),{},{uid:e.id,id:e._id})))||[],highlightOnHover:!0}),(0,g.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-3",children:[(0,g.jsx)(s.A,{disabled:1===u,onClick:()=>v(e=>Math.max(e-1,1)),children:"Prev"}),(0,g.jsxs)("span",{children:["Page ",u," of ",y]}),(0,g.jsx)(s.A,{disabled:u===y,onClick:()=>v(e=>e+1),children:"Next"})]})]})})})}),Ne=(0,d.Ng)(e=>({data:e.Report.lead,centerAccess:e.User.centerAccess}))(e=>{let{data:t,centerAccess:a}=e;const n=(0,d.wA)(),[i,s]=(0,l.useState)({start:(0,f.A)(new Date),end:(0,N.A)(new Date)});(0,l.useEffect)(()=>{const e=(0,f.A)(i.start),t=(0,N.A)(i.end);n((0,y.b0K)({startDate:e,endDate:t,centerAccess:a}))},[n,i,a]);const o=[{name:"#",selector:(e,t)=>t+1},{name:"Date",selector:e=>e.date?(0,S.A)(new Date(e.date),"d MMM yyyy hh:mm a"):""},{name:"Center",selector:e=>{var t;return null===(t=e.location)||void 0===t?void 0:t.map(e=>e.title).join(", ")}},{name:"Patient Name",selector:e=>{var t;return null===(t=e.patient)||void 0===t?void 0:t.name}},{name:"Attended By",selector:e=>e.attendedBy}];return(0,g.jsx)(l.Fragment,{children:(0,g.jsx)("div",{className:"pt-4",children:(0,g.jsxs)("div",{className:"bg-white p-2 m-n3",children:[(0,g.jsx)(D.A,{reportDate:i,setReportDate:s}),(0,g.jsx)(k.A,{}),(0,g.jsx)("div",{className:"text-end mt-3",children:(0,g.jsx)(T.CSVLink,{data:(null===t||void 0===t?void 0:t.map((e,t)=>{var a;return(0,w.A)((0,w.A)({},e),{},{id:t+1,date:e.date?(0,S.A)(new Date(e.date),"d MMM yyyy hh:mm a"):"",location:null===(a=e.location)||void 0===a?void 0:a.map(e=>e.title).join(", ")})}))||[],title:"CSV Download",filename:"reports.csv",headers:[{label:"#",key:"id"},{label:"Date",key:"date"},{label:"Center",key:"location"},{label:"Patient Name",key:"patient.name"},{label:"Attended By",key:"attendedBy"}],className:"btn btn-info px-2 ms-3",children:(0,g.jsx)("i",{className:"ri-file-paper-2-line text-light text-decoration-none"})})}),(0,g.jsx)(he.Ay,{fixedHeader:!0,columns:o,data:(null===t||void 0===t?void 0:t.map(e=>(0,w.A)((0,w.A)({},e),{},{id:e._id})))||[],highlightOnHover:!0})]})})})});var De=a(3926);const ke=(0,d.Ng)(e=>({data:e.Report.opd,centerAccess:e.User.centerAccess}))(e=>{let{data:t,centerAccess:a}=e;const n=(0,d.wA)(),[i,s]=(0,l.useState)({start:(0,f.A)(new Date),end:(0,N.A)(new Date)});(0,l.useEffect)(()=>{const e=(0,f.A)(i.start),t=(0,N.A)(i.end);n((0,y.MNB)({startDate:e,endDate:t,centerAccess:a}))},[n,i,a]);const o=[{name:"#",selector:(e,t)=>t+1},{name:"Patient Name",selector:e=>{var t;return null===(t=e.patient)||void 0===t?void 0:t.name}},{name:"UID",selector:e=>{var t,a,l,n;return"".concat(null===(t=e.patient)||void 0===t||null===(a=t.id)||void 0===a?void 0:a.prefix).concat(null===(l=e.patient)||void 0===l||null===(n=l.id)||void 0===n?void 0:n.value)}},{name:"Doctor",selector:e=>{var t;return null===(t=e.doctor)||void 0===t?void 0:t.name},wrap:!0},{name:"Date",selector:e=>"On ".concat((0,S.A)(new Date(e.startDate),"dd MMM yyyy")," at \n ").concat((0,S.A)(new Date(e.startDate),"hh:mm a")," for ").concat((0,De.A)(new Date(null===e||void 0===e?void 0:e.endDate),new Date(null===e||void 0===e?void 0:e.startDate))," mins"),wrap:!0},{name:"Center",selector:e=>{var t;return null===(t=e.center)||void 0===t?void 0:t.title}},{name:"Appointment Type",selector:e=>e.consultationType},{name:"Patient Ph Number",selector:e=>{var t;return null===(t=e.patient)||void 0===t?void 0:t.phoneNumber},wrap:!0},{name:"Prescribed",selector:e=>null!==e&&void 0!==e&&e.chart?"Yes":"No"},{name:"Paid Amount",selector:e=>{var t,a;return null===(t=e.bill)||void 0===t||null===(a=t.receiptInvoice)||void 0===a?void 0:a.payable}},{name:"Payment Mode",selector:e=>{var t,a,l;return null===(t=e.bill)||void 0===t||null===(a=t.receiptInvoice)||void 0===a||null===(l=a.paymentModes)||void 0===l?void 0:l.map(e=>"".concat(e.amount," - ").concat(e.type," ").concat(e.transactionId||""," ").concat(e.bank||""," ").concat(e.chequeNumber||""," ").concat(e.cardNumber||"")).join(", ")},wrap:!0}];return(0,g.jsx)(l.Fragment,{children:(0,g.jsx)("div",{className:"pt-4",children:(0,g.jsxs)("div",{className:"bg-white p-2 m-n3",children:[(0,g.jsx)(D.A,{reportDate:i,setReportDate:s}),(0,g.jsx)(k.A,{}),(0,g.jsx)("div",{className:"text-end mt-3",children:(0,g.jsx)(T.CSVLink,{data:(null===t||void 0===t?void 0:t.map((e,t)=>{var a,l,n,i,s,d,o,r,c;return(0,w.A)((0,w.A)({},e),{},{id:t+1,uid:"".concat(null===(a=e.patient)||void 0===a||null===(l=a.id)||void 0===l?void 0:l.prefix).concat(null===(n=e.patient)||void 0===n||null===(i=n.id)||void 0===i?void 0:i.value),paymentMode:null===(s=e.bill)||void 0===s||null===(d=s.receiptInvoice)||void 0===d||null===(o=d.paymentModes)||void 0===o?void 0:o.map(e=>"".concat(e.amount," - ").concat(e.type," ").concat(e.transactionId||""," ").concat(e.bank||""," ").concat(e.chequeNumber||""," ").concat(e.cardNumber||"")).join(", "),prescribed:null!==e&&void 0!==e&&e.chart?"Yes":"No",paidAmount:null===(r=e.bill)||void 0===r||null===(c=r.receiptInvoice)||void 0===c?void 0:c.payable,date:"On ".concat((0,S.A)(new Date(e.startDate),"dd MMM yyyy")," at \n ").concat((0,S.A)(new Date(e.startDate),"hh:mm a")," for ").concat((0,De.A)(new Date(null===e||void 0===e?void 0:e.endDate),new Date(null===e||void 0===e?void 0:e.startDate))," mins")})}))||[],title:"CSV Download",filename:"reports.csv",headers:[{label:"#",key:"id"},{label:"Patient",key:"patient.name"},{label:"UID",key:"uid"},{label:"Doctor",key:"doctor.name"},{label:"Date",key:"date"},{label:"Center",key:"center.title"},{label:"Appointment Type",key:"consultationType"},{label:"Patient Phone No",key:"patient.phoneNumber"},{label:"Prescribed",key:"prescribed"},{label:"Paid Amount",key:"paidAmount"},{label:"Payment Mode",key:"paymentMode"}],className:"btn btn-info px-2 ms-3",children:(0,g.jsx)("i",{className:"ri-file-paper-2-line text-light text-decoration-none"})})}),(0,g.jsx)(he.Ay,{fixedHeader:!0,columns:o,data:(null===t||void 0===t?void 0:t.map(e=>(0,w.A)((0,w.A)({},e),{},{id:e._id})))||[],highlightOnHover:!0})]})})})});var we=a(24410),Pe=a(81509),Ie=a(91491),Ce=a(49120),Me=a(57683),Se=a(55080);const Te=e=>{let{onRefresh:t,onToggleFilters:a,showFilters:l,loading:n}=e;return(0,g.jsxs)(Se.A,{className:"d-flex justify-content-between align-items-center",children:[(0,g.jsxs)("div",{children:[(0,g.jsxs)("h5",{className:"mb-0",children:[(0,g.jsx)("i",{className:"fas fa-chart-line mr-2"}),"Activity Logs"]}),(0,g.jsx)("small",{className:"text-muted",children:"Monitor system activities and user actions"})]}),(0,g.jsxs)("div",{className:"d-flex gap-2",children:[(0,g.jsxs)(s.A,{color:"primary",outline:!0,onClick:t,disabled:n,className:"btn-sm",style:{minWidth:"120px"},children:[(0,g.jsx)("i",{className:"fas fa-sync-alt mr-1"}),"Refresh"]}),(0,g.jsxs)(s.A,{color:"outline-secondary",onClick:a,className:"btn-sm",style:{minWidth:"120px"},children:[(0,g.jsx)("i",{className:"fas fa-filter mr-1"}),l?"Hide":"Show"," Filters",(0,g.jsx)("i",{className:"fas fa-chevron-".concat(l?"up":"down"," ml-1")})]})]})]})},Be=e=>{let{filters:t,onFilterChange:a,onApplyFilters:l,onClearFilters:n,loading:i}=e;return(0,g.jsx)(ce.A,{className:"mb-4 border-light",children:(0,g.jsxs)(me.A,{className:"p-0",children:[(0,g.jsxs)(I.A,{children:[(0,g.jsx)(C.A,{md:2,children:(0,g.jsxs)("div",{children:[(0,g.jsxs)("label",{htmlFor:"action",children:[(0,g.jsx)("i",{className:"fas fa-chart-line mr-1"}),"Action Type"]}),(0,g.jsxs)(M.A,{type:"select",name:"action",id:"action",value:t.action,onChange:a,children:[(0,g.jsx)("option",{value:"",children:"All Actions"}),(0,g.jsx)("option",{value:"delete",children:"Delete"}),(0,g.jsx)("option",{value:"update",children:"Update"}),(0,g.jsx)("option",{value:"create",children:"Create"})]})]})}),(0,g.jsx)(C.A,{md:2,children:(0,g.jsxs)("div",{children:[(0,g.jsxs)("label",{htmlFor:"collectionName",children:[(0,g.jsx)("i",{className:"fas fa-database mr-1"}),"Collection"]}),(0,g.jsxs)(M.A,{type:"select",name:"collectionName",id:"collectionName",value:t.collectionName,onChange:a,children:[(0,g.jsx)("option",{value:"",children:"All Collections"}),(0,g.jsx)("option",{value:"Patient",children:"Patient"}),(0,g.jsx)("option",{value:"Bill",children:"Bill"}),(0,g.jsx)("option",{value:"Chart",children:"Chart"}),(0,g.jsx)("option",{value:"Center",children:"Center"}),(0,g.jsx)("option",{value:"ssrsTest",children:"SSRS Test"}),(0,g.jsx)("option",{value:"Lead",children:"Lead"}),(0,g.jsx)("option",{value:"Intern",children:"Intern"}),(0,g.jsx)("option",{value:"Addmission",children:"Admission"}),(0,g.jsx)("option",{value:"User",children:"User"})]})]})}),(0,g.jsx)(C.A,{md:2,children:(0,g.jsxs)("div",{children:[(0,g.jsxs)("label",{htmlFor:"startDate",children:[(0,g.jsx)("i",{className:"fas fa-calendar mr-1"}),"Start Date"]}),(0,g.jsx)(M.A,{type:"date",name:"startDate",id:"startDate",value:t.startDate,onChange:a})]})}),(0,g.jsx)(C.A,{md:2,children:(0,g.jsxs)("div",{children:[(0,g.jsxs)("label",{htmlFor:"endDate",children:[(0,g.jsx)("i",{className:"fas fa-calendar mr-1"}),"End Date"]}),(0,g.jsx)(M.A,{type:"date",name:"endDate",id:"endDate",value:t.endDate,onChange:a})]})}),(0,g.jsx)(C.A,{md:4,children:(0,g.jsxs)("div",{children:[(0,g.jsxs)("label",{htmlFor:"search",children:[(0,g.jsx)("i",{className:"fas fa-search mr-1"}),"Search Notes"]}),(0,g.jsx)(M.A,{type:"text",name:"search",id:"search",placeholder:"Search in notes...",value:t.search,onChange:a})]})})]}),(0,g.jsx)(I.A,{className:"mt-3",children:(0,g.jsxs)(C.A,{md:12,className:"d-flex gap-3 justify-content-end",children:[(0,g.jsx)(s.A,{color:"primary",onClick:l,className:"btn-sm",style:{minWidth:"100px"},disabled:i,children:"Apply Filters"}),(0,g.jsx)(s.A,{color:"secondary",onClick:n,className:"btn-sm",style:{minWidth:"100px"},disabled:i,children:"Clear Filters"})]})})]})})};var Re=a(3655),Oe=a(89804);const Ee=e=>{let{data:t,loading:a}=e;return a?(0,g.jsxs)("div",{className:"text-center py-4",children:[(0,g.jsx)(O.A,{color:"primary"}),(0,g.jsx)("p",{className:"mt-2",children:"Loading logs..."})]}):t&&0!==t.length?(0,g.jsx)("div",{className:"table-responsive",children:(0,g.jsxs)(Re.A,{striped:!0,hover:!0,className:"mb-0",children:[(0,g.jsx)("thead",{className:"thead-light",children:(0,g.jsxs)("tr",{children:[(0,g.jsxs)("th",{children:[(0,g.jsx)("i",{className:"fas fa-clock mr-1"}),"#"]}),(0,g.jsxs)("th",{children:[(0,g.jsx)("i",{className:"fas fa-clock mr-1"}),"Timestamp"]}),(0,g.jsxs)("th",{children:[(0,g.jsx)("i",{className:"fas fa-chart-line mr-1"}),"Action"]}),(0,g.jsxs)("th",{children:[(0,g.jsx)("i",{className:"fas fa-database mr-1"}),"Collection"]}),(0,g.jsxs)("th",{children:[(0,g.jsx)("i",{className:"fas fa-id-card mr-1"}),"UID"]}),(0,g.jsxs)("th",{children:[(0,g.jsx)("i",{className:"fas fa-database mr-1"}),"Source"]}),(0,g.jsx)("th",{children:"Details"}),(0,g.jsx)("th",{children:"Changes"})]})}),(0,g.jsx)("tbody",{children:t.map((e,t)=>{const a=(e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"delete":return{color:"danger",icon:"\ud83d\uddd1\ufe0f",text:"Delete"};case"update":return{color:"warning",icon:"\u270f\ufe0f",text:"Update"};case"create":return{color:"success",icon:"\u2795",text:"Create"};default:return{color:"secondary",icon:"\ud83d\udcdd",text:e||"Unknown"}}})(e.action),l=e.date;return(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:(0,g.jsx)("div",{className:"d-flex flex-column",children:(0,g.jsx)("small",{className:"text-muted",children:t+1})})}),(0,g.jsx)("td",{children:(0,g.jsx)("div",{className:"d-flex flex-column",children:(0,g.jsx)("small",{className:"text-muted",children:l&&(0,S.A)(new Date(l),"dd/MM/yyyy hh:mm a")})})}),(0,g.jsx)("td",{children:(0,g.jsxs)(Oe.A,{color:a.color,className:"d-flex align-items-center",children:[(0,g.jsx)("span",{className:"mr-1",children:a.icon}),a.text]})}),(0,g.jsx)("td",{children:(0,g.jsxs)("div",{className:"d-flex align-items-center",children:[(0,g.jsx)(Oe.A,{color:"info",className:"mr-2",children:e.collectionName||"Unknown"}),e.documentId&&(0,g.jsxs)("small",{className:"text-muted",children:["ID: ",e.documentId]})]})}),(0,g.jsx)("td",{children:(0,g.jsx)("div",{className:"d-flex flex-column",children:(0,g.jsx)("small",{className:"text-muted",children:e.uid||"N/A"})})}),(0,g.jsx)("td",{children:(0,g.jsx)(Oe.A,{color:"info",outline:!0,children:e.source||"System"})}),(0,g.jsx)("td",{children:(0,g.jsx)("small",{className:"text-muted",children:e.note||"No description"})}),(0,g.jsxs)("td",{children:[e.updatedFields&&Object.keys(e.updatedFields).length>0&&(0,g.jsx)("div",{className:"mb-1",children:(0,g.jsxs)("small",{className:"text-success",children:[(0,g.jsx)("strong",{children:"Updated:"})," ",Object.keys(e.updatedFields).join(", ")]})}),e.removedFields&&e.removedFields.length>0&&(0,g.jsx)("div",{children:(0,g.jsxs)("small",{className:"text-danger",children:[(0,g.jsx)("strong",{children:"Removed:"})," ",e.removedFields.join(", ")]})})]})]},e._id||t)})})]})}):(0,g.jsxs)("div",{className:"text-center py-5",children:[(0,g.jsx)("i",{className:"fas fa-database fa-3x text-muted mb-3"}),(0,g.jsx)("h5",{className:"text-muted",children:"No logs found"}),(0,g.jsx)("p",{className:"text-muted",children:"No activity logs available"})]})},Fe=(0,d.Ng)(e=>{var t,a,l;return{data:null===(t=e.DBLogs)||void 0===t?void 0:t.logs,loading:null===(a=e.DBLogs)||void 0===a?void 0:a.loading,totalItems:null===(l=e.DBLogs)||void 0===l?void 0:l.totalItems,pagination:e.DBLogs.pagination}})(e=>{let{data:t,loading:a,pagination:n}=e;const i=(0,d.wA)(),[s,o]=(0,l.useState)(null),[r,c]=(0,l.useState)(!1),[m,u]=(0,l.useState)(20),[v,p]=(0,l.useState)(1),[h,x]=(0,l.useState)({action:"",collectionName:"",startDate:"",endDate:"",search:""}),b=Math.ceil(n.totalItems/m),j=v<b,A=v>1,f=e=>{p(e)},N=()=>{const e=(0,w.A)({page:v,limit:m,sortBy:"date",sortOrder:"desc"},h);Object.keys(e).forEach(t=>{""!==e[t]&&null!==e[t]&&void 0!==e[t]||delete e[t]}),i((0,y.q7G)(e))};(0,l.useEffect)(()=>{N()},[v,m]),(0,l.useEffect)(()=>{N()},[]);return(0,g.jsx)(l.Fragment,{children:(0,g.jsx)("div",{className:"",children:(0,g.jsx)("div",{className:"row mt-4",children:(0,g.jsx)("div",{className:"col-12",children:(0,g.jsxs)(ce.A,{children:[(0,g.jsx)(Te,{onRefresh:()=>{N()},onToggleFilters:()=>c(!r),showFilters:r,loading:a}),(0,g.jsxs)(me.A,{children:[s&&(0,g.jsxs)(Pe.A,{color:"danger",className:"mb-3",children:[(0,g.jsx)("strong",{children:"Error:"})," ",s]}),(0,g.jsxs)(I.A,{className:"mb-3",children:[(0,g.jsx)(C.A,{md:6,children:(0,g.jsxs)(M.A,{type:"select",name:"itemsPerPage",value:m,onChange:e=>{const t=Number(e.target.value);u(t),p(1)},children:[(0,g.jsx)("option",{value:10,children:"10 per page"}),(0,g.jsx)("option",{value:20,children:"20 per page"}),(0,g.jsx)("option",{value:50,children:"50 per page"}),(0,g.jsx)("option",{value:100,children:"100 per page"})]})}),(0,g.jsx)(C.A,{md:6,children:(0,g.jsx)("div",{className:"text-right",children:(0,g.jsxs)("small",{className:"text-muted",children:["Total: ",n.totalItems," logs"]})})})]}),r&&(0,g.jsx)(Be,{filters:h,onFilterChange:e=>{const{name:t,value:a}=e.target;x(e=>(0,w.A)((0,w.A)({},e),{},{[t]:a}))},onApplyFilters:()=>{p(1),N()},onClearFilters:()=>{x({action:"",collectionName:"",startDate:"",endDate:"",search:""}),p(1)},loading:a}),(0,g.jsx)(Ee,{data:t,loading:a}),b>1&&(0,g.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-3",children:[(0,g.jsx)("div",{children:(0,g.jsxs)("small",{className:"text-muted",children:["Showing ",(v-1)*m+1," to"," ",Math.min(v*m,n.totalItems)," ","of ",n.totalItems," entries"]})}),(0,g.jsxs)(Ie.A,{className:"mb-0",style:{marginBottom:"0px"},children:[(0,g.jsx)(Ce.A,{disabled:!A,children:(0,g.jsx)(Me.A,{previous:!0,onClick:()=>f(v-1),disabled:!A})}),Array.from({length:b},(e,t)=>t+1).filter(e=>1===e||e===b||Math.abs(e-v)<=2).map((e,t,a)=>(0,g.jsxs)(l.Fragment,{children:[t>0&&a[t-1]!==e-1&&(0,g.jsx)(Ce.A,{disabled:!0,children:(0,g.jsx)(Me.A,{children:"..."})}),(0,g.jsx)(Ce.A,{active:e===v,children:(0,g.jsx)(Me.A,{onClick:()=>f(e),children:e})})]},e)),(0,g.jsx)(Ce.A,{disabled:!j,children:(0,g.jsx)(Me.A,{next:!0,onClick:()=>f(v+1),disabled:!j})})]})]})]})]})})})})})});var Le=a(29899),_e=a(25601);const Ue=(0,d.Ng)(e=>({centerAccess:e.User.centerAccess,data:e.Report.booking,totalPages:e.Report.totalPages,currentPage:e.Report.currentPage,limit:e.Report.limit,total:e.Report.total}))(e=>{let{centerAccess:t,data:a,totalPages:n,currentPage:i,limit:o,total:r}=e;const c=(0,d.wA)(),[m,u]=(0,l.useState)({start:(0,f.A)(new Date),end:(0,N.A)(new Date)}),[v,p]=(0,l.useState)(""),[h,x]=(0,l.useState)(""),[b,j]=(0,l.useState)(i||1),[A,P]=(0,l.useState)(o||10),[I,C]=(0,l.useState)([]),[B,R]=(0,l.useState)(!1),O=(0,l.useRef)();(0,l.useEffect)(()=>{j(i||1)},[i]);console.log(b,"page");(0,l.useEffect)(()=>{(async()=>{c((0,y.mBK)({page:b,limit:A,startDate:m.start.toISOString(),endDate:m.end.toISOString(),filter:v,val:h,centerAccess:t}))})()},[b,m,v,A,t,h]),console.log(a,"data");const E=[{name:"#",selector:(e,t)=>t+1},{name:"Center",selector:e=>{var t;return null===(t=e.center)||void 0===t?void 0:t.title}},{name:"Patient",selector:e=>{var t;return null===(t=e.patient)||void 0===t?void 0:t.name},wrap:!0,style:{textTransform:"capitalize"}},{name:"UID",selector:e=>{var t,a,l,n;return"".concat(null===(t=e.patient)||void 0===t||null===(a=t.id)||void 0===a?void 0:a.prefix).concat(null===(l=e.patient)||void 0===l||null===(n=l.id)||void 0===n?void 0:n.value)}},{name:"Doctor",selector:e=>{var t;return null===(t=e.doctor)||void 0===t?void 0:t.name},wrap:!0},{name:"Date",selector:e=>"".concat((0,S.A)(new Date(e.startDate),"d MMM yyyy hh:mm a")," for ").concat((0,De.A)(new Date(e.endDate),new Date(e.startDate))," minutes"),wrap:!0},{name:"Gender",selector:e=>{var t;return null===(t=e.patient)||void 0===t?void 0:t.gender}},{name:"Phone No",selector:e=>{var t,a;return(null===(t=e.patient)||void 0===t?void 0:t.dialCode)+(null===(a=e.patient)||void 0===a?void 0:a.mobile)||""}},{name:"Booking Price",selector:e=>{var t,a,l,n;return(null===(t=e.transactionId)||void 0===t?void 0:t.booking_price)||(null===(a=e.bill)||void 0===a||null===(l=a.receiptInvoice)||void 0===l||null===(n=l.paymentModes)||void 0===n?void 0:n.reduce((e,t)=>e+(t.amount||0),0).toFixed(2))}},{name:"Payment Method",selector:e=>{var t,a,l,n,i;return(null===(t=e.transactionId)||void 0===t||null===(a=t.payment_method)||void 0===a?void 0:a.toUpperCase())||(null===(l=e.bill)||void 0===l||null===(n=l.receiptInvoice)||void 0===n||null===(i=n.paymentModes)||void 0===i?void 0:i.map(e=>e.type).join(", "))}},{name:"Payment Status",selector:e=>{var t;return null!==(t=e.transactionId)&&void 0!==t&&t.payment_Status||e.bill?"Completed":"Unpaid"}}];return(0,g.jsx)(l.Fragment,{children:(0,g.jsx)("div",{className:"pt-4",children:(0,g.jsxs)("div",{className:"bg-white p-2 m-n3",children:[(0,g.jsx)("div",{className:"",children:(0,g.jsxs)("h6",{className:"display-6 fs-6 my-3",children:["Total Appointments:- ",r]})}),(0,g.jsx)(D.A,{reportDate:m,setReportDate:u}),(0,g.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[(0,g.jsxs)("div",{className:"d-flex gap-2",children:[(0,g.jsxs)(M.A,{type:"select",value:v,onChange:e=>{p(e.target.value)},children:[(0,g.jsx)("option",{value:"",children:"All Appointments"}),(0,g.jsx)("option",{value:"PRESCRIBED_APPOINTMENTS",children:"Prescribed Appointments"}),(0,g.jsx)("option",{value:"PAID_APPOINTMENTS",children:"Paid Appointments"}),(0,g.jsx)("option",{value:"CANCELLED_APPOINTMENTS",children:"Cancelled Appointments"})]}),(0,g.jsx)(M.A,{type:"select",value:A,onChange:e=>{P(Number(e.target.value)),j(1)},style:{width:"100px"},children:[10,20,30,40,50].map(e=>(0,g.jsx)("option",{value:e,children:e},e))})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)(s.A,{color:"info",onClick:async()=>{try{R(!0);const e=await(0,_e.uD$)({page:1,limit:1e4,startDate:m.start.toISOString(),endDate:m.end.toISOString(),filter:v,val:h,centerAccess:t});if(e.success){console.log(e.payload,"payload");const t=(e.payload||[]).map((e,t)=>{var a,l,n,i,s,d,o,r,c,m,u,v,p,h,y;return(0,w.A)((0,w.A)({},e),{},{id:t+1,patientName:null===e||void 0===e||null===(a=e.patient)||void 0===a?void 0:a.name.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),doctorName:null===e||void 0===e||null===(l=e.doctor)||void 0===l?void 0:l.name.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),centerName:null===e||void 0===e||null===(n=e.center)||void 0===n?void 0:n.title.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),date:"".concat((0,S.A)(new Date(e.startDate),"d MMM yyyy hh:mm a")," for ").concat((0,De.A)(new Date(e.endDate),new Date(e.startDate))," minutes"),phoneNumber:(null===e||void 0===e||null===(i=e.patient)||void 0===i?void 0:i.dialCode)+(null===e||void 0===e||null===(s=e.patient)||void 0===s?void 0:s.mobile),paymentStatus:null!==e&&void 0!==e&&null!==(d=e.transactionId)&&void 0!==d&&d.payment_Status||null!==e&&void 0!==e&&e.bill?"Completed":"Unpaid",paymentMethod:(null===e||void 0===e||null===(o=e.transactionId)||void 0===o||null===(r=o.payment_method)||void 0===r?void 0:r.toUpperCase())||(null===e||void 0===e||null===(c=e.bill)||void 0===c||null===(m=c.receiptInvoice)||void 0===m||null===(u=m.paymentModes)||void 0===u?void 0:u.map(e=>e.type).join(", ")),bookingPrice:(null===e||void 0===e||null===(v=e.transactionId)||void 0===v?void 0:v.booking_price)||(null===e||void 0===e||null===(p=e.bill)||void 0===p||null===(h=p.receiptInvoice)||void 0===h||null===(y=h.paymentModes)||void 0===y?void 0:y.reduce((e,t)=>e+(t.amount||0),0).toFixed(2))})});C(t),setTimeout(()=>{O.current.link.click()},100)}}catch(e){console.error("Failed to fetch full patient analytics",e)}finally{R(!1)}},disabled:B,children:B?"Preparing CSV...":"Export CSV"}),(0,g.jsx)(T.CSVLink,{data:I||[],filename:"reports.csv",headers:[{label:"#",key:"id"},{label:"Center",key:"centerName",style:{textTransform:"capitalize"}},{label:"Patient",key:"patientName",style:{textTransform:"capitalize"}},{label:"UID",key:"patient.id.value"},{label:"Gender",key:"patient.gender"},{label:"Phone No",key:"phoneNumber"},{label:"Doctor",key:"doctorName",style:{textTransform:"capitalize"}},{label:"Date",key:"date"},{label:"Booking Price",key:"bookingPrice"},{label:"Payment Method",key:"paymentMethod"},{label:"Payment Status",key:"paymentStatus"}],className:"d-none",ref:O})]})]}),(0,g.jsx)(k.A,{}),(0,g.jsx)(he.Ay,{fixedHeader:!0,columns:E,data:(null===a||void 0===a?void 0:a.map(e=>(0,w.A)((0,w.A)({},e),{},{id:e._id,date:"".concat((0,S.A)(new Date(e.startDate),"d MMM yyyy hh:mm a")," for ").concat((0,De.A)(new Date(e.endDate),new Date(e.startDate))," minutes")})))||[],highlightOnHover:!0}),(0,g.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-3",children:[(0,g.jsx)(s.A,{disabled:1===b,onClick:()=>j(e=>Math.max(e-1,1)),children:"Prev"}),(0,g.jsxs)("span",{children:["Page ",b," of ",n]}),(0,g.jsx)(s.A,{disabled:b===n,onClick:()=>j(e=>e+1),children:"Next"})]})]})})})}),Ge=(0,d.Ng)(e=>({data:e.Report.data,centerAccess:e.User.centerAccess}))(e=>{let{}=e;const[t,a]=(0,l.useState)(r),d=e=>a(e);return(0,g.jsx)(l.Fragment,{children:(0,g.jsx)("div",{className:"page-content",children:(0,g.jsxs)(n.A,{fluid:!0,children:[(0,g.jsx)(we.A,{title:"Report",pageTitle:"Report"}),(0,g.jsxs)(i.A,{children:[" ",(0,g.jsx)(s.A,{outline:t!==o,onClick:()=>d(o),children:"Dashboard"})," ",(0,g.jsx)(s.A,{outline:t!==r,onClick:()=>d(r),children:"Report"})," ",(0,g.jsx)(s.A,{outline:t!==c,onClick:()=>d(c),children:"Finance"}),(0,g.jsx)(s.A,{outline:t!==u,onClick:()=>d(u),children:"Patient Analytics"}),(0,g.jsx)(s.A,{outline:t!==m,onClick:()=>d(m),children:"DB Logs"}),(0,g.jsx)(s.A,{outline:t!==v,onClick:()=>d(v),children:"Lead Analytics"}),(0,g.jsx)(s.A,{outline:t!==p,onClick:()=>d(p),children:"OPD Analytics"}),(0,g.jsx)(s.A,{outline:t!==h,onClick:()=>d(h),children:"Booking"})]}),(0,g.jsxs)("div",{children:[t===o&&(0,g.jsx)(A,{view:t}),t===r&&(0,g.jsx)(xe,{view:t}),t===c&&(0,g.jsx)(be,{view:t}),t===u&&(0,g.jsx)(fe,{view:t}),t===v&&(0,g.jsx)(Ne,{view:t}),t===p&&(0,g.jsx)(ke,{view:t}),t===m&&(0,g.jsx)(Fe,{view:t}),"HUBSPOT_CONTACTS"===t&&(0,g.jsx)(Le.A,{view:t}),t===h&&(0,g.jsx)(Ue,{view:t})]})]})})})})},24410:(e,t,a)=>{a.d(t,{A:()=>o});var l=a(65043),n=a(35475),i=a(12327),s=a(22345),d=a(70579);const o=e=>{let{title:t,pageTitle:a}=e;return(0,d.jsx)(l.Fragment,{children:(0,d.jsx)(i.A,{children:(0,d.jsx)(s.A,{xs:12,children:(0,d.jsxs)("div",{className:"page-title-box p-3 d-flex flex-column flex-sm-row align-items-start align-items-sm-center justify-content-between gap-2",children:[(0,d.jsx)("h4",{className:"mb-2 mb-sm-0",children:t}),(0,d.jsx)("div",{className:"page-title-right",children:(0,d.jsxs)("ol",{className:"breadcrumb m-0",children:[(0,d.jsx)("li",{className:"breadcrumb-item",children:(0,d.jsx)(n.N_,{to:"#",children:a})}),(0,d.jsx)("li",{className:"breadcrumb-item active",children:t})]})})]})})})})}},29899:(e,t,a)=>{a.d(t,{A:()=>u});var l=a(65043),n=a(22166),i=a(98093),s=a(54027),d=a(26259),o=a(98396),r=a(70579);const c={Planned:"bg-blue-100 text-blue-700 border-blue-300",Completed:"bg-green-100 text-green-700 border-green-300",Missed:"bg-red-100 text-red-700 border-red-300",Admitted:"bg-emerald-100 text-emerald-700 border-emerald-300 font-bold"},m=[{label:"All",value:""},{label:"Today Visits",value:"today"},{label:"Tomorrow Visits",value:"tomorrow"},{label:"Past Visits",value:"past"},{label:"Future Visits",value:"future"},{label:"Planned Visits",value:"planned"}],u=e=>{let{leadDate:t}=e;const a=(0,n.wA)(),{contacts:u=[],loading:v,pagination:p={}}=(0,n.d4)(e=>e.HubspotContacts),[h,y]=(0,l.useState)({visitType:"",status:"",assignedTo:""}),[x,b]=(0,l.useState)(""),[g,j]=(0,l.useState)(1),[A,f]=(0,l.useState)(10),[N,D]=(0,l.useState)(null),k=(0,l.useRef)({});(0,l.useEffect)(()=>{const e={page:g,limit:A};"planned"===x?e.status="Planned":e.visitDate=x,console.log(e,"params"),a((0,i.R95)(e))},[x,g,A,a]),(0,l.useEffect)(()=>(D(null),k.current={},()=>{k.current={},D(null)}),[u,g,x]);const w=(0,l.useMemo)(()=>{let e=u;return h.visitType&&(e=e.filter(e=>e.visitType===h.visitType)),h.status&&(e=e.filter(e=>e.status===h.status)),h.assignedTo&&(e=e.filter(e=>e.assignedTo===h.assignedTo)),e},[u,h]);console.log(w,"filteredContacts");const P=(null===p||void 0===p?void 0:p.totalPages)||1;null===p||void 0===p||p.totalItems;return(0,r.jsxs)("div",{className:"p-2 sm:p-6 max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow flex flex-wrap items-center gap-2 px-4 py-3 mb-6 border border-gray-100",children:[(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:m.map(e=>(0,r.jsx)("button",{className:"px-4 py-2 rounded-lg font-medium border transition-colors duration-150 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400 ".concat(x===e.value?"bg-blue-600 text-gray-700 border-blue-600 shadow":"bg-gray-50 text-gray-700 border-gray-300 hover:bg-blue-50"),onClick:()=>{b(e.value),j(1)},children:e.label},e.value))}),(0,r.jsx)("div",{className:"flex-1"})]}),(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50 sticky top-0 z-10",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Name"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Center"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Email"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Phone"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Gender"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Age"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Visit Date"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Amount"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Relation with pat"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Issues"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Comments"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Lead Status"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Lifecycle Stage"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-100",children:v?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:7,className:"text-center py-12 text-gray-400 text-lg font-medium",children:"Loading contacts..."})}):0===w.length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:7,className:"text-center py-12 text-gray-400 text-lg font-medium",children:"No contacts found."})}):w.map((e,t)=>(0,r.jsxs)("tr",{className:"transition-colors group ".concat("Admitted"===e.leadStatus?"bg-emerald-50 hover:bg-emerald-100 border-l-4 border-emerald-500":"hover:bg-blue-50"),children:[(0,r.jsx)("td",{className:"px-4 py-3 font-bold whitespace-nowrap font-semibold text-gray-900 flex items-center gap-2",children:(0,s.k)("".concat(e.firstname||""," ").concat(e.lastname||""))||"N/A"}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-700",children:e.center}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-700",children:e.email}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-700",children:e.phone}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-700",children:"Option 1"===e.gender?"Male":"Option 2"===e.gender?"Female":"Other"}),(0,r.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-700",children:[e.patient_age," Years"]}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-700",children:e.visitDate}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-700",children:e.amount}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-700",children:e.relation_with_patient}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-700",children:e.issues}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-gray-700",children:e.comments}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,r.jsx)("span",{className:"px-2 py-1 rounded-full border text-xs font-semibold ".concat(c[e.leadStatus]||"bg-gray-100 text-gray-700 border-gray-300"),children:e.leadStatus})}),(0,r.jsx)("td",{className:"px-4 py-3 text-capitalize whitespace-nowrap text-gray-700",children:e.lifecyclestage}),(0,r.jsx)("td",{className:"px-4 py-3 text-xs whitespace-nowrap text-gray-700",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)(d.A,{ref:e=>k.current[t]=e,onClick:()=>{var t;return a((0,i.IPd)({data:null,leadData:{leadOrigin:"hubspot",patient:{name:null===(t="".concat(e.firstname," ").concat(e.lastname))||void 0===t?void 0:t.trim(),phoneNumber:e.phone,email:e.email}},isOpen:!0}))},onMouseEnter:()=>D(t),onMouseLeave:()=>D(null),children:[(0,r.jsx)("i",{className:"ri-user-add-line align-bottom text-white text-muted me-2"})," "]}),N===t&&k.current[t]&&(0,r.jsx)(o.A,{isOpen:!0,target:k.current[t],placement:"top",delay:{show:100,hide:100},children:"Register this HubSpot contact as a new patient"})]})})]},t))})]})}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-between mt-8 gap-2 bg-white rounded-xl shadow border border-gray-100 px-4 py-3",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing"," ",0===w.length?0:(g-1)*A+1,"-",Math.min(g*A,(null===p||void 0===p?void 0:p.totalItems)||0)," ","of ",(null===p||void 0===p?void 0:p.totalItems)||0," contacts"]}),(0,r.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,r.jsx)("button",{className:"px-3 py-1 rounded border border-gray-300 bg-white text-gray-700 hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-400 disabled:opacity-50",onClick:()=>j(e=>Math.max(1,e-1)),disabled:1===g,children:"Previous"}),(0,r.jsxs)("span",{className:"px-2 py-1 text-gray-700 font-medium",children:["Page ",g," of ",P||1]}),(0,r.jsx)("button",{className:"px-3 py-1 rounded border border-gray-300 bg-white text-gray-700 hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-400 disabled:opacity-50",onClick:()=>j(e=>Math.min(P,e+1)),disabled:g===P||0===P,children:"Next"}),(0,r.jsx)("select",{className:"ml-2 border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",value:A,onChange:e=>{f(Number(e.target.value)),j(1)},children:[10,20,50,100].map(e=>(0,r.jsxs)("option",{value:e,children:[e," / page"]},e))})]})]})]})}},52414:(e,t,a)=>{a.d(t,{A:()=>h});var l=a(89379),n=a(65043),i=a(12327),s=a(22345),d=a(81349),o=a(85873),r=a(62739),c=a(49935),m=(a(7245),a(27965)),u=a(46087),v=a(5780),p=a(70579);const h=e=>{let{reportDate:t,setReportDate:a}=e;const h=e=>{const t=new Date;e&&t.setDate(t.getDate()-e),a({start:(0,v.A)(t),end:(0,u.A)(t)})};return(0,p.jsx)(n.Fragment,{children:(0,p.jsx)("div",{children:(0,p.jsx)("div",{children:(0,p.jsx)(i.A,{className:"justify-content-end",children:(0,p.jsx)(s.A,{xs:12,children:(0,p.jsx)("div",{className:"d-flex justify-content-md-end mt-4 mt-md-0",children:(0,p.jsxs)("div",{className:"border border-dark d-flex align-items-center",children:[(0,p.jsx)("div",{children:(0,p.jsx)(m.A,{name:"dateOfAdmission",value:t.start||"",onChange:e=>{let[n]=e;a((0,l.A)((0,l.A)({},t),{},{start:n}))},options:{dateFormat:"d M, Y",maxDate:new Date(t.end),disableMobile:!0},className:"form-control shadow-none bg-light border-0",id:"dateOfAdmission"})}),(0,p.jsx)("div",{className:"bg-light h-100 d-flex align-items-center",children:"-"}),(0,p.jsx)("div",{children:(0,p.jsx)(m.A,{name:"dateOfAdmission",value:t.end||"",onChange:e=>{let[n]=e;a((0,l.A)((0,l.A)({},t),{},{end:n}))},options:{dateFormat:"d M, Y",minDate:new Date(t.start),disableMobile:!0},className:"form-control shadow-none bg-light border-0 text-end",id:"dateOfAdmission"})}),(0,p.jsx)("div",{className:"border-start border-dark",children:(0,p.jsxs)(c.A,{children:[(0,p.jsx)(r.A,{caret:!0,color:"light",className:"pe-3"}),(0,p.jsxs)(o.A,{children:[(0,p.jsx)(d.A,{children:(0,p.jsx)("div",{onClick:()=>h(),children:"Today"})}),(0,p.jsx)(d.A,{children:(0,p.jsx)("div",{onClick:()=>h(7),children:"Last 7 days"})}),(0,p.jsx)(d.A,{children:(0,p.jsx)("div",{onClick:()=>h(30),children:"Last 30 days"})}),(0,p.jsx)(d.A,{children:(0,p.jsx)("div",{onClick:()=>{const e=new Date,t=e.getFullYear(),l=e.getMonth(),n=new Date(t,l,1);a({start:(0,v.A)(n),end:(0,u.A)(new Date)})},children:"This month"})})]})]})})]})})})})})})})}}}]);
//# sourceMappingURL=1863.e7b3ddd8.chunk.js.map