"use strict";(self.webpackChunkjagruti_software=self.webpackChunkjagruti_software||[]).push([[4170],{3308:(t,e,i)=>{i.d(e,{d:()=>b});var n=i(60336),r="[object Symbol]";var s=/\s/;var o=/^\s+/;function a(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&s.test(t.charAt(e)););return e}(t)+1).replace(o,""):t}var l=NaN,h=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,d=parseInt;function v(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||(0,n.i)(t)&&(0,n.b)(t)==r}(t))return l;if((0,n.a)(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=(0,n.a)(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=a(t);var i=c.test(t);return i||u.test(t)?d(t.slice(2),i?2:8):h.test(t)?l:+t}const f=function(){return n.r.Date.now()};var m="Expected a function",g=Math.max,p=Math.min;function b(t,e,i){var r,s,o,a,l,h,c=0,u=!1,d=!1,b=!0;if("function"!=typeof t)throw new TypeError(m);function y(e){var i=r,n=s;return r=s=void 0,c=e,a=t.apply(n,i)}function H(t){var i=t-h;return void 0===h||i>=e||i<0||d&&t-c>=o}function S(){var t=f();if(H(t))return w(t);l=setTimeout(S,function(t){var i=e-(t-h);return d?p(i,o-(t-c)):i}(t))}function w(t){return l=void 0,b&&r?y(t):(r=s=void 0,a)}function T(){var t=f(),i=H(t);if(r=arguments,s=this,h=t,i){if(void 0===l)return function(t){return c=t,l=setTimeout(S,e),u?y(t):a}(h);if(d)return clearTimeout(l),l=setTimeout(S,e),y(h)}return void 0===l&&(l=setTimeout(S,e)),a}return e=v(e)||0,(0,n.a)(i)&&(u=!!i.leading,o=(d="maxWait"in i)?g(v(i.maxWait)||0,e):o,b="trailing"in i?!!i.trailing:b),T.cancel=function(){void 0!==l&&clearTimeout(l),c=0,r=h=s=l=void 0},T.flush=function(){return void 0===l?a:w(f())},T}},24170:(t,e,i)=>{i.r(e),i.d(e,{dyte_virtualized_participant_list:()=>s});var n=i(85077),r=i(3308);i(60336);const s=class{constructor(t){(0,n.r)(this,t),this.items=[],this.itemHeight=55,this.bufferedItemsCount=5,this.emptyListElement=null,this.visibleStart=0,this.visibleEnd=0,this.containerHeight=0,this.lastScrollTop=0,this.recalculatePositioning=()=>{this.updateContainerHeight(),requestAnimationFrame(()=>{this.updateItemHeight()})},this.updateContainerHeight=()=>{this.el.querySelector(".virtual-list-container").clientHeight&&(requestAnimationFrame(()=>{this.updateItemHeight()}),this.containerHeight=this.el.querySelector(".virtual-list-container").clientHeight,this.updateVisibleRange())},this.onScroll=(0,r.d)(()=>{const t=this.el.querySelector(".virtual-list-container").scrollTop;t>this.lastScrollTop&&this.visibleEnd===this.items.length||(this.lastScrollTop=t,this.updateVisibleRange())})}itemsChanged(){this.recalculatePositioning()}componentDidLoad(){this.recalculatePositioning(),this.el.querySelector(".virtual-list-container").addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.recalculatePositioning)}componentDidUpdate(){this.updateItemHeight()}disconnectedCallback(){this.el.querySelector(".virtual-list-container").removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.recalculatePositioning)}updateVisibleRange(){const t=this.el.querySelector(".virtual-list-container").scrollTop,e=Math.floor(t/this.itemHeight),i=Math.ceil(this.containerHeight/this.itemHeight),n=Math.min(this.items.length,e+i+this.bufferedItemsCount);this.visibleStart=e,this.visibleEnd=n,this.el.querySelector(".virtual-list-container").scrollTop=this.lastScrollTop}updateItemHeight(){const t=this.el.querySelector(".virtual-list-item");if(t){const e=t.style.height;t.style.height="auto";const i=t.getBoundingClientRect().height;e&&(t.style.height=e),i&&Math.floor(i)!==Math.floor(this.itemHeight)&&(this.itemHeight=i)}}renderItems(){return this.items.slice(this.visibleStart,this.visibleEnd).map((t,e)=>{const i=this.visibleStart+e;return(0,n.h)("div",{class:"virtual-list-item",key:t.id,style:{position:"absolute",top:"".concat(i*this.itemHeight,"px"),height:"".concat(this.itemHeight,"px"),width:"100%"}},this.renderItem(t,i))})}render(){var t;const e=this.items.length*this.itemHeight;return(0,n.h)("div",{key:"1b37d3baa0af9ff413be304f5368849d20a47b23",class:"virtual-list-container",style:{position:"relative",height:"100%",overflowX:"hidden",overflowY:"auto"}},(0,n.h)("div",{key:"6bfd8b0993b3a78ea2317715e54c68cb4458ec5a",style:{height:"".concat(e,"px"),position:"relative"}},(null===(t=this.items)||void 0===t?void 0:t.length)?this.renderItems():this.emptyListElement),(0,n.h)("div",{key:"c6917ed47b4f3d579809f0b620f94aaf25779137",style:{height:"".concat(this.itemHeight,"px")}}))}get el(){return(0,n.a)(this)}static get watchers(){return{items:["itemsChanged"]}}};s.style=":host{height:100%;width:100%}"}}]);
//# sourceMappingURL=4170.96d21a78.chunk.js.map