{"version":3,"file":"static/js/3956.8543d57a.chunk.js","mappings":"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","sources":["../node_modules/@dytesdk/ui-kit/dist/esm/ChatHead-bc3b40ed.js","../node_modules/@dytesdk/ui-kit/dist/esm/debounce-ea0579b2.js","../node_modules/@dytesdk/ui-kit/dist/esm/dyte-audio-visualizer_64.entry.js","../node_modules/@dytesdk/ui-kit/dist/esm/hark-6327d91e.js","../node_modules/@dytesdk/ui-kit/dist/esm/size-505ade24.js","../node_modules/@dytesdk/ui-kit/dist/esm/scroll-2d8e810c.js","../node_modules/@dytesdk/ui-kit/dist/esm/TextMessage-f486459a.js"],"sourcesContent":["import { h } from './index-08f4416b.js';\nimport { s as shorten, f as formatName } from './string-ed1380fb.js';\n\nconst differenceInMinutes = (oldDate, newDate) => {\n    // difference in milliseconds\n    const diff = newDate.getTime() - oldDate.getTime();\n    return Math.round(Math.abs(diff / 1000 / 60));\n};\nconst elapsedDuration = (oldDate, newDate) => {\n    const minutes = differenceInMinutes(oldDate, newDate);\n    if (minutes < 2) {\n        return 'just now';\n    }\n    if (minutes < 60) {\n        return `${minutes}m ago`;\n    }\n    const hours = Math.round(minutes / 60);\n    if (minutes < 90) {\n        return `about ${hours}h ago`;\n    }\n    if (hours < 24) {\n        return `${hours}h ago`;\n    }\n    const days = Math.round(hours / 24);\n    if (days < 7) {\n        return `${days}d ago`;\n    }\n    const weeks = Math.round(days / 7);\n    return `${weeks}w ago`;\n};\nconst formatDateTime = (date) => {\n    return date.toDateString() + ' ' + date.toLocaleTimeString();\n};\n\nconst ChatHead = ({ name, time, now }) => {\n    return (h(\"div\", { class: \"head\" },\n        h(\"div\", { class: \"name\" }, shorten(formatName(name), 20)),\n        h(\"div\", { class: \"time\", title: formatDateTime(time) }, elapsedDuration(time, now))));\n};\n\nexport { ChatHead as C, differenceInMinutes as d, elapsedDuration as e, formatDateTime as f };\n","import { i as isObjectLike, b as baseGetTag, a as isObject, r as root } from './isObjectLike-773b9473.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\n/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nconst now$1 = now;\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now$1();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now$1());\n  }\n\n  function debounced() {\n    var time = now$1(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport { debounce as d };\n","import { r as registerInstance, h, H as Host, c as createEvent, w as writeTask, f as forceUpdate, a as getElement, F as Fragment } from './index-08f4416b.js';\nimport { h as hark } from './hark-6327d91e.js';\nimport { a as defaultIconPack, c as useLanguage, h as getAllConnectedParticipants, p as participantIdentifier, r as resetRoomCount, B as BreakoutRoomsManager, d as defaultConfig, j as usePaginatedChat, F as FlagsmithFeatureFlags, f as chatUnreadTimestamps, k as gracefulStorage, l as uiState, e as disableSettingSinkId, s as showLivestream, m as getPreference, n as setPreference } from './ui-store-11740cb4.js';\nimport { S as SyncWithStore } from './index-25aba8a9.js';\nimport { f as formatName, g as getInitials, s as shorten, a as sanitizeLink, h as hasOnlyEmojis } from './string-ed1380fb.js';\nimport { d as debounce } from './debounce-ea0579b2.js';\nimport { h as handleFilesDataTransfer, g as generateChatGroupKey, T as TEMPORARY_CHANNEL_PREFIX, i as isDirectMessageChannel, d as alphabeticalSorter, e as getDMComparator, s as stripOutReplyBlock, p as parseMessageForTarget, M as MAX_TEXT_LENGTH, f as parseRichText, j as extractReplyBlock } from './chat-d3096b6e.js';\nimport { d as differenceInMinutes, f as formatDateTime, e as elapsedDuration, C as ChatHead } from './ChatHead-bc3b40ed.js';\nimport { s as smoothScrollToBottom } from './scroll-2d8e810c.js';\nimport { R as Render } from './index-e2bee3ae.js';\nimport { p as provideDyteDesignSystem, g as generateConfig, d as deepMerge } from './config-46f2bfe1.js';\nimport { g as getSize } from './size-505ade24.js';\nimport { i as index } from './ResizeObserver.es-02979d4e.js';\nimport { c as computePosition, o as offset, f as flip, s as shift, a as arrow } from './floating-ui.dom.esm-cf1488a2.js';\nimport { T as TextMessageView } from './TextMessage-f486459a.js';\nimport { D as DyteNotificationsAudio } from './notification-5df9d88e.js';\nimport './isObjectLike-773b9473.js';\nimport './keysIn-310f65c1.js';\nimport './logger-31448943.js';\n\n/**\n * Draws audio visualizer of variant `bars`\n * @param canvas Canvas element\n * @param volume Current volume\n */\nconst drawBarsVisualizer = (canvas, volume) => {\n    if (canvas == null) {\n        return;\n    }\n    const nSlices = 3;\n    const halfwaySlice = Math.round(nSlices / 2);\n    const sample = [...Array(nSlices)].map((_, i) => {\n        let index = i;\n        if (index > halfwaySlice - 1) {\n            index = nSlices - index - 1;\n        }\n        return Math.round(((index + 1) / (halfwaySlice + 1)) * volume);\n    });\n    const { width, height } = canvas;\n    const context = canvas.getContext('2d');\n    let x = 2;\n    const sliceGraphicWidth = 4;\n    const sliceWidth = (width * 1.0) / sample.length;\n    const slicePadding = sliceWidth - sliceGraphicWidth;\n    context.clearRect(0, 0, width, height);\n    context.fillStyle = 'rgb(0,0,0,0.0)';\n    context.fillRect(0, 0, width, height);\n    const color = getComputedStyle(canvas).getPropertyValue('color');\n    context.fillStyle = color;\n    context.strokeStyle = color;\n    context.lineCap = 'round';\n    context.lineWidth = 4;\n    context.beginPath();\n    for (const item of sample) {\n        const y = Math.min(-Math.abs(((item * 1.2) / 10) * height) + height / 2, height / 2 - 2.5);\n        const sliceHeight = Math.max((height / 2 - y) * 2, 5);\n        context.moveTo(x + slicePadding / 2, y);\n        context.lineTo(x + slicePadding / 2, y + sliceHeight);\n        x += sliceWidth;\n    }\n    context.stroke();\n};\n\nconst dyteAudioVisualizerCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block;width:-moz-fit-content;width:fit-content}.hideMuted{padding:var(--dyte-space-1, 4px)}canvas,dyte-icon{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}:host([size='sm']){transform:scale(0.9)}canvas{display:none}canvas.visible{display:block}canvas.bars{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity))}\";\nconst DyteAudioVisualizerStyle0 = dyteAudioVisualizerCss;\n\nvar __decorate$Z = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteAudioVisualizer = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /** Variant */\n        this.variant = 'bars';\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        /** Hide when there is no audio / audio is muted */\n        this.hideMuted = false;\n        /** Audio visualizer for screensharing, it will use screenShareTracks.audio instead of audioTrack */\n        this.isScreenShare = false;\n        this.volume = 0;\n    }\n    connectedCallback() {\n        this.participantChanged(this.participant);\n    }\n    componentDidLoad() {\n        drawBarsVisualizer(this.visualizer, 0);\n    }\n    disconnectedCallback() {\n        var _a, _b, _c;\n        (_a = this.hark) === null || _a === void 0 ? void 0 : _a.stop();\n        this.audioUpdateListener &&\n            ((_b = this.participant) === null || _b === void 0 ? void 0 : _b.removeListener('audioUpdate', this.audioUpdateListener));\n        this.screenShareUpdateListener &&\n            ((_c = this.participant) === null || _c === void 0 ? void 0 : _c.removeListener('screenShareUpdate', this.screenShareUpdateListener));\n    }\n    participantChanged(participant) {\n        if (participant != null) {\n            this.audioUpdateListener = ({ audioEnabled, audioTrack }) => {\n                var _a;\n                (_a = this.hark) === null || _a === void 0 ? void 0 : _a.stop();\n                if (audioEnabled && audioTrack != null) {\n                    this.audioEnabled = true;\n                    const stream = new MediaStream();\n                    stream.addTrack(audioTrack);\n                    this.calcVolume(stream);\n                    // initial draw with volume: 0\n                    drawBarsVisualizer(this.visualizer, 0);\n                }\n                else {\n                    this.volume = 0;\n                    this.audioEnabled = false;\n                }\n            };\n            if (this.isScreenShare) {\n                this.screenShareUpdateListener = ({ screenShareEnabled, screenShareTracks }) => {\n                    this.audioUpdateListener({\n                        audioEnabled: screenShareEnabled && screenShareTracks.audio != null,\n                        audioTrack: screenShareTracks.audio,\n                    });\n                };\n                this.screenShareUpdateListener({\n                    screenShareEnabled: participant.screenShareEnabled,\n                    screenShareTracks: {\n                        audio: participant.screenShareTracks.audio,\n                        video: participant.screenShareTracks.video,\n                    },\n                });\n                participant.addListener('screenShareUpdate', this.screenShareUpdateListener);\n            }\n            else {\n                this.audioUpdateListener(participant);\n                participant.addListener('audioUpdate', this.audioUpdateListener);\n            }\n        }\n    }\n    /**\n     * Determines the volume from a given MediaStream and updates the components state\n     * @param stream A MediaStream with AudioTrack(s) added\n     */\n    calcVolume(stream) {\n        this.hark = hark(stream, {\n            play: false,\n            interval: 1000 / 10,\n        });\n        this.hark.on('volume_change', (dBs) => {\n            const prevVolume = this.volume;\n            // The exact formula to convert from dBs (-100..0) to linear (0..1) is:\n            //   Math.pow(10, dBs / 20)\n            // However it does not produce a visually useful output, so let exagerate\n            // it a bit. Also, let convert it from 0..1 to 0..10 and avoid value 1 to\n            // minimize component renderings.\n            // if dBs is -Inifnity, set vol to 0\n            let audioVol = Math.round(10 ** (dBs / 115) * 10);\n            if (audioVol < 3)\n                audioVol = 0;\n            let volume = Math.round((prevVolume * 2 + audioVol) / 3);\n            if (prevVolume !== volume) {\n                this.volume = volume;\n                drawBarsVisualizer(this.visualizer, this.volume);\n            }\n        });\n    }\n    render() {\n        return (h(Host, { key: '544351071e0d4766dcadb3b9a6b5c714b8c8a0c2' }, h(\"div\", { key: 'd52567ede61844a23d21cbf32a7d185b0790f435', class: {\n                hideMuted: this.hideMuted,\n            } }, h(\"canvas\", { key: 'd9e71f8d75cae5465e661df0381c00d5b75e88a9', width: \"24\", height: \"24\", class: {\n                bars: true,\n                visible: this.audioEnabled,\n            }, ref: (el) => (this.visualizer = el), part: \"canvas\" }), !this.isScreenShare && !this.audioEnabled && this.hideMuted !== true && (h(\"dyte-icon\", { key: '107a86c8b02c044ba5e7a22a1d1dc6f250da9720', icon: this.iconPack.mic_off, part: \"mic-off-icon\" })))));\n    }\n    static get watchers() { return {\n        \"participant\": [\"participantChanged\"]\n    }; }\n};\n__decorate$Z([\n    SyncWithStore()\n], DyteAudioVisualizer.prototype, \"size\", void 0);\n__decorate$Z([\n    SyncWithStore()\n], DyteAudioVisualizer.prototype, \"iconPack\", void 0);\n__decorate$Z([\n    SyncWithStore()\n], DyteAudioVisualizer.prototype, \"t\", void 0);\nDyteAudioVisualizer.style = DyteAudioVisualizerStyle0;\n\nconst dyteAvatarCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;height:var(--dyte-space-32, 128px);width:var(--dyte-space-32, 128px);align-items:center;justify-content:center;font-size:28px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));overflow:clip;border-radius:9999px;-webkit-user-select:none;-moz-user-select:none;user-select:none}dyte-icon{height:50%;width:50%}.image-ctr{display:flex;height:100%;width:100%;align-items:center;justify-content:center;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}img{height:var(--dyte-space-0, 0px);width:var(--dyte-space-0, 0px);-o-object-fit:cover;object-fit:cover}img.loaded{height:100%;width:100%}.initials{display:flex;height:100%;width:100%;align-items:center;justify-content:center;text-transform:uppercase}.image{display:flex;height:100%;width:100%;align-items:center;justify-content:center}.image img{display:none;height:100%;width:100%;-o-object-fit:cover;object-fit:cover}.image img.loaded{display:block}:host([variant='hexagon']){border-radius:var(--dyte-border-radius-none, 0);clip-path:polygon(50% 0, 95% 25%, 95% 75%, 50% 100%, 5% 75%, 5% 25%)}:host([variant='square']){border-radius:var(--dyte-border-radius-none, 0);clip-path:polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)}:host([size='sm']){height:var(--dyte-space-14, 56px);width:var(--dyte-space-14, 56px);font-size:12px}:host([size='md']){height:var(--dyte-space-28, 112px);width:var(--dyte-space-28, 112px)}:host([size='lg']){height:var(--dyte-space-32, 128px);width:var(--dyte-space-32, 128px)}\";\nconst DyteAvatarStyle0 = dyteAvatarCss;\n\nvar __decorate$Y = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteAvatar = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /** Avatar type */\n        this.variant = 'circular';\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        this.imageState = 'loading';\n        this.getAvatar = () => {\n            var _a;\n            const name = formatName(((_a = this.participant) === null || _a === void 0 ? void 0 : _a.name) || '');\n            let picture;\n            if (this.participant != null && 'picture' in this.participant) {\n                picture = this.participant.picture;\n            }\n            if (picture && picture.length > 0 && this.imageState !== 'errored') {\n                return (h(\"div\", { class: \"image-ctr\" }, this.imageState === 'loading' && h(\"dyte-spinner\", { iconPack: this.iconPack }), h(\"img\", { src: picture, class: { loaded: this.imageState === 'loaded' }, loading: \"lazy\", title: name, onLoad: () => (this.imageState = 'loaded'), onError: () => (this.imageState = 'errored'), part: \"image\" })));\n            }\n            const initials = getInitials(name);\n            return (h(\"div\", { class: \"initials\", title: name, part: \"initials\" }, initials));\n        };\n    }\n    render() {\n        return (h(Host, { key: 'c57eb98421d28fbc9e6f8ddd9c7c0205c843aa81' }, this.getAvatar(), h(\"slot\", { key: '7e1e8618d0b077c1c4633804e06b602a474d3490' })));\n    }\n};\n__decorate$Y([\n    SyncWithStore()\n], DyteAvatar.prototype, \"size\", void 0);\n__decorate$Y([\n    SyncWithStore()\n], DyteAvatar.prototype, \"iconPack\", void 0);\n__decorate$Y([\n    SyncWithStore()\n], DyteAvatar.prototype, \"t\", void 0);\nDyteAvatar.style = DyteAvatarStyle0;\n\nconst dyteBreakoutRoomManagerCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));border-radius:var(--dyte-border-radius-sm, 4px)}@keyframes bg-glow{25%{background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / 0.2)}50%{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}75%{background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / 0.2)}}.glowing-card{animation:bg-glow 0.8s}.selector-mode,.assign-mode{display:flex;flex-direction:column;align-items:center;padding:var(--dyte-space-2, 8px);cursor:pointer}.selector:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.show-on-hover{display:none}.header{width:100%;display:flex;align-items:center}.header dyte-icon{margin-left:var(--dyte-space-2, 8px);height:var(--dyte-space-5, 20px);cursor:pointer}.header .danger{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}.header .hide{display:none}.header .rooms-container{display:flex;flex-grow:1;flex-direction:row;align-items:center;justify-content:flex-end}.header input{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));padding:var(--dyte-space-1, 4px);color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));max-width:var(--dyte-space-36, 144px);font-size:14px;font-weight:500;border-radius:var(--dyte-border-radius-sm, 4px);border-width:var(--dyte-border-width-none, 0);border-style:none;outline:2px solid transparent;outline-offset:2px;border-bottom-width:var(--dyte-border-width-sm, 1px);border-style:solid;--tw-border-opacity:1;border-bottom-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-border-opacity))}.header input:disabled{overflow-x:visible;border-radius:var(--dyte-border-radius-none, 0);border-width:var(--dyte-border-width-none, 0);border-style:none;background-color:transparent}.header input:invalid{border-bottom-width:var(--dyte-border-width-sm, 1px);border-style:dashed;--tw-border-opacity:1;border-bottom-color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-border-opacity))}.header input.editing-enabled{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity))}.header .participant-count{display:flex;align-items:center;font-size:14px;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}.header .participant-count dyte-icon{margin:var(--dyte-space-0, 0px);margin-right:var(--dyte-space-0\\\\.5, 2px);width:var(--dyte-space-3, 12px)}.header .assign-button{height:var(--dyte-space-6, 24px);--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity));text-decoration-line:underline}.header .assign-button:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.participant-list{display:grid;flex-grow:1;grid-template-columns:repeat(2, minmax(0, 1fr));gap:var(--dyte-space-2, 8px);margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px);width:100%;border-radius:var(--dyte-border-radius-sm, 4px)}.participant-list::-webkit-scrollbar{width:var(--dyte-space-1\\\\.5, 6px)}.participant-list::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.participant-list::-webkit-scrollbar-track{border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.participant-item{display:flex;align-items:center;justify-content:space-between;margin-right:var(--dyte-space-2, 8px);height:-moz-fit-content;height:fit-content;padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px)}.participant-item:hover{border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.selector-mode:hover .show-on-hover{display:flex}.message-container{margin:var(--dyte-space-0, 0px);display:flex;width:100%;padding-top:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px)}.message-container p{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-0, 0px);height:var(--dyte-space-20, 80px);display:flex;width:100%;align-items:center;justify-content:center;border-radius:var(--dyte-border-radius-sm, 4px);font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));border-style:dashed;--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-border-opacity))}.message-container p:hover{--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-border-opacity));background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / 0.25)}.message-container .drop-zone-active{--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-border-opacity));background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / 0.25)}dyte-icon{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}.show-on-hover{margin-left:var(--dyte-space-4, 16px);height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);display:none}:host(:hover) .show-on-hover{display:flex}.peer-ui-container{position:relative;display:flex;align-items:center;gap:var(--dyte-space-2, 8px);height:var(--dyte-space-10, 40px);cursor:pointer;border-radius:var(--dyte-border-radius-sm, 4px);color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}.peer-ui-container dyte-avatar{height:var(--dyte-space-7, 28px);width:var(--dyte-space-7, 28px);font-size:14px;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.peer-ui-container .name{font-size:14px;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}\";\nconst DyteBreakoutRoomManagerStyle0 = dyteBreakoutRoomManagerCss;\n\nvar __decorate$X = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst ROOM_TITLE_MIN_CHARS = 3;\nconst DyteBreakoutRoomManager = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.onParticipantsAdd = createEvent(this, \"participantsAdd\", 7);\n        this.onParticipantDelete = createEvent(this, \"participantDelete\", 7);\n        this.onRoomJoin = createEvent(this, \"roomJoin\", 7);\n        this.deleteRoom = createEvent(this, \"delete\", 7);\n        this.updateRoom = createEvent(this, \"update\", 7);\n        /** allow room delete */\n        this.allowDelete = true;\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        /** Drag mode */\n        this.isDragMode = false;\n        /** display expanded card by default */\n        this.defaultExpanded = false;\n        this.editingTitleRoomId = null;\n        this.newTitle = null;\n        this.showExpandedCard = false;\n        this.glowingCard = false;\n        this.permissionsUpdateListener = () => {\n            this.permissions = this.meeting.self.permissions.connectedMeetings;\n        };\n        this.reset = () => {\n            this.editingTitleRoomId = null;\n            this.newTitle = null;\n        };\n        this.onEditClick = () => {\n            if (this.editingTitleRoomId) {\n                if (this.newTitle.length < ROOM_TITLE_MIN_CHARS)\n                    return;\n                this.roomTitle = this.newTitle;\n                this.updateRoom.emit({\n                    title: this.newTitle,\n                    id: this.editingTitleRoomId,\n                });\n                this.glowCard();\n                this.reset();\n            }\n            else {\n                this.editingTitleRoomId = this.room.id;\n                writeTask(() => {\n                    this.inputTextEl.focus();\n                    this.inputTextEl.select();\n                });\n            }\n        };\n        this.onDrop = (e) => {\n            if (e.currentTarget instanceof HTMLParagraphElement) {\n                e.currentTarget.classList.remove('drop-zone-active');\n                this.onAssign();\n            }\n        };\n        this.onDragOver = (e) => {\n            if (e.currentTarget instanceof HTMLParagraphElement) {\n                e.currentTarget.classList.add('drop-zone-active');\n                e.preventDefault();\n            }\n        };\n    }\n    connectedCallback() {\n        var _a;\n        this.allParticipants = getAllConnectedParticipants(this.meeting);\n        this.permissionsUpdateListener();\n        this.showExpandedCard = this.defaultExpanded;\n        this.roomTitle = this.room.isParent ? this.t('breakout_rooms.main_room') : (_a = this.room) === null || _a === void 0 ? void 0 : _a.title;\n        this.canEditMeetingTitle =\n            this.permissions.canAlterConnectedMeetings &&\n                !this.room.isParent &&\n                !this.meeting.connectedMeetings.isActive; // TODO: remove this once socket supports update meetings\n        this.meeting.self.permissions.on('permissionsUpdate', this.permissionsUpdateListener);\n    }\n    disconnectedCallback() {\n        this.meeting.self.permissions.off('permissionsUpdate', this.permissionsUpdateListener);\n    }\n    onDragLeave(e) {\n        if (e.currentTarget instanceof HTMLParagraphElement) {\n            e.currentTarget.classList.remove('drop-zone-active');\n        }\n    }\n    getAssignmentHint() {\n        if (this.assigningParticipants && this.isDragMode) {\n            return this.t('breakout_rooms.drag_drop_participants');\n        }\n        if (this.assigningParticipants) {\n            return this.t('breakout_rooms.click_drop_participants');\n        }\n        if (this.room.participants.length === 0) {\n            return this.t('breakout_rooms.none_assigned');\n        }\n    }\n    toggleCardDisplay() {\n        this.showExpandedCard = !this.showExpandedCard;\n    }\n    glowCard() {\n        this.glowingCard = true;\n        setTimeout(() => {\n            this.glowingCard = false;\n        }, 2000);\n    }\n    onAssign() {\n        this.onParticipantsAdd.emit();\n        this.glowCard();\n    }\n    onJoin() {\n        this.onRoomJoin.emit();\n    }\n    onTitleChanged(e) {\n        if (e.key === 'Enter') {\n            this.newTitle = e.target.value;\n            this.onEditClick();\n        }\n    }\n    renderPeer(participant) {\n        const { displayPictureUrl: picture } = this.allParticipants.find((p) => participantIdentifier(p) === participantIdentifier(participant));\n        const name = formatName(participant.displayName || '');\n        return (h(\"div\", { class: \"peer-ui-container\" }, h(\"dyte-avatar\", { participant: { name, picture }, size: \"sm\" }), h(\"p\", { class: \"name\", title: name }, shorten(name, 16), this.meeting.self.userId === participant.id && ` (${this.t('you')})`)));\n    }\n    renderExpandedCardMaybe() {\n        if (!this.showExpandedCard)\n            return;\n        if (this.room.isParent)\n            return;\n        if (!this.getAssignmentHint())\n            return;\n        if (!this.permissions.canAlterConnectedMeetings)\n            return;\n        return (h(\"div\", { class: \"message-container\" }, h(\"p\", { class: { 'compact-height': this.room.participants.length !== 0 }, onClick: () => this.onAssign(), onDragOver: this.onDragOver, onDragLeave: this.onDragLeave, onDrop: this.onDrop }, this.getAssignmentHint())));\n    }\n    renderParticipantsMaybe() {\n        if (!this.showExpandedCard)\n            return;\n        if (this.room.isParent)\n            return;\n        if (this.room.participants.length === 0)\n            return;\n        return (h(\"div\", { class: \"participant-list\", onClick: () => {\n                this.onAssign();\n            } }, this.room.participants.map((participant) => (h(\"div\", { class: \"participant-item\", role: \"listitem\", key: participant.id }, this.renderPeer(participant), this.permissions.canAlterConnectedMeetings && (h(\"dyte-icon\", { class: \"show-on-hover\", icon: this.iconPack.dismiss, onClick: () => {\n                this.onParticipantDelete.emit(participant);\n            } })))))));\n    }\n    render() {\n        var _a, _b, _c;\n        return (h(Host, { key: '55d8c00978d9710c5bedd9ab0e34ba18afa50733' }, h(\"div\", { key: 'a82630203869a94d2ecc4e33103ada61eedb19bc', class: {\n                'assign-mode': this.assigningParticipants,\n                'selector-mode': !this.assigningParticipants,\n                'glowing-card': this.glowingCard,\n            } }, h(\"div\", { key: 'd6286509a9917de384d80648d5171f94851906b9', class: \"header\" }, h(\"input\", { key: '76304ed7452bfac9e03998578c8ffb8ea03b82fb', ref: (el) => (this.inputTextEl = el), placeholder: this.t('breakout_rooms.room_name'), disabled: !(this.editingTitleRoomId === this.room.id), value: this.roomTitle, minlength: ROOM_TITLE_MIN_CHARS, onChange: (e) => {\n                this.newTitle = e.target.value;\n            }, onKeyPress: (e) => this.onTitleChanged(e), class: { 'editing-enabled': this.editingTitleRoomId === this.room.id }, style: { width: `${this.roomTitle.length + 1}ch` } }), this.editingTitleRoomId !== this.room.id && (h(\"span\", { key: '4f31320550907e0dcb44f31b4b929167795a1850', class: \"participant-count\" }, \"(\", h(\"dyte-icon\", { key: '697420b64dd947349e736ac381a526a1f340606f', icon: this.iconPack.people }), (_c = (_b = (_a = this.room) === null || _a === void 0 ? void 0 : _a.participants) === null || _b === void 0 ? void 0 : _b.length) !== null && _c !== void 0 ? _c : '0', \")\")), this.canEditMeetingTitle && (h(\"dyte-tooltip\", { key: '3e826e83ac09e69b1c90c4f6e0e7c93638a1eed1', label: this.editingTitleRoomId === this.room.id\n                ? this.t('breakout_rooms.save_room_name')\n                : this.t('breakout_rooms.edit_room_name') }, h(\"dyte-icon\", { key: '8735226fb881ad3b06d4130e8ec51a85c037949b', icon: this.editingTitleRoomId === this.room.id\n                ? this.iconPack.checkmark\n                : this.iconPack.edit, class: \"show-on-hover\", onClick: this.onEditClick }))), h(\"div\", { key: 'e06e9e8f30ebdbeb3cb16dfb2c3fc23822f13187', class: \"rooms-container\" }, this.permissions.canAlterConnectedMeetings &&\n            !this.room.isParent &&\n            this.allowDelete && (h(\"dyte-tooltip\", { key: '30b872574e985b00191d277e3e2ed0d75a3291a1', label: this.t('breakout_rooms.delete'), class: \"danger\" }, h(\"dyte-icon\", { key: '2c92407f1589e22a9198594f5c3d7cb2cf345521', icon: this.iconPack.delete, class: \"show-on-hover\", onClick: () => {\n                this.deleteRoom.emit();\n            } }))), this.assigningParticipants &&\n            this.permissions.canAlterConnectedMeetings &&\n            !this.room.isParent && (h(\"dyte-button\", { key: '2e1bae37a6410fecf22228b16cbbcd744972c41f', kind: \"button\", variant: \"ghost\", class: \"assign-button\", size: \"md\", onClick: () => this.onAssign() }, this.t('breakout_rooms.assign'))), this.mode === 'edit' &&\n            !this.assigningParticipants &&\n            this.permissions.canSwitchConnectedMeetings && (h(\"dyte-button\", { key: 'ebf98a4e34ece75f1fe8fe41e8884d9d6e1e8292', kind: \"button\", variant: \"ghost\", class: \"assign-button\", size: \"md\", disabled: this.room.id === this.meeting.meta.meetingId, onClick: () => this.onJoin() }, this.room.id === this.meeting.meta.meetingId\n            ? this.t('joined')\n            : this.t('join'))), !this.room.isParent && (h(\"dyte-icon\", { key: 'fd3ce5aaae760638a9d32ac306be26f248cbd947', icon: this.showExpandedCard ? this.iconPack.chevron_up : this.iconPack.chevron_down, onClick: () => this.toggleCardDisplay() })))), this.renderExpandedCardMaybe(), this.renderParticipantsMaybe())));\n    }\n};\n__decorate$X([\n    SyncWithStore()\n], DyteBreakoutRoomManager.prototype, \"meeting\", void 0);\n__decorate$X([\n    SyncWithStore()\n], DyteBreakoutRoomManager.prototype, \"states\", void 0);\n__decorate$X([\n    SyncWithStore()\n], DyteBreakoutRoomManager.prototype, \"iconPack\", void 0);\n__decorate$X([\n    SyncWithStore()\n], DyteBreakoutRoomManager.prototype, \"t\", void 0);\nDyteBreakoutRoomManager.style = DyteBreakoutRoomManagerStyle0;\n\nconst dyteBreakoutRoomParticipantsCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\\\.5, 6px);width:var(--dyte-space-1\\\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{display:flex;height:100%;flex-direction:column;font-size:14px}:host input[type='checkbox']{margin:var(--dyte-space-0, 0px);cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:var(--dyte-border-radius-sm, 4px);position:relative;height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);border-width:var(--dyte-border-width-sm, 1px);border-style:solid;border-color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}:host input[type='checkbox']:checked{--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-border-opacity));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity))}:host input[type='checkbox']:checked::before{position:absolute;top:1px;left:1px;height:var(--dyte-space-3, 12px);width:var(--dyte-space-3, 12px);background-color:rgb(var(--dyte-colors-text-1000, 255 255 255));content:'';clip-path:polygon(5% 60%, 35% 93%, 100% 19%, 86% 4%, 36% 62%, 19% 44%)}*{box-sizing:border-box}.participants{margin-top:var(--dyte-space-2, 8px);padding:var(--dyte-space-0, 0px)}.ctr{box-sizing:border-box;padding-top:var(--dyte-space-0, 0px);padding-bottom:var(--dyte-space-0, 0px);overflow-y:auto;flex-grow:1;flex-basis:0}.empty-message{margin-top:var(--dyte-space-10, 40px);margin-bottom:var(--dyte-space-10, 40px);text-align:center;font-size:14px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.empty-room{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:var(--dyte-space-2, 8px);height:100%;text-align:center;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.empty-room dyte-icon{height:var(--dyte-space-7, 28px);width:var(--dyte-space-7, 28px)}.empty-room p{font-size:16px;font-weight:500;margin:var(--dyte-space-0, 0px)}.empty-room span{font-size:12px;color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}.search-wrapper{margin-bottom:var(--dyte-space-1, 4px);display:flex;align-items:center;gap:var(--dyte-space-2, 8px)}.search{position:sticky;box-sizing:border-box;display:flex;align-items:center;border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-0, 0px);height:var(--dyte-space-8, 32px)}.search .search-icon{margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-2, 8px);height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px);color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}.search input{box-sizing:border-box;width:100%;padding-right:var(--dyte-space-2, 8px);border-width:var(--dyte-border-width-none, 0);border-style:none;background-color:inherit;color:rgb(var(--dyte-colors-text-1000, 255 255 255));outline:2px solid transparent;outline-offset:2px;border-radius:var(--dyte-border-radius-sm, 4px);font-size:14px}.search input::-moz-placeholder{color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}.search input::placeholder{color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}.header{margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-1\\\\.5, 6px);height:var(--dyte-space-9, 36px);padding-top:var(--dyte-space-3, 12px);padding-bottom:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-0\\\\.5, 2px);border-bottom-width:var(--dyte-border-width-sm, 1px);border-top-width:var(--dyte-border-width-none, 0);border-right-width:var(--dyte-border-width-none, 0);border-left-width:var(--dyte-border-width-none, 0);border-style:solid;--tw-border-opacity:1;border-bottom-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-border-opacity));font-size:12px;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));display:flex;align-items:center;justify-content:space-between}.title-wrapper{display:flex;align-items:center;gap:var(--dyte-space-2, 8px)}.participant-count{display:flex;align-items:center;font-size:14px}.participant-count dyte-icon{margin-right:var(--dyte-space-0\\\\.5, 2px);width:var(--dyte-space-3, 12px)}.participant-item{display:flex;align-items:center;justify-content:space-between;margin-top:var(--dyte-space-1, 4px);margin-bottom:var(--dyte-space-1, 4px);border-radius:var(--dyte-border-radius-sm, 4px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);cursor:pointer}.participant-item input.hide-checkbox{display:none}.participant-item input:checked{display:inline-block}.dragging input{display:none}.participant-item:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.participant-item:hover input{display:inline-block}.peer-ui-container{position:relative;display:flex;align-items:center;gap:var(--dyte-space-2, 8px);height:var(--dyte-space-10, 40px);cursor:pointer;border-radius:var(--dyte-border-radius-sm, 4px);color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.peer-ui-container dyte-avatar{height:var(--dyte-space-7, 28px);width:var(--dyte-space-7, 28px);font-size:14px;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.peer-ui-container .name{font-size:14px;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}\";\nconst DyteBreakoutRoomParticipantsStyle0 = dyteBreakoutRoomParticipantsCss;\n\nvar __decorate$W = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteBreakoutRoomParticipants = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.onSelectedParticipantsUpdate = createEvent(this, \"selectedParticipantsUpdate\", 7);\n        this.onAllToggled = createEvent(this, \"allParticipantsToggleUpdate\", 7);\n        this.onParticipantsDragging = createEvent(this, \"participantsDragging\", 7);\n        /** Participant ids */\n        this.participantIds = [];\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        this.search = '';\n        this.participantsToShow = [];\n        /** selected participants */\n        this.selectedParticipantIds = [];\n        this.isDragging = false;\n        this.onSearchInput = (e) => {\n            this.search = e.target.value;\n        };\n        this.onDragStart = (participant) => {\n            this.isDragging = true;\n            this.onParticipantsDragging.emit(true);\n            this.updateSelectedParticipants(participant, true);\n        };\n        this.onDragEnd = (participant) => {\n            this.isDragging = false;\n            this.onParticipantsDragging.emit(false);\n            this.updateSelectedParticipants(participant, false);\n        };\n        this.onClick = (participant) => {\n            const selected = this.selectedParticipantIds.includes(participantIdentifier(participant));\n            this.updateSelectedParticipants(participant, !selected);\n        };\n        this.onToggleAll = (checked) => {\n            const selectedParticipants = checked ? this.participantsToShow.map(participantIdentifier) : [];\n            this.onAllToggled.emit(selectedParticipants);\n        };\n    }\n    connectedCallback() {\n        this.meetingChanged(this.meeting);\n        this.searchChanged(this.search);\n    }\n    disconnectedCallback() {\n        if (this.meeting == null)\n            return;\n    }\n    updateSelectedParticipants(participant, selected) {\n        const id = participantIdentifier(participant);\n        let selectedParticipants = [];\n        if (selected && !this.selectedParticipantIds.includes(id)) {\n            selectedParticipants = [...this.selectedParticipantIds, id];\n        }\n        else {\n            selectedParticipants = [...this.selectedParticipantIds.filter((x) => x !== id)];\n        }\n        this.onSelectedParticipantsUpdate.emit(selectedParticipants);\n    }\n    meetingChanged(meeting) {\n        if (meeting == null)\n            return;\n        this.getParticipants(this.search);\n    }\n    participantsChanged() {\n        this.getParticipants(this.search);\n    }\n    searchChanged(search) {\n        this.getParticipants(search);\n    }\n    getParticipants(search) {\n        const allParticipants = getAllConnectedParticipants(this.meeting);\n        this.participantsToShow = allParticipants.filter((participant) => {\n            var _a;\n            return (this.participantIds.includes(participantIdentifier(participant)) &&\n                ((_a = participant.displayName) !== null && _a !== void 0 ? _a : '').toLowerCase().includes(search.toLowerCase()));\n        });\n    }\n    renderPeer(participant) {\n        const name = formatName(participant.displayName || '');\n        return (h(\"div\", { class: \"peer-ui-container\" }, h(\"dyte-avatar\", { participant: {\n                name: participant.displayName,\n                picture: participant.displayPictureUrl,\n            }, size: \"sm\" }), h(\"p\", { class: \"name\", title: name }, shorten(name, 16), this.meeting.self.userId === participant.id && ` (${this.t('you')})`)));\n    }\n    render() {\n        return (h(Host, { key: 'f2d84e849f539e0c6fc709258c280894ed33bf03' }, h(\"div\", { key: '7a837d42639e0577ec6a263ad8551b7ad0d26178', class: \"search-wrapper\" }, h(\"div\", { key: '3297c0dd3654ebfc017bac54b0b88f3703894456', class: \"search\", part: \"search\" }, h(\"dyte-icon\", { key: '3703973e874502d500aa1e814bce881f6731e132', icon: this.iconPack.search, part: \"search-icon\", class: \"search-icon\" }), h(\"input\", { key: '3a3ad70f36122385f7da50c018d2e326c0d37e5e', type: \"search\", autocomplete: \"off\", placeholder: this.t('search'), onInput: this.onSearchInput, part: \"search-input\" })), h(\"slot\", { key: '94570b18dbed22c304a86f571e7eb3a58a341d2e', name: \"shuffle-button\" })), h(\"div\", { key: '1945693901357dbcb608199c9ed460745390ab03', class: \"header\" }, h(\"div\", { key: '3929f5c2d37a6a60f8b21345535420ea5cc30d9e', class: \"title-wrapper\" }, h(\"span\", { key: 'fdcda41de05fc7a6cc1ce40af7d6b1a3d891e551' }, this.t('breakout_rooms.main_room')), h(\"span\", { key: '67730b14ab4b77e2d5f469ffeb187d631793bddb', class: \"participant-count\" }, \"(\", h(\"dyte-icon\", { key: '19d758f1f0bee73b1100754a7f4d369592f60bd2', icon: this.iconPack.people }), this.participantsToShow.length, \")\")), this.selectedParticipantIds.length !== 0 && (h(\"dyte-tooltip\", { key: '47eff73a22c4471e3f5c44bda4b966f2b3ad5e44', label: this.t('breakout_rooms.select_all') }, h(\"input\", { key: 'd180c3d5f879b263de54b7d449cf88b00dbfe1d7', type: \"checkbox\", checked: this.selectedParticipantIds.length === this.participantsToShow.length, onChange: (e) => this.onToggleAll(!!e.target.checked) })))), h(\"div\", { key: '33ea623c6378203774429d0964e35af32a4541d0', class: \"ctr scrollbar\", part: \"container\" }, this.participantsToShow.length > 0 && (h(\"ul\", { key: '89e4e47c8d67cac9eda4d3f6e4aab9cfa9fbede2', class: \"participants\", part: \"participants\" }, this.participantsToShow.map((participant) => (h(\"li\", { class: { 'participant-item': true, dragging: this.isDragging }, onClick: () => this.onClick(participant), onDragStart: () => this.onDragStart(participant), onDragEnd: () => this.onDragEnd(participant), draggable: this.selectedParticipantIds.length === 0, role: \"listitem\", key: participant.id }, this.renderPeer(participant), !this.isDragging && (h(\"input\", { type: \"checkbox\", class: {\n                'hide-checkbox': this.selectedParticipantIds.length === 0,\n            }, checked: this.selectedParticipantIds.includes(participantIdentifier(participant)) }))))))), this.participantsToShow.length === 0 && this.search.length > 0 && (h(\"div\", { key: '749a308a9fd64ebf4d0a0d92dee2cf1e03f6c3b9', class: \"empty-message\" }, this.t('participants.errors.empty_results'))), this.participantsToShow.length === 0 && this.search.length === 0 && (h(\"div\", { key: '0bc4d11ad0d47d5222ed886963888481aa21d1af', class: \"empty-room\" }, h(\"dyte-icon\", { key: '75fb66ad3077eaf45ea103147b7f74620d9bb2a7', icon: this.iconPack.people_checked, part: \"search-icon\", class: \"search-icon\" }), h(\"p\", { key: 'b94340bb40d335b1f5833c105b22c348c4e13cf6' }, this.t('breakout_rooms.all_assigned')), h(\"span\", { key: '807499efca10da51093eec42229356cd5acce1ec' }, this.t('breakout_rooms.empty_main_room')))))));\n    }\n    static get watchers() { return {\n        \"meeting\": [\"meetingChanged\"],\n        \"participantIds\": [\"participantsChanged\"],\n        \"search\": [\"searchChanged\"]\n    }; }\n};\n__decorate$W([\n    SyncWithStore()\n], DyteBreakoutRoomParticipants.prototype, \"meeting\", void 0);\n__decorate$W([\n    SyncWithStore()\n], DyteBreakoutRoomParticipants.prototype, \"iconPack\", void 0);\n__decorate$W([\n    SyncWithStore()\n], DyteBreakoutRoomParticipants.prototype, \"t\", void 0);\nDyteBreakoutRoomParticipants.style = DyteBreakoutRoomParticipantsStyle0;\n\nconst dyteBreakoutRoomsManagerCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.color-brand{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity))}.color-danger{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}.loading-content{height:var(--dyte-space-60, 240px);width:var(--dyte-space-96, 384px);padding:var(--dyte-space-9, 36px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));display:flex;align-items:center;justify-content:center}.room-config{overflow:hidden;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));display:flex;flex-direction:column;width:var(--dyte-space-96, 384px);padding-left:var(--dyte-space-9, 36px);padding-right:var(--dyte-space-9, 36px);padding-top:var(--dyte-space-10, 40px);padding-bottom:var(--dyte-space-10, 40px)}header{margin-bottom:var(--dyte-space-8, 32px);display:flex;align-items:center;gap:var(--dyte-space-2, 8px);font-size:24px;font-weight:600}header dyte-icon{height:var(--dyte-space-7, 28px);width:var(--dyte-space-7, 28px)}.create-room{margin-bottom:var(--dyte-space-4, 16px);display:flex;align-items:center;gap:var(--dyte-space-3, 12px);width:100%}.create-room p{margin:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-1, 4px);font-size:16px}.distribution-hint{margin-bottom:var(--dyte-space-8, 32px);font-size:14px;font-weight:400;color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}.distribution-hint em{font-style:normal;color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}footer{display:flex;flex-direction:row;vertical-align:middle;justify-content:center}footer dyte-button{width:100%;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}label{margin-bottom:var(--dyte-space-3, 12px);font-weight:400;color:rgb(var(--dyte-colors-text-1000, 255 255 255));opacity:0.4}.participant-config-wrapper{width:850px;height:595px;max-width:100%;max-height:100%;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));display:flex;flex-direction:column}.participant-config-actions{display:flex;justify-content:space-between;padding-left:var(--dyte-space-8, 32px);padding-right:var(--dyte-space-8, 32px);padding-top:var(--dyte-space-5, 20px);padding-bottom:var(--dyte-space-5, 20px);border-bottom-right-radius:var(--dyte-border-radius-md, 8px);border-bottom-left-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.participant-config{display:flex;flex-grow:1;flex-direction:row;overflow:hidden}aside{box-sizing:border-box;display:flex;width:var(--dyte-space-96, 384px);flex-grow:1;flex-direction:column;padding-left:var(--dyte-space-8, 32px);padding-right:var(--dyte-space-4, 16px);border-right-width:var(--dyte-border-width-sm, 1px);border-top-width:var(--dyte-border-width-none, 0);border-bottom-width:var(--dyte-border-width-none, 0);border-left-width:var(--dyte-border-width-none, 0);border-style:solid;--tw-border-opacity:1;border-right-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-border-opacity))}aside header{margin-bottom:var(--dyte-space-4, 16px);width:100%;padding-left:var(--dyte-space-0, 0px);padding-right:var(--dyte-space-0, 0px);padding-top:var(--dyte-space-8, 32px);font-size:20px;font-weight:500;line-height:2rem}.shuffle-button{display:flex;flex-direction:row;align-items:center}.shuffle-button dyte-icon{height:var(--dyte-space-8, 32px)}.participants-assign-actions{display:flex;flex-direction:row;align-items:center;justify-content:space-between;font-size:14px;padding-left:var(--dyte-space-8, 32px);padding-right:var(--dyte-space-2, 8px);margin-left:calc(var(--dyte-space-8, 32px) * -1);margin-right:calc(var(--dyte-space-4, 16px) * -1);padding-top:var(--dyte-space-0\\\\.5, 2px);padding-bottom:var(--dyte-space-0\\\\.5, 2px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}.participants-assign-actions .deselect-button{height:var(--dyte-space-6, 24px)}.participants-assign-actions .deselect-button:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}.assign-rooms{padding:var(--dyte-space-8, 32px);display:flex;width:100%;flex-direction:column}.assign-rooms .disabled{opacity:0.2}.assign-rooms .back{display:flex;cursor:pointer;flex-direction:row;align-items:center;justify-content:flex-start;padding:var(--dyte-space-4, 16px);padding-bottom:var(--dyte-space-0, 0px);font-size:14px;color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}.assign-rooms .back dyte-icon{height:var(--dyte-space-5, 20px)}.assign-rooms .row{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;gap:var(--dyte-space-3, 12px);margin-bottom:var(--dyte-space-4, 16px);font-size:14px}.assign-rooms .row-header{margin:var(--dyte-space-0, 0px);font-size:16px;line-height:2rem}.assign-rooms .cta-buttons{display:flex;align-items:center;justify-content:flex-start;gap:var(--dyte-space-2, 8px)}.assign-rooms .cta-buttons dyte-button div{display:flex;flex-direction:row;align-items:center}.assign-rooms .cta-buttons dyte-button div dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px)}.rooms{margin-bottom:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-1, 4px);display:flex;flex-grow:1;flex-direction:column;gap:var(--dyte-space-2, 8px);overflow-y:auto;max-height:500px}.rooms::-webkit-scrollbar{width:var(--dyte-space-1\\\\.5, 6px);border-radius:var(--dyte-border-radius-sm, 4px)}.rooms::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.rooms::-webkit-scrollbar-track{border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.breakout-actions{display:flex;flex-direction:row;align-items:center;justify-content:flex-end;gap:var(--dyte-space-2, 8px)}.breakout-actions .start-breakout-button{color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.breakout-actions .close-breakout-button{color:rgb(var(--dyte-colors-text-1000, 255 255 255));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-bg-opacity))}.breakout-actions .update-breakout-button{background-color:transparent;--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity));border-width:var(--dyte-border-width-sm, 1px);border-style:solid;--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-border-opacity))}.status-bar{display:flex;align-items:center;font-size:14px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));width:var(--dyte-space-80, 320px)}.ephemeral-status{--tw-text-opacity:1;color:rgba(var(--dyte-colors-success, 98 165 4) / var(--tw-text-opacity))}.ephemeral-status dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px)}.room-switcher-container{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));width:468px;padding:var(--dyte-space-8, 32px)}.add-room-jumbo-btn div{display:flex;align-items:center;gap:var(--dyte-space-1, 4px);font-size:14px;--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity))}.add-room-jumbo-btn div dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px)}.br-primary-btn:not([disabled]){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.br-primary-btn:not([disabled]):hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-600, 13 81 253) / var(--tw-bg-opacity))}.br-secondary-btn:not([disabled]){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.br-secondary-btn:not([disabled]):hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}\";\nconst DyteBreakoutRoomsManagerStyle0 = dyteBreakoutRoomsManagerCss;\n\nvar __decorate$V = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst MIN_ROOMS = 1;\nconst DyteBreakoutRoomsManager = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.stateUpdate = createEvent(this, \"dyteStateUpdate\", 7);\n        /** Flag to indicate busy state */\n        this.loading = false;\n        /** Breakout room config object */\n        this.roomConfig = {\n            rooms: 2,\n            step: 'room-config',\n            mode: 'create',\n            applyingChanges: false,\n        };\n        /** List of assigned participants */\n        // @State() unassignedParticipants: string[] = [];\n        /** Flag that tells if participants are being assigned or not */\n        this.assigningParticipants = false;\n        /** List of selected peers */\n        this.selectedParticipants = [];\n        /** update about room changes */\n        this.ephemeralStatusText = '';\n        /** Flag that tells if participants are being dragged */\n        this.isDragMode = false;\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        this.permissionsUpdateListener = () => {\n            this.permissions = this.meeting.self.permissions.connectedMeetings;\n        };\n        this.updateLocalState = (payload) => {\n            this.stateManager.updateCurrentState(payload);\n            this.draftState = this.stateManager.currentState;\n            if (this.meeting.connectedMeetings.isActive) {\n                this.roomConfig = Object.assign(Object.assign({}, this.roomConfig), { mode: 'edit' });\n            }\n            if (this.roomConfig.mode === 'create' && !this.meeting.connectedMeetings.isActive) {\n                resetRoomCount();\n            }\n            if (['edit', 'view'].includes(this.roomConfig.mode)) {\n                this.roomConfig = Object.assign(Object.assign({}, this.roomConfig), { rooms: payload.meetings.length, step: 'participants-config' });\n                this.selectedParticipants = [];\n            }\n        };\n        this.onAddNewRoom = () => {\n            this.stateManager.addNewMeeting();\n            this.draftState = this.stateManager.currentState;\n            this.selectorRef.scrollTo({ top: this.selectorRef.scrollHeight, behavior: 'smooth' });\n        };\n        this.onRoomUpdate = (event) => {\n            const { detail } = event;\n            this.stateManager.updateMeetingTitle(detail.id, detail.title);\n            this.draftState = this.stateManager.currentState;\n        };\n        this.onRoomDelete = (id) => {\n            const toDelete = this.stateManager.allConnectedMeetings.find((meeting) => meeting.id === id);\n            if (toDelete) {\n                this.stateManager.deleteMeeting(id);\n                this.draftState = this.stateManager.currentState;\n            }\n        };\n        this.unassignParticipant = (id) => {\n            this.stateManager.unassignParticipants([id]);\n            this.draftState = this.stateManager.currentState;\n        };\n        this.onUnassignAll = () => {\n            this.stateManager.unassignAllParticipants();\n            this.draftState = this.stateManager.currentState;\n        };\n        this.assignParticipantsToRoom = (destinationMeetingId) => {\n            if (this.selectedParticipants.length === 0 || this.assigningParticipants == false)\n                return;\n            this.stateManager.assignParticipantsToMeeting(this.selectedParticipants, destinationMeetingId);\n            this.draftState = this.stateManager.currentState;\n            this.selectedParticipants = [];\n            this.assigningParticipants = false;\n            this.setEphemeralStatus(this.t('breakout_rooms.ephemeral_status.participants_assigned'));\n        };\n        this.handleClose = (stateUpdate, store) => {\n            stateUpdate.emit({\n                activeBreakoutRoomsManager: {\n                    active: true,\n                },\n            });\n            store.activeBreakoutRoomsManager = {\n                active: true,\n            };\n        };\n        this.enableConfirmationModal = (modalType = 'start-breakout') => {\n            let activeConfirmationModal = {\n                active: true,\n                header: 'breakout_rooms.confirm_modal.start_breakout.header',\n                content: 'breakout_rooms.confirm_modal.start_breakout.content',\n                variant: 'primary',\n                cancelText: 'breakout_rooms.confirm_modal.start_breakout.cancelText',\n                ctaText: 'breakout_rooms.confirm_modal.start_breakout.ctaText',\n                onClick: () => this.applyChanges(),\n                onClose: this.handleClose,\n            };\n            if (modalType === 'close-breakout') {\n                activeConfirmationModal = {\n                    active: true,\n                    header: 'breakout_rooms.confirm_modal.close_breakout.header',\n                    content: 'breakout_rooms.confirm_modal.close_breakout.content',\n                    variant: 'danger',\n                    cancelText: 'cancel',\n                    ctaText: 'breakout_rooms.confirm_modal.close_breakout.ctaText',\n                    onClick: () => this.closeBreakout(),\n                    onClose: this.handleClose,\n                };\n            }\n            this.stateUpdate.emit({\n                activeBreakoutRoomsManager: { active: false },\n                activeConfirmationModal,\n            });\n        };\n        this.close = () => {\n            this.stateManager.discardChanges();\n            this.stateUpdate.emit({\n                activeBreakoutRoomsManager: {\n                    active: false,\n                },\n            });\n        };\n        this.applyChanges = async () => {\n            this.roomConfig = Object.assign(Object.assign({}, this.roomConfig), { applyingChanges: true });\n            await this.stateManager.applyChanges(this.meeting);\n            this.close();\n            this.roomConfig = Object.assign(Object.assign({}, this.roomConfig), { applyingChanges: false });\n        };\n    }\n    onSelectedParticipantsChanged(participants) {\n        if (participants.length > 0)\n            this.assigningParticipants = true;\n        else\n            this.assigningParticipants = false;\n    }\n    connectedCallback() {\n        this.permissionsUpdateListener();\n        this.meeting.connectedMeetings.on('stateUpdate', this.updateLocalState);\n        this.meeting.connectedMeetings.on('changingMeeting', this.close);\n        this.meeting.self.permissions.on('permissionsUpdate', this.permissionsUpdateListener);\n        this.stateManager = new BreakoutRoomsManager();\n        this.fetchRoomState();\n    }\n    disconnectedCallback() {\n        this.meeting.connectedMeetings.off('stateUpdate', this.updateLocalState);\n        this.meeting.connectedMeetings.off('changingMeeting', this.close);\n        this.meeting.self.permissions.off('permissionsUpdate', this.permissionsUpdateListener);\n    }\n    async fetchRoomState() {\n        this.loading = true;\n        await this.meeting.connectedMeetings.getConnectedMeetings();\n        this.loading = false;\n    }\n    setEphemeralStatus(text) {\n        this.ephemeralStatusText = text;\n        setTimeout(() => {\n            this.ephemeralStatusText = '';\n        }, 3000);\n    }\n    onCreateRooms() {\n        this.selectedParticipants = [];\n        this.stateManager.addNewMeetings(this.roomConfig.rooms);\n        this.draftState = this.stateManager.currentState;\n        // move to next step -> participants-config\n        this.roomConfig = Object.assign(Object.assign({}, this.roomConfig), { step: 'participants-config' });\n    }\n    onParticipantDelete(event) {\n        const { detail } = event;\n        const id = participantIdentifier(detail);\n        if (id == null)\n            return;\n        this.unassignParticipant(id);\n    }\n    toggleDragMode(e) {\n        this.isDragMode = e.detail;\n    }\n    assignParticipantsRandomly() {\n        if (this.stateManager.unassignedParticipants.length === 0)\n            return;\n        this.stateManager.assignParticipantsRandomly();\n        this.draftState = this.stateManager.currentState;\n        this.setEphemeralStatus(this.t('breakout_rooms.ephemeral_status.participants_assigned_randomly'));\n    }\n    async joinRoom(destinationMeetingId) {\n        const participantId = participantIdentifier(this.meeting.self);\n        this.stateManager.assignParticipantsToMeeting([participantId], destinationMeetingId);\n        await this.applyChanges();\n    }\n    async closeBreakout() {\n        this.stateManager.allConnectedMeetings.forEach((meeting) => this.stateManager.deleteMeeting(meeting.id));\n        await this.applyChanges();\n    }\n    updateSelectedParticipants(e) {\n        this.selectedParticipants = e.detail;\n    }\n    updateAllParticipants(e) {\n        this.selectedParticipants = e.detail;\n    }\n    getStatusText() {\n        if (this.ephemeralStatusText !== '')\n            return this.ephemeralStatusText;\n        let statusText = '';\n        if (this.roomConfig.mode === 'create') {\n            statusText = this.t('breakout_rooms.status.assign_multiple');\n            if (this.selectedParticipants.length !== 0) {\n                statusText = this.t('breakout_rooms.status.select_room');\n            }\n        }\n        return statusText;\n    }\n    getApproxDistribution() {\n        const num = this.stateManager.unassignedParticipants.length / (this.roomConfig.rooms || MIN_ROOMS);\n        return Math.max(MIN_ROOMS, Math.round(num));\n    }\n    deselectAll() {\n        this.selectedParticipants = [];\n    }\n    async discardChanges() {\n        this.stateManager.discardChanges();\n        await this.fetchRoomState();\n        this.setEphemeralStatus(this.t('breakout_rooms.ephemeral_status.changes_discarded'));\n    }\n    shouldShowOnlyRoomSwitcher() {\n        return this.permissions.canAlterConnectedMeetings === false;\n    }\n    getPermittedRooms() {\n        if (this.permissions.canAlterConnectedMeetings || this.permissions.canSwitchConnectedMeetings) {\n            return this.stateManager.allConnectedMeetings;\n        }\n        return this.stateManager.allConnectedMeetings.filter((cMeeting) => cMeeting.id === this.meeting.meta.meetingId);\n    }\n    renderMainRoomMaybe() {\n        if (!(this.meeting.connectedMeetings.isActive && this.permissions.canSwitchToParentMeeting)) {\n            return null;\n        }\n        return (h(\"dyte-breakout-room-manager\", { key: this.stateManager.currentState.parentMeeting['id'], assigningParticipants: this.assigningParticipants, isDragMode: this.isDragMode, meeting: this.meeting, mode: this.roomConfig.mode, onParticipantsAdd: () => this.assignParticipantsToRoom(this.stateManager.currentState.parentMeeting['id']), onRoomJoin: () => this.joinRoom(this.stateManager.currentState.parentMeeting['id']), onUpdate: this.onRoomUpdate, states: this.states, room: Object.assign({}, this.stateManager.currentState.parentMeeting), iconPack: this.iconPack, t: this.t }));\n    }\n    renderRoomSwitcher() {\n        return (h(Host, null, h(\"div\", { class: \"room-switcher-container\" }, h(\"header\", null, h(\"dyte-icon\", { icon: this.iconPack.breakout_rooms }), h(\"span\", null, this.t('breakout_rooms.join_breakout_header'))), h(\"div\", { class: \"rooms\", ref: (el) => (this.selectorRef = el) }, this.renderMainRoomMaybe(), this.getPermittedRooms().map((room, idx) => {\n            return (h(\"dyte-breakout-room-manager\", { key: room['id'], assigningParticipants: this.assigningParticipants, isDragMode: this.isDragMode, defaultExpanded: idx === 0, meeting: this.meeting, mode: this.roomConfig.mode, onDelete: () => this.onRoomDelete(room['id']), onParticipantsAdd: () => this.assignParticipantsToRoom(room['id']), onRoomJoin: () => this.joinRoom(room['id']), states: this.states, room: Object.assign({}, room), iconPack: this.iconPack, t: this.t, allowDelete: false }));\n        })))));\n    }\n    renderLoading() {\n        return (h(Host, null, h(\"div\", { class: \"loading-content\" }, h(\"dyte-spinner\", { size: \"xl\" }))));\n    }\n    renderRoomConfig() {\n        return (h(Host, null, h(\"div\", { class: \"room-config\" }, h(\"header\", null, h(\"dyte-icon\", { icon: this.iconPack.breakout_rooms }), h(\"span\", null, this.t('breakout_rooms.room_config_header'))), h(\"div\", { class: \"create-room\" }, h(\"p\", null, this.t('breakout_rooms.num_of_rooms')), h(\"dyte-counter\", { value: this.roomConfig.rooms, minValue: MIN_ROOMS, iconPack: this.iconPack, t: this.t, onValueChange: (val) => {\n                this.roomConfig = Object.assign(Object.assign({}, this.roomConfig), { rooms: Math.max(+val.detail, MIN_ROOMS) });\n            } })), h(\"span\", { class: \"distribution-hint\" }, `${this.t('breakout_rooms.approx')}${' '}`, ' ', h(\"em\", null, this.getApproxDistribution(), \" \", this.t('breakout_rooms.participants_per_room')), ' ', this.t('breakout_rooms.division_text')), h(\"footer\", null, h(\"dyte-button\", { kind: \"button\", size: \"lg\", title: this.t('create'), disabled: this.roomConfig.rooms === 0, onClick: () => this.onCreateRooms() }, this.t('create'))))));\n    }\n    render() {\n        if (this.loading) {\n            return this.renderLoading();\n        }\n        if (this.shouldShowOnlyRoomSwitcher()) {\n            return this.renderRoomSwitcher();\n        }\n        if (this.roomConfig.step === 'room-config') {\n            return this.renderRoomConfig();\n        }\n        // participant config\n        return (h(Host, null, h(\"div\", { class: \"participant-config-wrapper\" }, h(\"div\", { class: \"participant-config\" }, h(\"aside\", { part: \"menu\" }, h(\"header\", null, this.t('breakout_rooms.assign_participants')), h(\"dyte-breakout-room-participants\", { meeting: this.meeting, iconPack: this.iconPack, t: this.t, participantIds: this.stateManager.unassignedParticipants.map(participantIdentifier), selectedParticipantIds: this.selectedParticipants }, h(\"dyte-tooltip\", { label: this.t('breakout_rooms.shuffle_participants'), slot: \"shuffle-button\" }, h(\"dyte-button\", { disabled: this.roomConfig.mode === 'edit' ||\n                this.stateManager.unassignedParticipants.length === 0, kind: \"button\", variant: \"secondary\", size: \"md\", onClick: () => this.assignParticipantsRandomly(), class: \"shuffle-button br-primary-btn\" }, h(\"dyte-icon\", { icon: this.iconPack.shuffle })))), this.selectedParticipants.length !== 0 && (h(\"div\", { class: \"participants-assign-actions\" }, h(\"span\", null, `${this.selectedParticipants.length} ${this.t('breakout_rooms.selected')}`), h(\"dyte-button\", { disabled: this.roomConfig.mode === 'edit', kind: \"button\", variant: \"ghost\", size: \"md\", onClick: () => this.deselectAll(), class: \"deselect-button color-danger\" }, this.t('breakout_rooms.deselect'))))), h(\"div\", { class: \"assign-rooms\" }, h(\"div\", { class: \"row\" }, h(\"p\", { class: \"row-header\" }, this.t('breakout_rooms.rooms'), \" (\", this.stateManager.allConnectedMeetings.length, \")\"), !this.assigningParticipants && (h(\"div\", { class: \"cta-buttons\" }, h(\"dyte-button\", { kind: \"button\", variant: \"secondary\", class: \"br-primary-btn\" }, h(\"div\", { onClick: this.onAddNewRoom }, h(\"dyte-icon\", { icon: this.iconPack.add }), this.t('breakout_rooms.add_room'))), this.stateManager.allConnectedMeetings.flatMap((m) => m.participants)\n            .length !== 0 && (h(\"dyte-button\", { kind: \"button\", variant: \"ghost\", onClick: this.onUnassignAll }, this.t('breakout_rooms.unassign_all')))))), h(\"div\", { class: \"rooms\", ref: (el) => (this.selectorRef = el) }, this.renderMainRoomMaybe(), this.getPermittedRooms().map((room, idx) => {\n            return (h(\"dyte-breakout-room-manager\", { key: room['id'], assigningParticipants: this.assigningParticipants, isDragMode: this.isDragMode, defaultExpanded: idx === 0, meeting: this.meeting, mode: this.roomConfig.mode, onDelete: () => this.onRoomDelete(room['id']), onParticipantsAdd: () => this.assignParticipantsToRoom(room['id']), onRoomJoin: () => this.joinRoom(room['id']), onUpdate: this.onRoomUpdate, states: this.states, room: Object.assign({}, room), iconPack: this.iconPack, t: this.t, allowDelete: this.stateManager.allConnectedMeetings.length > MIN_ROOMS }));\n        }), h(\"dyte-button\", { kind: \"button\", variant: \"secondary\", onClick: this.onAddNewRoom, class: \"add-room-jumbo-btn br-secondary-btn\" }, h(\"div\", null, h(\"dyte-icon\", { icon: this.iconPack.add }), h(\"span\", null, this.t('breakout_rooms.add_room_brief'))))))), h(\"div\", { class: \"participant-config-actions\" }, h(\"div\", { class: { 'status-bar': true, 'ephemeral-status': this.ephemeralStatusText !== '' } }, this.ephemeralStatusText !== '' && h(\"dyte-icon\", { icon: this.iconPack.checkmark }), this.getStatusText()), h(\"div\", { class: \"breakout-actions\" }, this.roomConfig.mode === 'create' && this.permissions.canAlterConnectedMeetings && (h(\"dyte-button\", { size: \"md\", class: \"start-breakout-button\", onClick: () => this.enableConfirmationModal('start-breakout') }, this.t('breakout_rooms.start_breakout'))), this.roomConfig.mode === 'edit' &&\n            this.stateManager.hasLocalChanges &&\n            this.permissions.canAlterConnectedMeetings && (h(\"dyte-button\", { size: \"md\", class: \"color-danger\", variant: \"ghost\", onClick: () => this.discardChanges() }, this.t('breakout_rooms.discard_changes'))), this.roomConfig.mode === 'edit' &&\n            this.stateManager.hasLocalChanges &&\n            this.permissions.canAlterConnectedMeetings && (h(\"dyte-button\", { size: \"md\", class: \"update-breakout-button\", onClick: this.applyChanges }, this.t('breakout_rooms.update_breakout'))), this.roomConfig.mode === 'edit' &&\n            !this.stateManager.hasLocalChanges &&\n            this.permissions.canAlterConnectedMeetings && (h(\"dyte-button\", { size: \"md\", class: \"close-breakout-button\", onClick: () => this.enableConfirmationModal('close-breakout') }, this.t('breakout_rooms.close_breakout'))))))));\n    }\n    static get watchers() { return {\n        \"selectedParticipants\": [\"onSelectedParticipantsChanged\"]\n    }; }\n};\n__decorate$V([\n    SyncWithStore()\n], DyteBreakoutRoomsManager.prototype, \"meeting\", void 0);\n__decorate$V([\n    SyncWithStore()\n], DyteBreakoutRoomsManager.prototype, \"states\", void 0);\n__decorate$V([\n    SyncWithStore()\n], DyteBreakoutRoomsManager.prototype, \"iconPack\", void 0);\n__decorate$V([\n    SyncWithStore()\n], DyteBreakoutRoomsManager.prototype, \"t\", void 0);\nDyteBreakoutRoomsManager.style = DyteBreakoutRoomsManagerStyle0;\n\nconst dyteBroadcastMessageModalCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;border-radius:var(--dyte-border-radius-md, 8px);padding:var(--dyte-space-4, 16px);width:100%;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));width:400px;max-width:80%}.content-col{display:flex;width:100%;flex-direction:column}h2{margin:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-2, 8px)}.content-row{display:flex;width:100%;flex-direction:row}.content-row dyte-button{margin-top:var(--dyte-space-4, 16px);width:100%}textarea{margin-top:var(--dyte-space-3, 12px);resize:none;border-radius:var(--dyte-border-radius-sm, 4px);border-width:var(--dyte-border-width-none, 0);border-style:none;font-family:var(--dyte-font-family, sans-serif);outline:2px solid transparent;outline-offset:2px;height:var(--dyte-space-16, 64px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));padding:var(--dyte-space-2, 8px);color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}textarea::-moz-placeholder{color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}textarea::placeholder{color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}select{border-radius:var(--dyte-border-radius-sm, 4px);border-width:var(--dyte-border-width-none, 0);border-style:none;padding-top:var(--dyte-space-3, 12px);padding-bottom:var(--dyte-space-3, 12px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);outline:2px solid transparent;outline-offset:2px;border-right-width:var(--dyte-border-width-md, 2px);border-style:solid;border-color:transparent;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}p{margin:var(--dyte-space-0, 0px);margin-top:var(--dyte-space-2, 8px);width:100%;text-align:center;font-size:14px;--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity));display:flex;flex-direction:row;align-items:center;justify-content:center}p dyte-icon{margin-left:var(--dyte-space-1, 4px);height:var(--dyte-space-5, 20px)}\";\nconst DyteBroadcastMessageModalStyle0 = dyteBroadcastMessageModalCss;\n\nvar __decorate$U = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteBroadcastMessageModal = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.stateUpdate = createEvent(this, \"dyteStateUpdate\", 7);\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        /** Broadcast message state */\n        this.messagePayload = {\n            to: 'Everyone',\n            message: '',\n        };\n        this.successMessage = false;\n    }\n    close() {\n        var _a;\n        (_a = this.stateUpdate) === null || _a === void 0 ? void 0 : _a.emit({ activeBroadcastMessageModal: false });\n    }\n    sendMessage() {\n        // TODO:(ishita1805) Send this.messagePayload to webcore.\n        this.successMessage = true;\n        setTimeout(() => {\n            this.close();\n        }, 2000);\n    }\n    render() {\n        return (h(Host, { key: '942c56592847886706d37d042922de10bc1d9ba2' }, h(\"div\", { key: '870f1187ffaad036b5bf08d85a2a90c947fe3475', class: \"content-col\" }, h(\"h2\", { key: '18764e77a37c5d4f2a8f6fdf7dd877e75d7e6cc1' }, \"Broadcast message to\"), h(\"select\", { key: '4ee081d8cc2c06a43b0f3b19d4a65b99ec8a35e4', onChange: (e) => {\n                this.messagePayload = Object.assign(Object.assign({}, this.messagePayload), { to: e.target.value });\n            } }, h(\"option\", { key: '37165f1fe83d97ca45a1c52393331601dab36f20' }, \"Everyone\"), h(\"option\", { key: '5fb75c26d28b155bd6b410ece1e55552c9a14444' }, \"List of rooms\")), h(\"textarea\", { key: '4173fc0b3f7811b99c15cdf4549ba18af8bf0f71', placeholder: \"Type message here...\", onInput: (e) => {\n                this.messagePayload = Object.assign(Object.assign({}, this.messagePayload), { message: e.target.value });\n            } }), this.successMessage ? (h(\"p\", null, \"Message sent to \", this.messagePayload.to, h(\"dyte-icon\", { icon: this.iconPack.checkmark }))) : (h(\"div\", { class: \"content-row\" }, h(\"dyte-button\", { onClick: () => this.close(), variant: \"secondary\" }, \"Cancel\"), \"\\u2002\", h(\"dyte-button\", { variant: \"primary\", onClick: () => this.sendMessage() }, \"Send\"))))));\n    }\n};\n__decorate$U([\n    SyncWithStore()\n], DyteBroadcastMessageModal.prototype, \"meeting\", void 0);\n__decorate$U([\n    SyncWithStore()\n], DyteBroadcastMessageModal.prototype, \"states\", void 0);\n__decorate$U([\n    SyncWithStore()\n], DyteBroadcastMessageModal.prototype, \"iconPack\", void 0);\n__decorate$U([\n    SyncWithStore()\n], DyteBroadcastMessageModal.prototype, \"t\", void 0);\nDyteBroadcastMessageModal.style = DyteBroadcastMessageModalStyle0;\n\nconst dyteButtonCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{--icon-size:var(--dyte-button-icon-size, var(--dyte-space-5, 20px));--transition-property:var(--dyte-transition-property, all);--transition-duration:100ms;display:inline-flex;height:var(--dyte-space-8, 32px);cursor:pointer;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));font-size:14px;-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:var(--dyte-border-radius-sm, 4px);transition-property:var(--transition-property);transition-duration:var(--transition-duration)}button{box-sizing:border-box;background-color:transparent;color:inherit;border:var(--dyte-border-width-sm, 1px) solid transparent;padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);display:inline-flex;flex-grow:1;justify-content:center;vertical-align:baseline;gap:var(--dyte-space-1, 4px);transition-property:var(--transition-property);transition-duration:var(--transition-duration);outline:none;height:inherit;border-radius:inherit;fill:inherit;cursor:inherit;font-weight:inherit;font-family:inherit;font-size:inherit;line-height:inherit}.start,.content,.end{align-self:center}::slotted(dyte-icon),::slotted(dyte-spinner){height:var(--icon-size);width:var(--icon-size)}:host([variant='primary']){color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}:host(:hover){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-600, 13 81 253) / var(--tw-bg-opacity))}button:focus-visible{border-color:rgb(var(--dyte-colors-text-1000, 255 255 255))}:host(:active){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-700, 2 70 253) / var(--tw-bg-opacity))}:host([disabled]:not([disabled='false'])){cursor:not-allowed;opacity:0.6}:host([variant='secondary']){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}:host([variant='secondary']:hover){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}:host([variant='secondary']:active){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity))}:host([variant='danger']){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-bg-opacity))}:host([variant='danger']:hover){background-color:rgba(var(--dyte-colors-danger, 255 45 45) / 0.7)}:host([variant='danger']:active){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-bg-opacity))}:host([variant='ghost']){background-color:transparent;color:inherit}:host([variant='ghost'].active){--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity))}:host([variant='ghost']:hover){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}:host([variant='ghost']:active){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}:host([kind='icon']){--icon-size:var(--dyte-space-5, 20px);width:var(--dyte-space-8, 32px)}:host([kind='icon']) button{padding-left:var(--dyte-space-0, 0px);padding-right:var(--dyte-space-0, 0px)}:host([kind='wide']){width:100%}:host([size='lg']){--icon-size:var(--dyte-space-5, 20px);height:var(--dyte-space-10, 40px);font-size:16px}:host([size='lg'][kind='icon']){--icon-size:var(--dyte-space-6, 24px);height:var(--dyte-space-10, 40px);width:var(--dyte-space-10, 40px)}:host([size='sm']){--icon-size:var(--dyte-space-4, 16px);height:var(--dyte-space-6, 24px);font-size:12px}:host([size='sm'][kind='icon']){height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}\";\nconst DyteButtonStyle0 = dyteButtonCss;\n\nvar __decorate$T = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteButton = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /** Button variant */\n        this.variant = 'primary';\n        /** Button type */\n        this.kind = 'button';\n        /** Whether to reverse order of children */\n        this.reverse = false;\n        /** Where the button is disabled or not */\n        this.disabled = false;\n        /** Button type */\n        this.type = 'button';\n    }\n    render() {\n        return (h(Host, { key: 'b6b2dd78e9e260a8009f6936800e94cee2146826' }, h(\"button\", { key: 'd607bc0d6e12ba1dcd050691ef7a23636b72ea17', part: \"button\", type: this.type, disabled: this.disabled }, h(\"span\", { key: '26166623d5ce0d9f9f23a57ff3793fab736bc90b', class: \"start\" }, h(\"slot\", { key: '2c3ee6d68ac313347e4acf8b05af72c492d56d85', name: \"start\" })), h(\"span\", { key: 'db86595c8d5763d45301c4a883e9ba3d013ed982', class: \"content\", part: \"content\" }, h(\"slot\", { key: '3b3b5541f807f71779195e9b0e559add82805e6b' })), h(\"span\", { key: '689b910116fd34150302a05f97d54a02df05431f', class: \"end\" }, h(\"slot\", { key: '296ea6a1eec98b235f8ebaaf096acfcac88ffc20', name: \"end\" })))));\n    }\n};\n__decorate$T([\n    SyncWithStore()\n], DyteButton.prototype, \"size\", void 0);\nDyteButton.style = DyteButtonStyle0;\n\nconst dyteCameraSelectorCss = \".dyte-select{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.dyte-select:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.dyte-select{display:block;border-radius:var(--dyte-border-radius-sm, 4px);border-width:var(--dyte-border-width-none, 0);border-style:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:var(--dyte-space-3, 12px);font-size:16px;--icon-size:var(--dyte-select-chevron-size, var(--dyte-space-6, 24px));--icon-right-position:var(--dyte-select-chevron-right-position, var(--dyte-space-2, 8px));background-image:url(\\\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e\\\");background-position:right var(--icon-right-position) center;background-repeat:no-repeat;background-size:var(--icon-size) var(--icon-size);padding-right:calc(var(--icon-right-position) * 5);width:100%;max-width:100%;text-overflow:ellipsis}.inline .dyte-select{margin-top:var(--dyte-space-1, 4px);width:100%;padding-top:var(--dyte-space-1, 4px);padding-bottom:var(--dyte-space-1, 4px);padding-left:var(--dyte-space-1\\\\.5, 6px);padding-right:var(--dyte-space-1\\\\.5, 6px);padding-right:var(--dyte-space-8, 32px);font-size:14px}.row{margin-bottom:var(--dyte-space-2, 8px);display:flex;width:100%;align-items:center;justify-content:space-between;gap:var(--dyte-space-3, 12px)}.group{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px)}.group>*{margin-bottom:var(--dyte-space-2, 8px)}.group>*:last-child{margin-bottom:var(--dyte-space-0, 0px)}.group select{flex:1 1 0%}.group{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-0, 0px)}.group>*{margin-bottom:var(--dyte-space-0, 0px)}label{display:flex;-webkit-user-select:none;-moz-user-select:none;user-select:none;align-items:center;gap:var(--dyte-space-1, 4px);font-size:14px}.inline.container{display:flex;align-items:center;justify-content:flex-start;gap:var(--dyte-space-2, 8px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px)}\";\nconst DyteCameraSelectorStyle0 = dyteCameraSelectorCss;\n\nvar __decorate$S = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteCameraSelector = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** variant */\n        this.variant = 'full';\n        /** Language */\n        this.t = useLanguage();\n        this.videoDevices = [];\n        this.canProduceVideo = true;\n        this.stageStateListener = () => {\n            this.canProduceVideo = this.meeting.self.permissions.canProduceVideo === 'ALLOWED';\n        };\n        this.deviceListUpdateListener = ({ devices }) => {\n            this.videoDevices = devices.filter((device) => device.kind === 'videoinput');\n        };\n        this.deviceUpdateListener = ({ device }) => {\n            if (device.kind !== 'videoinput')\n                return;\n            this.currentDevice = device;\n        };\n        this.mediaPermissionUpdateListener = async ({ kind, message }) => {\n            if (!this.meeting)\n                return;\n            if (kind === 'video' && message === 'ACCEPTED') {\n                this.videoDevices = await this.meeting.self.getVideoDevices();\n            }\n        };\n    }\n    meetingChanged(meeting) {\n        var _a, _b, _c;\n        if (meeting == null)\n            return;\n        (_a = meeting.self) === null || _a === void 0 ? void 0 : _a.addListener('deviceListUpdate', this.deviceListUpdateListener);\n        (_b = meeting.self) === null || _b === void 0 ? void 0 : _b.addListener('deviceUpdate', this.deviceUpdateListener);\n        (_c = meeting.self) === null || _c === void 0 ? void 0 : _c.addListener('mediaPermissionUpdate', this.mediaPermissionUpdateListener);\n        writeTask(async () => {\n            var _a, _b;\n            const videoDevices = await meeting.self.getVideoDevices();\n            const currentVideoDevice = (_a = meeting.self.getCurrentDevices()) === null || _a === void 0 ? void 0 : _a.video;\n            //  NOTE(callmetarush): Setting current video device to show on top of list\n            if (currentVideoDevice != undefined) {\n                this.videoDevices = [\n                    (_b = videoDevices.find((device) => device.deviceId === currentVideoDevice.deviceId)) !== null && _b !== void 0 ? _b : currentVideoDevice,\n                    ...videoDevices.filter((device) => device.deviceId !== currentVideoDevice.deviceId),\n                ];\n            }\n            else {\n                this.videoDevices = videoDevices;\n            }\n        });\n    }\n    connectedCallback() {\n        this.meetingChanged(this.meeting);\n    }\n    disconnectedCallback() {\n        var _a, _b, _c, _d, _e;\n        (_b = (_a = this.meeting) === null || _a === void 0 ? void 0 : _a.stage) === null || _b === void 0 ? void 0 : _b.removeListener('stageStatusUpdate', this.stageStateListener);\n        (_c = this.meeting) === null || _c === void 0 ? void 0 : _c.self.removeListener('deviceListUpdate', this.deviceListUpdateListener);\n        (_d = this.meeting) === null || _d === void 0 ? void 0 : _d.self.removeListener('deviceUpdate', this.deviceUpdateListener);\n        (_e = this.meeting) === null || _e === void 0 ? void 0 : _e.self.removeListener('mediaPermissionUpdate', this.mediaPermissionUpdateListener);\n    }\n    async setDevice(deviceId) {\n        var _a;\n        const device = this.videoDevices.find((d) => d.deviceId === deviceId);\n        this.currentDevice = device;\n        if (device != null) {\n            await ((_a = this.meeting) === null || _a === void 0 ? void 0 : _a.self.setDevice(device));\n        }\n    }\n    render() {\n        if (this.meeting == null)\n            return null;\n        let unnamedVideoCount = 0;\n        return (h(Host, null, this.canProduceVideo && (h(\"div\", { class: 'group container ' + this.variant, part: \"camera-selection\" }, h(\"label\", null, this.variant !== 'inline' && this.t('camera'), h(\"dyte-icon\", { icon: this.iconPack.video_on, size: \"sm\" })), h(\"div\", { class: \"row\" }, h(\"select\", { class: \"dyte-select\", onChange: (e) => this.setDevice(e.target.value) }, this.videoDevices.map(({ deviceId, label }) => {\n            var _a;\n            return (h(\"option\", { selected: ((_a = this.currentDevice) === null || _a === void 0 ? void 0 : _a.deviceId) === deviceId, value: deviceId }, label || `Camera ${++unnamedVideoCount}`));\n        })))))));\n    }\n    static get watchers() { return {\n        \"meeting\": [\"meetingChanged\"]\n    }; }\n};\n__decorate$S([\n    SyncWithStore()\n], DyteCameraSelector.prototype, \"meeting\", void 0);\n__decorate$S([\n    SyncWithStore()\n], DyteCameraSelector.prototype, \"size\", void 0);\n__decorate$S([\n    SyncWithStore()\n], DyteCameraSelector.prototype, \"iconPack\", void 0);\n__decorate$S([\n    SyncWithStore()\n], DyteCameraSelector.prototype, \"t\", void 0);\nDyteCameraSelector.style = DyteCameraSelectorStyle0;\n\nconst dyteChannelCreatorCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\\\.5, 6px);width:var(--dyte-space-1\\\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));display:flex;flex-direction:column;width:var(--dyte-space-96, 384px);padding-left:var(--dyte-space-9, 36px);padding-right:var(--dyte-space-9, 36px);padding-top:var(--dyte-space-10, 40px);padding-bottom:var(--dyte-space-10, 40px)}header{margin-bottom:var(--dyte-space-8, 32px);display:flex;align-items:center;gap:var(--dyte-space-2, 8px);font-size:24px;font-weight:600}.channel-name-input{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));border-radius:var(--dyte-border-radius-sm, 4px);border-width:var(--dyte-border-width-none, 0);border-style:none;padding:var(--dyte-space-3, 12px);font-size:16px;-webkit-appearance:none;-moz-appearance:none;appearance:none;line-height:1.25;outline:2px solid transparent;outline-offset:2px}.channel-name-input:focus{outline-width:2px;outline-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / 0.5)}footer{margin-top:var(--dyte-space-5, 20px);display:flex;justify-content:flex-end}.member{display:flex;align-items:center;gap:var(--dyte-space-1, 4px);padding:var(--dyte-space-2, 8px)}.member dyte-avatar{height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px);font-size:14px;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.input-container{position:relative;-webkit-appearance:none;-moz-appearance:none;appearance:none;line-height:1.25;outline:2px solid transparent;outline-offset:2px;outline-width:2px;outline-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / 0.5);border-radius:var(--dyte-border-radius-sm, 4px)}.input-container .members{margin:var(--dyte-space-0, 0px);max-height:var(--dyte-space-28, 112px);border-radius:var(--dyte-border-radius-sm, 4px);padding:var(--dyte-space-2, 8px);list-style-type:none;display:flex;flex-wrap:wrap;gap:var(--dyte-space-1, 4px);cursor:text;font-size:16px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));overflow-y:auto;min-height:var(--dyte-space-7, 28px)}.input-container .pill{display:flex;align-items:center;gap:var(--dyte-space-1, 4px);border-radius:var(--dyte-border-radius-sm, 4px);padding:var(--dyte-space-2, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.input-container .pill dyte-avatar{height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px);font-size:14px;color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}.input-container .pill span{max-width:var(--dyte-space-32, 128px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.input-container .pill dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);cursor:pointer}.input-container input{width:var(--dyte-space-24, 96px);border-radius:var(--dyte-border-radius-sm, 4px);border-width:var(--dyte-border-width-none, 0);border-style:none;padding:var(--dyte-space-1, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));outline:2px solid transparent;outline-offset:2px;font-size:16px;line-height:1.25rem}.input-container input.wide-input{width:100%}.search-results{margin:var(--dyte-space-0, 0px);margin-top:var(--dyte-space-1, 4px);max-height:var(--dyte-space-28, 112px);width:100%;padding:var(--dyte-space-0, 0px);position:absolute;list-style-type:none;overflow-y:auto;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));border-radius:var(--dyte-border-radius-md, 8px);--tw-border-spacing-x:var(--dyte-space-2, 8px);--tw-border-spacing-y:var(--dyte-space-2, 8px);border-spacing:var(--tw-border-spacing-x) var(--tw-border-spacing-y);border-style:solid;border-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / 0.5)}.search-results .member{cursor:pointer}.search-results .member dyte-avatar{color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}.search-results .member:hover,.search-results .member.selected{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-700, 2 70 253) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}\";\nconst DyteChannelCreatorStyle0 = dyteChannelCreatorCss;\n\nvar __decorate$R = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteChannelCreator = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.stateUpdate = createEvent(this, \"dyteStateUpdate\", 7);\n        this.switchChannel = createEvent(this, \"switchChannel\", 7);\n        /** Language */\n        this.t = useLanguage();\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        this.channelName = '';\n        this.searchQuery = '';\n        this.step = 1;\n        this.loading = false;\n        this.selectedMemberIds = new Set();\n        this.focusedMemberIndex = -1;\n        this.showAllMembersList = false;\n        this.allMembers = new Map();\n        this.inputTextRef = null;\n        this.searchInputTextRef = null;\n        this.focusOnSearch = (selectText = false) => {\n            this.focusedMemberIndex = -1;\n            writeTask(() => {\n                var _a, _b;\n                (_a = this.searchInputTextRef) === null || _a === void 0 ? void 0 : _a.focus();\n                if (selectText)\n                    (_b = this.searchInputTextRef) === null || _b === void 0 ? void 0 : _b.select();\n            });\n        };\n        this.onClickHandler = async () => {\n            if (this.channelName.length === 0)\n                return;\n            if (this.step === 1) {\n                const members = this.meeting.participants.all.toArray();\n                const selfId = this.meeting.self.userId;\n                const nonSelfMembers = members.filter((member) => member.userId !== selfId);\n                nonSelfMembers.forEach((member) => this.allMembers.set(member.userId, member));\n                this.step = 2;\n                this.focusOnSearch();\n                return;\n            }\n            // step 2 - add members and create channel\n            await this.createChannel();\n        };\n        this.createChannel = async () => {\n            const members = Array.from(this.selectedMemberIds);\n            const newChannel = await this.meeting.chat.createChannel(this.channelName, members, {\n                displayPictureUrl: '',\n                visibility: 'public',\n                isDirectMessage: false,\n            });\n            this.switchChannel.emit(newChannel.id);\n            this.stateUpdate.emit({ activeChannelCreator: false });\n        };\n        this.onMemberAdd = (id) => {\n            this.showAllMembersList = false;\n            this.selectedMemberIds.add(id);\n            this.searchQuery = '';\n            this.focusOnSearch();\n        };\n        this.keyDownHandler = (e, filteredMembers) => {\n            if (e.key === 'ArrowDown') {\n                this.focusedMemberIndex = Math.min(this.focusedMemberIndex + 1, filteredMembers.length - 1);\n            }\n            else if (e.key === 'ArrowUp') {\n                if (this.focusedMemberIndex === -1)\n                    return;\n                if (this.focusedMemberIndex === 0) {\n                    this.focusOnSearch(true);\n                    return;\n                }\n                this.focusedMemberIndex = Math.max(this.focusedMemberIndex - 1, 0);\n            }\n            else if (e.key === 'Enter') {\n                this.onMemberAdd(filteredMembers[this.focusedMemberIndex].userId);\n            }\n            else if (e.key === 'Backspace') {\n                if (this.searchQuery.length !== 0)\n                    return;\n                if (this.selectedMemberIds.size === 0)\n                    return;\n                const lastMemberId = Array.from(this.selectedMemberIds.values()).at(-1);\n                this.selectedMemberIds.delete(lastMemberId);\n                forceUpdate(this.$el);\n            }\n        };\n        this.renderMemberSelector = () => {\n            const filteredMembers = Array.from(this.allMembers.values()).filter((member) => !this.selectedMemberIds.has(member.userId) &&\n                member.name.toLowerCase().includes(this.searchQuery.toLowerCase()));\n            const selectedMembers = Array.from(this.selectedMemberIds.values()).map((id) => this.allMembers.get(id));\n            const disableInput = this.selectedMemberIds.size === this.allMembers.size;\n            return (h(\"div\", { class: \"input-container\" }, h(\"ul\", { class: \"members scrollbar\", onClick: () => {\n                    var _a;\n                    (_a = this.searchInputTextRef) === null || _a === void 0 ? void 0 : _a.focus();\n                } }, selectedMembers.map((member) => (h(\"li\", { class: \"pill\" }, h(\"dyte-avatar\", { participant: {\n                    name: member.name,\n                    picture: member.picture,\n                }, size: \"sm\" }), h(\"span\", null, member.name), h(\"dyte-icon\", { icon: this.iconPack.dismiss, onClick: () => {\n                    this.selectedMemberIds.delete(member.userId);\n                    forceUpdate(this.$el);\n                    this.focusOnSearch();\n                } })))), !disableInput && (h(\"input\", { type: \"text\", ref: (el) => (this.searchInputTextRef = el), value: this.searchQuery, placeholder: this.selectedMemberIds.size === 0 ? this.t('chat.member_name') : '', class: {\n                    'wide-input': this.selectedMemberIds.size === 0,\n                }, onInput: (e) => {\n                    this.searchQuery = e.target.value.trim();\n                }, onClick: () => {\n                    this.showAllMembersList = !this.showAllMembersList;\n                }, onKeyDown: (e) => this.keyDownHandler(e, filteredMembers) }))), (this.searchQuery.length !== 0 || this.showAllMembersList) && (h(\"ul\", { class: \"search-results\" }, filteredMembers.map((member, index) => (h(\"li\", { class: { member: true, selected: index === this.focusedMemberIndex }, onClick: () => this.onMemberAdd(member.userId), ref: ($li) => {\n                    if (index === this.focusedMemberIndex) {\n                        writeTask(() => {\n                            if ($li)\n                                $li.scrollIntoView({ behavior: 'smooth', block: 'end', inline: 'nearest' });\n                        });\n                    }\n                } }, h(\"dyte-avatar\", { participant: {\n                    name: member.name,\n                    picture: member.picture,\n                }, size: \"sm\" }), h(\"span\", null, member.name)))), filteredMembers.length === 0 && (h(\"li\", { class: \"member\" }, h(\"span\", null, this.t('chat.error.empty_results'))))))));\n        };\n    }\n    componentDidLoad() {\n        var _a;\n        (_a = this.inputTextRef) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    render() {\n        return (h(Host, { key: '4c1ae6e4b774e23f4a594a8471975bc67978c5ed' }, h(\"header\", { key: 'fc502cce45ea3d03814aadbf683b934866e2f1f0' }, this.step === 1 ? this.t('chat.new_channel') : this.t('chat.add_members')), this.step === 1 && (h(\"input\", { key: '5ed3f19504ea6d2393a0ad9edb51d930a1a53c98', class: \"channel-name-input\", type: \"text\", placeholder: this.t('chat.channel_name'), ref: (el) => (this.inputTextRef = el), onInput: (e) => {\n                this.channelName = e.target.value.trim();\n            } })), this.step === 2 && this.renderMemberSelector(), h(\"footer\", { key: '5d671033919ef077b067098abffb93ca41cc9736' }, h(\"dyte-button\", { key: 'c9016f42e4ca922ca6dbd2f35ab10be972bdd0b5', kind: \"button\", size: \"lg\", disabled: this.channelName.length === 0, onClick: this.onClickHandler }, this.step === 1 ? this.t('chat.add_members') : this.t('create')))));\n    }\n    get $el() { return getElement(this); }\n};\n__decorate$R([\n    SyncWithStore()\n], DyteChannelCreator.prototype, \"meeting\", void 0);\n__decorate$R([\n    SyncWithStore()\n], DyteChannelCreator.prototype, \"t\", void 0);\n__decorate$R([\n    SyncWithStore()\n], DyteChannelCreator.prototype, \"iconPack\", void 0);\nDyteChannelCreator.style = DyteChannelCreatorStyle0;\n\nconst dyteChannelDetailsCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\\\.5, 6px);width:var(--dyte-space-1\\\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));display:flex;flex-direction:column;width:var(--dyte-space-72, 288px);padding-top:var(--dyte-space-5, 20px);padding-bottom:var(--dyte-space-5, 20px);padding-left:var(--dyte-space-8, 32px);padding-right:var(--dyte-space-8, 32px)}header{font-size:20px}dyte-spinner{margin-top:var(--dyte-space-10, 40px);margin-bottom:var(--dyte-space-10, 40px);margin-left:auto;margin-right:auto}ul{margin-left:var(--dyte-space-0, 0px);margin-right:var(--dyte-space-0, 0px);margin-top:var(--dyte-space-6, 24px);margin-bottom:var(--dyte-space-4, 16px);height:var(--dyte-space-48, 192px);padding:var(--dyte-space-0, 0px);overflow-y:auto;list-style-type:none;display:flex;flex-direction:column;gap:var(--dyte-space-2, 8px)}ul li{margin-right:var(--dyte-space-2, 8px);display:flex;align-items:center;gap:var(--dyte-space-2, 8px);padding:var(--dyte-space-2, 8px);cursor:pointer;border-radius:var(--dyte-border-radius-sm, 4px)}ul li:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}ul li dyte-avatar{height:var(--dyte-space-7, 28px);width:var(--dyte-space-7, 28px);font-size:14px;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}\";\nconst DyteChannelDetailsStyle0 = dyteChannelDetailsCss;\n\nvar __decorate$Q = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteChannelDetails = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /** Language */\n        this.t = useLanguage();\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** List of channel members */\n        this.members = [];\n    }\n    renderMembers() {\n        return (h(\"ul\", { class: \"scrollbar\" }, this.members.map((member) => {\n            return (h(\"li\", null, h(\"dyte-avatar\", { participant: { name: member.name, picture: member.picture }, size: \"sm\" }), h(\"span\", null, member.name)));\n        })));\n    }\n    render() {\n        return (h(Host, { key: '7dc9ef6f5d052016ccb53bf943ef1ca26dd36e62' }, h(\"header\", { key: 'c113e7cd4271301e032d364954938e3f73f999dd' }, this.t('chat.channel_members')), this.renderMembers()));\n    }\n};\n__decorate$Q([\n    SyncWithStore()\n], DyteChannelDetails.prototype, \"t\", void 0);\n__decorate$Q([\n    SyncWithStore()\n], DyteChannelDetails.prototype, \"iconPack\", void 0);\nDyteChannelDetails.style = DyteChannelDetailsStyle0;\n\nconst dyteChannelHeaderCss = \"header{box-sizing:border-box;height:var(--dyte-space-16, 64px);width:100%;padding:var(--dyte-space-4, 16px);display:flex;justify-content:space-between;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));border-left-width:var(--dyte-border-width-none, 0);border-right-width:var(--dyte-border-width-none, 0);border-bottom-width:var(--dyte-border-width-sm, 1px);border-top-width:var(--dyte-border-width-none, 0);border-style:solid;--tw-border-opacity:1;border-bottom-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-border-opacity))}header.searching{justify-content:flex-end}header.searching .channel-details{display:none}header .channel-details{display:flex;flex-grow:1;flex-direction:column;justify-content:center;height:var(--dyte-space-9, 36px);width:var(--dyte-space-1, 4px)}header .channel-details .name{font-weight:500}header .channel-details .members{margin-top:var(--dyte-space-0\\\\.5, 2px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:12px;color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}header .channel-tools{display:flex;flex-shrink:0;justify-content:flex-end;gap:var(--dyte-space-1, 4px);min-width:var(--dyte-space-24, 96px)}header .channel-tools dyte-tooltip{height:var(--dyte-space-8, 32px);width:var(--dyte-space-10, 40px);display:flex}header .search-input{height:var(--dyte-space-8, 32px);width:var(--dyte-space-48, 192px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);border-width:var(--dyte-border-width-none, 0);border-style:none;outline:2px solid transparent;outline-offset:2px;border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}header .name{font-size:16px}header .br-primary-btn{background-color:transparent}header .br-primary-btn:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}@media (orientation: landscape) and (min-width: 400px){header.searching .channel-details{display:flex}}.back-btn{margin-right:var(--dyte-space-3, 12px)}\";\nconst DyteChannelHeaderStyle0 = dyteChannelHeaderCss;\n\nvar __decorate$P = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteChannelHeader = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.search = createEvent(this, \"search\", 7);\n        this.searchDismissed = createEvent(this, \"searchDismissed\", 7);\n        this.back = createEvent(this, \"back\", 7);\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        this.showChannelDetailsDialog = false;\n        this.showSearchBar = false;\n        this.members = [];\n        /** Show back button */\n        this.showBackButton = false;\n    }\n    onChannelChanged() {\n        if (this.$searchInput)\n            this.$searchInput.value = '';\n        this.showSearchBar = false;\n        if (!this.channel.isDirectMessage) {\n            this.meeting.chat.getChannelMembers(this.channel.id).then((members) => {\n                this.members = members;\n            });\n        }\n    }\n    connectedCallback() {\n        this.onChannelChanged();\n    }\n    renderChannelDetails() {\n        return (h(\"dyte-dialog\", { open: true, onDyteDialogClose: () => {\n                this.showChannelDetailsDialog = false;\n            }, iconPack: this.iconPack, t: this.t }, h(\"dyte-channel-details\", { members: this.members, channel: this.channel })));\n    }\n    render() {\n        if (!this.channel) {\n            return null;\n        }\n        return (h(Host, null, this.showChannelDetailsDialog && this.renderChannelDetails(), h(\"header\", { class: {\n                searching: this.showSearchBar,\n            } }, this.showBackButton && (h(\"dyte-button\", { kind: \"icon\", variant: \"secondary\", class: \"back-btn\", onClick: () => {\n                this.back.emit();\n            } }, h(\"dyte-icon\", { icon: this.iconPack.chevron_left }))), h(\"div\", { class: \"channel-details\" }, h(\"span\", { class: \"name\" }, this.channel.displayName), !this.channel.isDirectMessage && (h(\"span\", { class: \"members\" }, this.members.map((member) => member.name).join(', ')))), h(\"div\", { class: \"channel-tools\" }, !this.channel.isDirectMessage && (h(\"dyte-tooltip\", { label: this.t('chat.channel_members'), variant: \"primary\" }, h(\"dyte-button\", { kind: \"button\", variant: \"secondary\", size: \"md\", onClick: () => {\n                this.showChannelDetailsDialog = !this.showChannelDetailsDialog;\n            }, class: \"br-primary-btn\" }, h(\"dyte-icon\", { icon: this.iconPack.people }))))))));\n    }\n    static get watchers() { return {\n        \"channel\": [\"onChannelChanged\"]\n    }; }\n};\n__decorate$P([\n    SyncWithStore()\n], DyteChannelHeader.prototype, \"meeting\", void 0);\n__decorate$P([\n    SyncWithStore()\n], DyteChannelHeader.prototype, \"iconPack\", void 0);\n__decorate$P([\n    SyncWithStore()\n], DyteChannelHeader.prototype, \"t\", void 0);\nDyteChannelHeader.style = DyteChannelHeaderStyle0;\n\nconst dyteChannelSelectorViewCss = \".scrollbar {\\n  /* For Firefox */\\n  scrollbar-width: thin;\\n  scrollbar-color: var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\\n    var(--dyte-scrollbar-background, transparent);\\n}\\n\\n/* For WebKit */\\n.scrollbar::-webkit-scrollbar {\\n  height: var(--dyte-space-1\\\\.5, 6px);\\n  width: var(--dyte-space-1\\\\.5, 6px);\\n  border-radius: 9999px;\\n  background-color: var(--dyte-scrollbar-background, transparent);\\n}\\n\\n.scrollbar::-webkit-scrollbar-thumb {\\n  border-radius: 9999px;\\n  background-color: var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)));\\n}\\n\\n\\n:host {\\n  display: flex;\\n  flex-direction: column;\\n  width: 100%;\\n  --tw-bg-opacity: 1;\\n  background-color: rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));\\n  position: relative;\\n  z-index: 10;\\n  height: var(--dyte-space-12, 48px);\\n  min-height: 48px;\\n}\\n\\n.dropdown-trigger {\\n  height: 100%;\\n  width: 100%;\\n  border-width: var(--dyte-border-width-none, 0);\\n  border-style: none;\\n  padding: var(--dyte-space-4, 16px);\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  --tw-bg-opacity: 1;\\n  background-color: rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));\\n  font-size: 14px;\\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255));\\n  cursor: pointer;\\n  position: absolute;\\n  z-index: 20;\\n}\\n\\n.dropdown-trigger span {\\n  display: flex;\\n  flex: 1 1 0%;\\n  align-items: center;\\n  justify-content: space-between;\\n}\\n\\n.dropdown-trigger dyte-icon {\\n  margin-left: var(--dyte-space-1, 4px);\\n  height: var(--dyte-space-5, 20px);\\n  width: var(--dyte-space-5, 20px);\\n  flex-shrink: 0;\\n}\\n\\n@container chatcontainer (height < 360px) {\\n  .dropdown-trigger {\\n    padding: var(--dyte-space-2, 8px);\\n  }\\n  .dropdown {\\n    top: var(--dyte-space-8, 32px) !important;\\n  }\\n  .search-container {\\n    padding-left: var(--dyte-space-0, 0px) !important;\\n    padding-right: var(--dyte-space-0, 0px) !important;\\n    padding-top: var(--dyte-space-0, 0px) !important;\\n    padding-bottom: var(--dyte-space-0, 0px) !important;\\n  }\\n  input {\\n    height: var(--dyte-space-8, 32px) !important;\\n    border-radius: var(--dyte-border-radius-none, 0) !important;\\n  }\\n  .channel {\\n    height: var(--dyte-space-8, 32px) !important;\\n    border-radius: var(--dyte-border-radius-sm, 4px) !important;\\n  }\\n  .avatar-icon {\\n    height: var(--dyte-space-3, 12px) !important;\\n    width: var(--dyte-space-3, 12px) !important;\\n    padding: var(--dyte-space-1, 4px) !important;\\n  }\\n\\n  dyte-avatar {\\n    height: var(--dyte-space-5, 20px) !important;\\n    width: var(--dyte-space-5, 20px) !important;\\n  }\\n}\\n\\n.dropdown {\\n  position: absolute;\\n  width: 100%;\\n  --tw-bg-opacity: 1;\\n  background-color: rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));\\n  top: var(--dyte-space-12, 48px);\\n  z-index: 10;\\n  animation: 0.3s slide-down ease;\\n}\\n\\n.dropdown .channels-container {\\n  max-height: var(--dyte-space-80, 320px);\\n}\\n\\n.list {\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.list .channel .channel-data {\\n  align-items: flex-start;\\n}\\n\\n.unread-count {\\n  display: flex;\\n  justify-content: center;\\n  height: var(--dyte-space-5, 20px);\\n  min-width: var(--dyte-space-3, 12px);\\n  border-radius: 9999px;\\n  padding-left: var(--dyte-space-1, 4px);\\n  padding-right: var(--dyte-space-1, 4px);\\n  font-size: 12px;\\n  line-height: 1.25rem;\\n  --tw-bg-opacity: 1;\\n  background-color: rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));\\n  color: rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));\\n}\\n\\ninput {\\n  height: var(--dyte-space-9, 36px);\\n  width: 100%;\\n  padding-left: var(--dyte-space-3, 12px);\\n  padding-right: var(--dyte-space-3, 12px);\\n  box-sizing: border-box;\\n  border-width: var(--dyte-border-width-none, 0);\\n  border-style: none;\\n  outline: 2px solid transparent;\\n  outline-offset: 2px;\\n  border-radius: var(--dyte-border-radius-sm, 4px);\\n  --tw-bg-opacity: 1;\\n  background-color: rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));\\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255));\\n}\\n\\n.search-container {\\n  display: flex;\\n  flex-shrink: 0;\\n  flex-grow: 0;\\n  flex-basis: auto;\\n  align-items: center;\\n  padding-top: var(--dyte-space-3, 12px);\\n  padding-bottom: var(--dyte-space-3, 12px);\\n  padding-left: var(--dyte-space-2, 8px);\\n  padding-right: var(--dyte-space-2, 8px);\\n  border-bottom: var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-700, 44 44 44));\\n}\\n\\n.search-container dyte-icon {\\n  margin-left: calc(var(--dyte-space-8, 32px) * -1);\\n  height: var(--dyte-space-5, 20px);\\n  width: var(--dyte-space-5, 20px);\\n  color: rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76));\\n}\\n\\n.channels-container {\\n  display: flex;\\n  flex-direction: column;\\n  gap: var(--dyte-space-1, 4px);\\n  padding: var(--dyte-space-2, 8px);\\n  flex: 1 1 auto;\\n  overflow-y: auto;\\n}\\n\\n.channel {\\n  flex-shrink: 0;\\n  box-sizing: border-box;\\n  border-width: var(--dyte-border-width-none, 0);\\n  border-style: none;\\n  background-color: transparent;\\n  outline: 2px solid transparent;\\n  outline-offset: 2px;\\n  cursor: pointer;\\n  border-radius: var(--dyte-border-radius-md, 8px);\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  gap: var(--dyte-space-2, 8px);\\n  height: var(--dyte-space-16, 64px);\\n  width: 100%;\\n  padding-left: var(--dyte-space-2, 8px);\\n  padding-right: var(--dyte-space-3, 12px);\\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255));\\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;\\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\\n  transition-duration: 150ms;\\n}\\n\\n.channel:hover {\\n  --tw-bg-opacity: 1;\\n  background-color: rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));\\n}\\n\\n.channel .channel-data {\\n  flex: 1 1 0%;\\n  align-items: center;\\n  justify-content: space-between;\\n  display: flex;\\n  gap: var(--dyte-space-2, 8px);\\n}\\n\\n.channel .name {\\n  font-size: 16px;\\n}\\n\\n.channel .name, \\n  .channel .last-message {\\n  max-width: var(--dyte-space-40, 160px);\\n  text-align: left;\\n  overflow: hidden;\\n  display: -webkit-box;\\n  -webkit-box-orient: vertical;\\n  -webkit-line-clamp: 1;\\n}\\n\\n.channel .no-message {\\n  font-style: italic;\\n}\\n\\n.channel dyte-avatar {\\n  height: var(--dyte-space-12, 48px);\\n  width: var(--dyte-space-12, 48px);\\n  overflow: clip;\\n  border-radius: 9999px;\\n  font-size: 14px;\\n}\\n\\n.channel .avatar-icon {\\n  height: var(--dyte-space-6, 24px);\\n  width: var(--dyte-space-6, 24px);\\n  padding: var(--dyte-space-3, 12px);\\n  color: rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));\\n  overflow: clip;\\n  border-radius: 9999px;\\n  --tw-bg-opacity: 1;\\n  background-color: rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));\\n}\\n\\n.channel time, \\n  .channel .last-message {\\n  font-size: 12px;\\n  color: rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76));\\n}\\n\\n.channel.active {\\n  --tw-bg-opacity: 1;\\n  background-color: rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-bg-opacity));\\n  color: rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));\\n}\\n\\n.channel.active .unread-count {\\n  background-color: rgb(var(--dyte-colors-text-on-brand-800, var(--dyte-colors-text-800, 255 255 255 / 0.76)));\\n  --tw-text-opacity: 1;\\n  color: rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity));\\n}\\n\\n.channel.active time {\\n  color: rgb(var(--dyte-colors-text-on-brand-800, var(--dyte-colors-text-800, 255 255 255 / 0.76)));\\n}\\n\\n.channel.active .last-message {\\n  color: rgb(var(--dyte-colors-text-on-brand-700, var(--dyte-colors-text-700, 255 255 255 / 0.64)));\\n}\\n\\n.channel.active dyte-avatar {\\n  --tw-bg-opacity: 1;\\n  background-color: rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));\\n  color: rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));\\n}\\n\\n.col {\\n  gap: var(--dyte-space-1, 4px);\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.channel-meta {\\n  flex-shrink: 0;\\n  align-items: flex-end;\\n}\\n\\n@keyframes slide-down {\\n  from {\\n    transform: translateY(-50px);\\n  }\\n  to {\\n    transform: translateY(0%);\\n  }\\n}\\n\";\nconst DyteChannelSelectorViewStyle0 = dyteChannelSelectorViewCss;\n\nvar __decorate$O = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteChannelSelectorView = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.channelChange = createEvent(this, \"channelChange\", 7);\n        /** Disables search bar (default = false) */\n        this.disableSearch = false;\n        /** Hides avatar (default = false) */\n        this.hideAvatar = false;\n        /** Icon Pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        /** Render as dropdown or list (default = list) */\n        this.viewAs = 'list';\n        this.searchQuery = '';\n        this.showDropdown = false;\n        this.calculateListHeight = debounce(() => {\n            if (this.viewAs === 'list' && this.$listEl) {\n                let height = 0;\n                const slotEl = this.$el.shadowRoot.querySelector('slot[name=\"header\"]');\n                if (slotEl) {\n                    slotEl.assignedElements().forEach((e) => (height += e.offsetHeight));\n                }\n                if (this.$searchEl) {\n                    height += this.$searchEl.offsetHeight;\n                }\n                this.$listEl.style.height = `${window.innerHeight - height - 16}px`;\n            }\n        }, 60);\n        this.getFilteredChannels = () => {\n            if (this.searchQuery.trim() === '') {\n                return this.channels;\n            }\n            return this.channels.filter((channel) => {\n                return channel['name'].toLowerCase().includes(this.searchQuery.toLowerCase());\n            });\n        };\n        this.toggleDropdown = () => {\n            this.showDropdown = !this.showDropdown;\n        };\n        this.getChannelById = (id) => {\n            return this.channels.find((channel) => channel.id === id);\n        };\n        this.getTotalUnreads = () => {\n            return this.channels.reduce((acc, curr) => {\n                return acc + curr.unreadCount;\n            }, 0);\n        };\n        this.onChannelClickHandler = (channel) => {\n            this.channelChange.emit(channel);\n            if (this.viewAs === 'dropdown') {\n                this.showDropdown = false;\n            }\n        };\n    }\n    connectedCallback() {\n        this.resizeObserver = new ResizeObserver(this.calculateListHeight);\n    }\n    componentDidLoad() {\n        this.resizeObserver.observe(this.$el);\n        this.calculateListHeight();\n    }\n    disconnectedCallback() {\n        var _a;\n        (_a = this.resizeObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n        this.calculateListHeight.cancel();\n    }\n    getTimeLabel(messageDate) {\n        const today = new Date();\n        const yesterday = new Date(today);\n        yesterday.setDate(today.getDate() - 1);\n        const firstDayOfWeek = new Date(today);\n        firstDayOfWeek.setDate(today.getDate() - today.getDay() - 1);\n        if (messageDate.toDateString() === today.toDateString()) {\n            return messageDate.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n        }\n        else if (messageDate.toDateString() === yesterday.toDateString()) {\n            return this.t('date.yesteday');\n        }\n        else if (messageDate > firstDayOfWeek) {\n            const weekdays = [\n                'date.sunday',\n                'date.monday',\n                'date.tuesday',\n                'date.wednesday',\n                'date.thursday',\n                'date.friday',\n                'date.saturday',\n            ];\n            return this.t(weekdays[messageDate.getDay()]);\n        }\n        else {\n            return Intl.DateTimeFormat([], {\n                day: '2-digit',\n                month: '2-digit',\n                year: '2-digit',\n            }).format(messageDate);\n        }\n    }\n    render() {\n        const filteredChannels = this.getFilteredChannels();\n        const shouldShowDropdown = this.viewAs === 'list' || (this.viewAs === 'dropdown' && this.showDropdown);\n        return (h(Host, { key: 'ade72de18b78275705bb0b39f9923977b8ef479e' }, this.viewAs === 'list' && h(\"slot\", { key: '879f77f7f57896e2ef37ba1abfede94bbdd66b8c', name: \"header\" }), shouldShowDropdown && (h(\"div\", { key: 'a0d9818c26533cf1a65ec70cb385d6ac33ad6c6f', class: {\n                dropdown: this.viewAs === 'dropdown',\n                scrollbar: this.viewAs === 'dropdown',\n                list: this.viewAs === 'list',\n            } }, !this.disableSearch && (h(\"div\", { key: '428ca579360c29a390084c8f1969091c6b904a5a', class: \"search-container\", ref: (el) => (this.$searchEl = el) }, h(\"input\", { key: '255cbcd3cda43fd2fd8bd3a65cda1f6271476fb9', type: \"text\", placeholder: this.t('chat.search_conversations'), value: this.searchQuery, onInput: (e) => (this.searchQuery = e.target.value) }), h(\"dyte-icon\", { key: 'e85c4413dcd97df62fc96cf23aab4c0ef7276d79', icon: this.iconPack.search }))), h(\"div\", { key: 'a09eb0f58d6341be68cfc52832e84048f11946be', class: \"channels-container scrollbar\", ref: (el) => (this.$listEl = el) }, filteredChannels.map((channel) => {\n            return (h(\"button\", { class: { channel: true, active: this.selectedChannelId === channel.id }, onClick: () => this.onChannelClickHandler(channel) }, !this.hideAvatar && (h(\"div\", null, channel.icon ? (h(\"dyte-icon\", { class: \"avatar-icon\", icon: this.iconPack[channel.icon] })) : (h(\"dyte-avatar\", { participant: {\n                    name: channel.name,\n                    picture: channel.avatarUrl,\n                } })))), h(\"div\", { class: \"channel-data\" }, h(\"div\", { class: \"col\" }, h(\"div\", { class: \"name\" }, channel.name), channel.latestMessage && (h(\"div\", { class: {\n                    'last-message': true,\n                    'no-message': !channel.latestMessage,\n                } }, h(\"dyte-text-message-view\", { isMarkdown: true, text: channel.latestMessage })))), h(\"div\", { class: \"col channel-meta\" }, channel.latestMessageTime && (h(\"time\", { class: \"time\" }, this.getTimeLabel(channel.latestMessageTime))), channel.unreadCount > 0 && (h(\"div\", { class: \"unread-count\" }, channel.unreadCount))))));\n        })))), this.viewAs === 'dropdown' && (h(\"button\", { key: 'af78d56510b62beeee9e17162a0fbe5a75b0b1af', class: \"dropdown-trigger\", onClick: this.toggleDropdown }, h(\"span\", { key: '10c170707e3c084d4a0a1a322128f6e685c075ed' }, this.selectedChannelId &&\n            `${this.t('to')} ${this.getChannelById(this.selectedChannelId).name}`, this.getTotalUnreads() > 0 && (h(\"div\", { key: 'b45263bedbb36f6b25cb595067a2418a110e9e45', class: \"unread-count\" }, this.getTotalUnreads()))), h(\"dyte-icon\", { key: 'ca61473ab2f859378fea75468dbf194a137ceba0', icon: this.showDropdown ? this.iconPack.chevron_up : this.iconPack.chevron_down })))));\n    }\n    get $el() { return getElement(this); }\n};\n__decorate$O([\n    SyncWithStore()\n], DyteChannelSelectorView.prototype, \"iconPack\", void 0);\n__decorate$O([\n    SyncWithStore()\n], DyteChannelSelectorView.prototype, \"t\", void 0);\nDyteChannelSelectorView.style = DyteChannelSelectorViewStyle0;\n\nconst dyteChatCss = \":host {\\n  line-height: initial;\\n  font-family: var(--dyte-font-family, sans-serif);\\n\\n  font-feature-settings: normal;\\n  font-variation-settings: normal;\\n}\\n\\np {\\n  margin: var(--dyte-space-0, 0px);\\n  padding: var(--dyte-space-0, 0px);\\n}\\n\\n.scrollbar {\\n  /* For Firefox */\\n  scrollbar-width: thin;\\n  scrollbar-color: var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\\n    var(--dyte-scrollbar-background, transparent);\\n}\\n\\n/* For WebKit */\\n.scrollbar::-webkit-scrollbar {\\n  height: var(--dyte-space-1\\\\.5, 6px);\\n  width: var(--dyte-space-1\\\\.5, 6px);\\n  border-radius: 9999px;\\n  background-color: var(--dyte-scrollbar-background, transparent);\\n}\\n\\n.scrollbar::-webkit-scrollbar-thumb {\\n  border-radius: 9999px;\\n  background-color: var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)));\\n}\\n\\n\\n:host {\\n  display: flex;\\n  height: 100%;\\n  width: 100%;\\n  flex-direction: column;\\n  font-size: 14px;\\n  position: relative;\\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255));\\n}\\n\\nh3 {\\n  margin: var(--dyte-space-0, 0px);\\n  display: flex;\\n  height: var(--dyte-space-12, 48px);\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 16px;\\n  font-weight: 400;\\n  color: rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));\\n  text-align: center;\\n}\\n\\n#dropzone {\\n  position: absolute;\\n  top: var(--dyte-space-0, 0px);\\n  right: var(--dyte-space-0, 0px);\\n  bottom: var(--dyte-space-0, 0px);\\n  left: var(--dyte-space-0, 0px);\\n  z-index: 10;\\n  display: none;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  --tw-bg-opacity: 1;\\n  background-color: rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));\\n  color: rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));\\n}\\n\\n#dropzone.active {\\n  display: flex;\\n  animation: 0.2s slide-up ease-in;\\n}\\n\\ndyte-chat-messages-ui,\\ndyte-chat-messages-ui-paginated {\\n  flex: 1 0 0;\\n}\\n\\ndyte-chat-composer-view {\\n  margin: var(--dyte-space-2, 8px);\\n}\\n\\n.chat-container {\\n  display: flex;\\n  height: 100%;\\n  width: 100%;\\n  flex-direction: row;\\n  container-type: size;\\n  container-name: chatcontainer;\\n}\\n\\n@container chatcontainer (height < 360px) {\\n  dyte-channel-selector-view {\\n    height: var(--dyte-space-8, 32px);\\n    min-height: 24px;\\n  }\\n}\\n\\n.chat {\\n  display: flex;\\n  flex: 1 1 0%;\\n  flex-direction: column;\\n}\\n\\n.banner {\\n  height: 100%;\\n  width: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.banner .welcome-new-channel {\\n  width: var(--dyte-space-48, 192px);\\n}\\n\\n.banner .create-channel-illustration {\\n  height: var(--dyte-space-40, 160px);\\n  width: var(--dyte-space-40, 160px);\\n}\\n\\n.channel-selector-header {\\n  box-sizing: border-box;\\n  height: var(--dyte-space-16, 64px);\\n  padding: var(--dyte-space-4, 16px);\\n  display: flex;\\n  justify-content: space-between;\\n  border-bottom: var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-700, 44 44 44));\\n}\\n\\n.channel-selector-header .channel-create-btn {\\n  width: var(--dyte-space-8, 32px);\\n  justify-content: center;\\n}\\n\\n.channel-selector-header .channel-create-btn:hover {\\n  --tw-text-opacity: 1;\\n  color: rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity));\\n}\\n\\n.view-chats-btn {\\n  margin-top: var(--dyte-space-4, 16px);\\n}\\n\\n.selector-container {\\n  z-index: 50;\\n  width: 100%;\\n  max-width: var(--dyte-space-80, 320px);\\n  border-right: var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));\\n}\\n\\n.selector-container.hide {\\n  display: none;\\n}\\n\\n.mobile-close-btn {\\n  display: none;\\n}\\n\\n.selector-container.mobile {\\n  height: 100%;\\n  width: 100%;\\n  max-width: 100%;\\n  position: absolute;\\n  top: var(--dyte-space-0, 0px);\\n  right: var(--dyte-space-0, 0px);\\n  bottom: var(--dyte-space-0, 0px);\\n  left: var(--dyte-space-0, 0px);\\n  background-color: rgba(var(--dyte-colors-background-1000, 8 8 8) / 0.6);\\n  display: flex;\\n}\\n\\n.selector-container.mobile dyte-channel-selector-view {\\n  max-width: var(--dyte-space-96, 384px);\\n    animation: 0.3s swipe-in;\\n}\\n\\n.selector-container.mobile .mobile-close-btn {\\n  margin-top: var(--dyte-space-4, 16px);\\n  margin-bottom: var(--dyte-space-4, 16px);\\n  margin-left: var(--dyte-space-6, 24px);\\n  margin-right: var(--dyte-space-6, 24px);\\n  display: block;\\n}\\n\\n.pinned-messages-header {\\n  display: flex;\\n  align-items: center;\\n  gap: var(--dyte-space-2, 8px);\\n  padding: var(--dyte-space-2, 8px);\\n  --tw-bg-opacity: 1;\\n  background-color: rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));\\n  font-size: 12px;\\n  cursor: pointer;\\n}\\n\\n.pinned-messages-header dyte-icon {\\n  height: var(--dyte-space-3, 12px);\\n  width: var(--dyte-space-3, 12px);\\n}\\n\\n.pinned-messages-header:hover {\\n  --tw-bg-opacity: 1;\\n  background-color: rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));\\n}\\n\\n.pinned-messages-header.active {\\n  --tw-bg-opacity: 1;\\n  background-color: rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));\\n}\\n\\n@keyframes swipe-in {\\n  from {\\n    transform: translateX(-100%);\\n  }\\n  to {\\n    transform: translateX(0);\\n  }\\n}\\n\";\nconst DyteChatStyle0 = dyteChatCss;\n\nvar __decorate$N = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteChat = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.stateUpdate = createEvent(this, \"dyteStateUpdate\", 7);\n        this.chatUpdateListener = ({ message }) => {\n            if (message.channelId)\n                return;\n            if (!this.displayFilter || this.displayFilter(message)) {\n                this.addToChatGroup(message);\n                // shallow copy to trigger render\n                this.chatGroups = Object.assign({}, this.chatGroups);\n            }\n        };\n        this.chatPermissionUpdateListener = () => {\n            this.canSend = this.meeting.self.permissions.chatPublic.canSend;\n            this.canSendTextMessage = this.meeting.self.permissions.chatPublic.text;\n            this.canSendFiles = this.meeting.self.permissions.chatPublic.files;\n        };\n        /** Config */\n        this.config = defaultConfig;\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        /** disables private chat */\n        this.disablePrivateChat = false;\n        /** Can current user pin/unpin messages */\n        this.canPinMessages = false;\n        /**\n         * @deprecated\n         * Beta API, will change in future\n         * List of target presets allowed as private chat recipient\n         */\n        this.privatePresetFilter = [];\n        /**\n         * @deprecated\n         * Beta API, will change in future\n         * A filter function for messages to be displayed\n         */\n        this.displayFilter = undefined;\n        this.unreadCountGroups = {};\n        this.chatGroups = { everyone: [] };\n        this.selectedGroup = 'everyone';\n        this.now = new Date();\n        this.dropzoneActivated = false;\n        this.showLatestMessageButton = false;\n        this.canSend = false;\n        this.canSendTextMessage = false;\n        this.canSendFiles = false;\n        this.canPrivateMessage = false;\n        this.canSendPrivateTexts = false;\n        this.canSendPrivateFiles = false;\n        this.emojiPickerEnabled = false;\n        this.chatRecipientId = 'everyone';\n        this.participants = [];\n        this.channels = [];\n        this.editingMessage = null;\n        this.replyMessage = null;\n        this.searchQuery = '';\n        this.selectorState = 'hide';\n        this.creatingChannel = false;\n        this.showPinnedMessages = false;\n        this.channelMap = new Map();\n        this.onDragOver = (e) => {\n            e.preventDefault();\n            this.dropzoneActivated = true;\n        };\n        this.onDragLeave = () => {\n            this.dropzoneActivated = false;\n        };\n        this.onDrop = (e) => {\n            e.preventDefault();\n            this.dropzoneActivated = false;\n            handleFilesDataTransfer(e.dataTransfer.items, (type, file) => {\n                var _a, _b, _c, _d;\n                switch (type) {\n                    case 'image':\n                        if (this.isFileMessagingAllowed()) {\n                            (_b = (_a = this.meeting) === null || _a === void 0 ? void 0 : _a.chat) === null || _b === void 0 ? void 0 : _b.sendImageMessage(file, this.getRecipientPeerIds());\n                        }\n                        break;\n                    case 'file':\n                        if (this.isFileMessagingAllowed()) {\n                            (_d = (_c = this.meeting) === null || _c === void 0 ? void 0 : _c.chat) === null || _d === void 0 ? void 0 : _d.sendFileMessage(file, this.getRecipientPeerIds());\n                        }\n                        break;\n                }\n            });\n        };\n        this.disconnectMeeting = (meeting) => {\n            var _a, _b, _c, _d, _e, _f;\n            if (this.isPrivateChatSupported()) {\n                meeting === null || meeting === void 0 ? void 0 : meeting.participants.joined.removeListener('participantJoined', this.onParticipantUpdate);\n                meeting === null || meeting === void 0 ? void 0 : meeting.participants.joined.removeListener('participantLeft', this.onParticipantUpdate);\n            }\n            (_a = meeting === null || meeting === void 0 ? void 0 : meeting.chat) === null || _a === void 0 ? void 0 : _a.removeListener('chatUpdate', this.chatUpdateListener);\n            (_b = meeting === null || meeting === void 0 ? void 0 : meeting.chat) === null || _b === void 0 ? void 0 : _b.removeListener('channelCreate', this.onChannelCreateOrUpdate);\n            (_c = meeting === null || meeting === void 0 ? void 0 : meeting.chat) === null || _c === void 0 ? void 0 : _c.removeListener('channelUpdate', this.onChannelCreateOrUpdate);\n            (_d = meeting === null || meeting === void 0 ? void 0 : meeting.chat) === null || _d === void 0 ? void 0 : _d.removeListener('channelMessageUpdate', this.onChannelCreateOrUpdate);\n            (_f = (_e = meeting === null || meeting === void 0 ? void 0 : meeting.participants) === null || _e === void 0 ? void 0 : _e.all) === null || _f === void 0 ? void 0 : _f.removeListener('participantsUpdate', this.onChannelCreateOrUpdate);\n            meeting.self.permissions.removeListener('*', this.chatPermissionUpdateListener);\n        };\n        this.getFilteredParticipants = () => {\n            if (this.privatePresetFilter.length === 0)\n                return this.participants;\n            return this.participants.filter((p) => this.privatePresetFilter.includes(p.presetName));\n        };\n        this.onParticipantUpdate = () => {\n            this.participants = this.meeting.participants.joined\n                .toArray()\n                .filter((p) => this.privatePresetFilter.length === 0 || this.privatePresetFilter.includes(p.presetName));\n            // if selected participant leaves, reset state to everyone\n            if (this.selectedParticipant && !this.participants.includes(this.selectedParticipant)) {\n                this.selectedParticipant = null;\n                this.chatRecipientId = this.selectedGroup = 'everyone';\n            }\n        };\n        this.usePaginatedChat = () => {\n            if (this.isGroupCall && this.showPinnedMessages)\n                return false;\n            return this.selectedGroup === 'everyone' && usePaginatedChat(this.meeting);\n        };\n        this.updateUnreadCountGroups = (obj) => {\n            this.unreadCountGroups = Object.assign(Object.assign({}, this.unreadCountGroups), obj);\n        };\n        this.isPrivateChatSupported = () => {\n            return this.canPrivateMessage && !this.disablePrivateChat;\n        };\n        this.updateRecipients = (event) => {\n            const { id } = event.detail;\n            this.chatRecipientId = id;\n            this.selectedParticipant = this.participants.find((p) => p.userId === id);\n            if (this.chatRecipientId !== 'everyone') {\n                const allParticipants = [this.chatRecipientId, this.meeting.self.userId];\n                const targetKey = generateChatGroupKey(allParticipants);\n                this.selectedGroup = targetKey;\n            }\n            else {\n                this.selectedGroup = 'everyone';\n            }\n            this.updateUnreadCountGroups({ [this.selectedGroup]: 0 });\n        };\n        this.isTextMessagingAllowed = () => {\n            if (this.chatRecipientId === 'everyone') {\n                // public chat\n                return this.canSend && this.canSendTextMessage;\n            }\n            // private chat\n            return this.canPrivateMessage && this.canSendPrivateTexts;\n        };\n        this.isFileMessagingAllowed = () => {\n            if (this.chatRecipientId === 'everyone') {\n                // public chat\n                return this.canSend && this.canSendFiles;\n            }\n            // private chat\n            return this.canPrivateMessage && this.canSendPrivateFiles;\n        };\n        this.onChannelChanged = (e) => {\n            const channel = e.detail;\n            if (channel.id.includes(TEMPORARY_CHANNEL_PREFIX)) {\n                this.createDMChannel(channel.id.replace(TEMPORARY_CHANNEL_PREFIX, ''));\n            }\n            else {\n                this.selectedChannelId = channel.id;\n            }\n            this.cleanup();\n            if (this.selectorState !== 'desktop') {\n                this.selectorState = 'hide';\n            }\n        };\n        this.createDMChannel = async (memberId) => {\n            this.creatingChannel = true;\n            const newChannel = await this.meeting.chat.createChannel('Direct Message', [memberId], {\n                visibility: 'private',\n                isDirectMessage: true,\n            });\n            this.creatingChannel = false;\n            this.selectedChannelId = newChannel.id;\n        };\n        this.cleanup = () => {\n            this.editingMessage = null;\n            this.replyMessage = null;\n            this.searchQuery = '';\n        };\n        this.onQuotedMessageDismiss = () => {\n            this.replyMessage = null;\n        };\n        this.onChannelCreateOrUpdate = (channel) => {\n            if (channel) {\n                this.channelMap.set(channel.id, channel);\n            }\n            else {\n                this.meeting.chat.channels.forEach((chan) => this.channelMap.set(chan.id, chan));\n            }\n            const allChannels = Array.from(this.channelMap.values());\n            const channels = allChannels\n                .filter((channel) => !isDirectMessageChannel(channel))\n                .sort((a, b) => alphabeticalSorter(a.displayName, b.displayName));\n            const membersWithChannel = allChannels.filter(isDirectMessageChannel).map((channel) => {\n                return Object.assign(Object.assign({}, channel), { displayName: this.getMemberDisplayName(channel) });\n            });\n            const membersWithoutChannel = this.meeting.participants.all\n                .toArray()\n                .filter((member) => {\n                if (member.userId === this.meeting.self.userId)\n                    return false;\n                const matcher = getDMComparator([this.meeting.self.userId, member.userId]);\n                return membersWithChannel.every((channel) => getDMComparator(channel.memberIds) !== matcher);\n            })\n                .map((member) => {\n                return {\n                    id: `${TEMPORARY_CHANNEL_PREFIX}${member.userId}`,\n                    displayName: member.name,\n                    displayPictureUrl: member.picture,\n                    isDirectMessage: true,\n                    unreadCount: 0,\n                };\n            });\n            const dms = [...membersWithChannel, ...membersWithoutChannel].sort((a, b) => alphabeticalSorter(a.displayName, b.displayName));\n            this.channels = [...channels, ...dms];\n            // select channel only if it is created in db\n            const nonTemporaryChannel = [...channels, ...membersWithChannel];\n            if (!this.selectedChannelId && nonTemporaryChannel.length !== 0) {\n                this.selectedChannelId = nonTemporaryChannel[0].id;\n            }\n        };\n        this.getMemberDisplayName = (channel) => {\n            var _a;\n            let id;\n            if (channel.memberIds.length === 1) {\n                // channel with self\n                id = channel.memberIds[0];\n            }\n            else {\n                id =\n                    channel.memberIds[0] === this.meeting.self.userId\n                        ? channel.memberIds[1]\n                        : channel.memberIds[0];\n            }\n            const member = this.meeting.participants.all.toArray().find((member) => member.userId === id);\n            return (_a = member === null || member === void 0 ? void 0 : member.name) !== null && _a !== void 0 ? _a : id;\n        };\n        this.onNewMessageHandler = async (e) => {\n            const message = e.detail;\n            if (this.isChatViewType) {\n                await this.meeting.chat.sendMessageToChannel(message, this.selectedChannelId, this.replyMessage\n                    ? {\n                        replyTo: this.replyMessage,\n                    }\n                    : {});\n                this.replyMessage = null;\n            }\n            else {\n                this.meeting.chat.sendMessage(message, this.getRecipientPeerIds());\n            }\n        };\n        this.onEditMessageHandler = async (e) => {\n            var _a, _b;\n            await ((_b = (_a = this.meeting) === null || _a === void 0 ? void 0 : _a.chat) === null || _b === void 0 ? void 0 : _b.editTextMessage(this.editingMessage.id, e.detail, this.editingMessage.channelId));\n            this.editingMessage = null;\n        };\n        this.onEditCancel = () => {\n            this.editingMessage = null;\n        };\n        this.onSearchHandler = async (e) => {\n            this.searchQuery = e.detail;\n        };\n        this.onSearchDismissed = () => {\n            this.searchQuery = '';\n        };\n        this.onChannelCreateClicked = () => {\n            this.stateUpdate.emit({ activeChannelCreator: true });\n        };\n        this.onPinMessage = (event) => {\n            const message = event.detail;\n            if (message.pinned) {\n                this.meeting.chat.unpin(message.id);\n            }\n            else {\n                this.meeting.chat.pin(message.id);\n            }\n        };\n        this.onDeleteMessage = (event) => {\n            const message = event.detail;\n            this.meeting.chat.deleteMessage(message.id);\n        };\n        this.getChannelItems = () => {\n            return this.channels.map((channel) => {\n                const result = {\n                    id: channel.id,\n                    name: channel.displayName,\n                    avatarUrl: channel.displayPictureUrl,\n                };\n                if (channel.latestMessage) {\n                    result.latestMessage =\n                        channel.latestMessage.type === 'text'\n                            ? stripOutReplyBlock(channel.latestMessage.message)\n                            : '';\n                    result.latestMessageTime = channel.latestMessage.time;\n                }\n                return result;\n            });\n        };\n        this.getPrivateChatRecipients = () => {\n            const participants = this.getFilteredParticipants().map((participant) => {\n                const key = generateChatGroupKey([participant.userId, this.meeting.self.userId]);\n                const result = {\n                    id: participant.userId,\n                    name: participant.name,\n                    avatarUrl: participant.picture,\n                    unreadCount: this.unreadCountGroups[key],\n                };\n                return result;\n            });\n            const everyone = {\n                id: 'everyone',\n                name: this.t('chat.everyone'),\n                icon: 'participants',\n                unreadCount: this.unreadCountGroups['everyone'],\n            };\n            return [everyone, ...participants];\n        };\n        this.onTogglePinnedMessages = () => {\n            this.showPinnedMessages = !this.showPinnedMessages;\n        };\n        this.renderPinnedMessagesHeader = () => {\n            if (this.meeting.chat.pinned.length === 0)\n                return null;\n            return (h(\"dyte-tooltip\", { label: this.t('chat.toggle_pinned_msgs') }, h(\"div\", { class: { 'pinned-messages-header': true, active: this.showPinnedMessages }, onClick: this.onTogglePinnedMessages }, h(\"dyte-icon\", { icon: this.iconPack.pin }), this.t('chat.pinned_msgs'), ` (${this.meeting.chat.pinned.length})`)));\n        };\n    }\n    connectedCallback() {\n        if (!this.meeting)\n            return;\n        this.meetingChanged(this.meeting);\n        if (this.meeting && !this.meeting.chat) {\n            return;\n        }\n        if (this.isFileMessagingAllowed()) {\n            this.host.addEventListener('dragover', this.onDragOver);\n            this.host.addEventListener('dragleave', this.onDragLeave);\n            this.host.addEventListener('drop', this.onDrop);\n        }\n    }\n    onEditMessageInit(event) {\n        if (event.detail.flags.isReply) {\n            this.replyMessage = event.detail.payload;\n        }\n        else if (event.detail.flags.isEdit) {\n            this.editingMessage = event.detail.payload;\n        }\n    }\n    disconnectedCallback() {\n        var _a;\n        (_a = this.resizeObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n        this.disconnectMeeting(this.meeting);\n        this.host.removeEventListener('dragover', this.onDragOver);\n        this.host.removeEventListener('dragleave', this.onDragLeave);\n        this.host.removeEventListener('drop', this.onDrop);\n    }\n    meetingChanged(meeting, oldMeeting) {\n        var _a, _b, _c, _d, _e, _f;\n        if (oldMeeting != undefined)\n            this.disconnectMeeting(oldMeeting);\n        if (meeting && !meeting.chat)\n            return;\n        if (meeting != null) {\n            this.canSend = meeting.self.permissions.chatPublic.canSend;\n            this.canSendTextMessage = meeting.self.permissions.chatPublic.text;\n            this.canSendFiles = meeting.self.permissions.chatPublic.files;\n            this.canPrivateMessage = !!(((_a = meeting.self.permissions.chatPrivate) === null || _a === void 0 ? void 0 : _a.canSend) ||\n                ((_b = meeting.self.permissions.chatPrivate) === null || _b === void 0 ? void 0 : _b.canReceive));\n            this.canSendPrivateTexts = !!((_c = meeting.self.permissions.chatPrivate) === null || _c === void 0 ? void 0 : _c.text);\n            this.canSendPrivateFiles = !!((_d = meeting.self.permissions.chatPrivate) === null || _d === void 0 ? void 0 : _d.files);\n            this.canPinMessages =\n                ((_e = meeting === null || meeting === void 0 ? void 0 : meeting.__internals__) === null || _e === void 0 ? void 0 : _e.features.hasFeature(FlagsmithFeatureFlags.PINNED_MESSAGES)) &&\n                    meeting.self.permissions.pinParticipant;\n            this.isGroupCall = meeting.meta.viewType === 'GROUP_CALL';\n            this.isChatViewType = meeting.meta.viewType === 'CHAT';\n            if (this.isChatViewType) {\n                this.onChannelCreateOrUpdate();\n                const validChannels = this.channels.filter((channel) => !channel.id.includes(TEMPORARY_CHANNEL_PREFIX));\n                if (validChannels.length) {\n                    this.selectedChannelId = this.channels[0].id;\n                }\n                if (this.resizeObserver) {\n                    this.resizeObserver.disconnect();\n                }\n                this.resizeObserver = new ResizeObserver((entries) => {\n                    for (const entry of entries) {\n                        if (entry.contentBoxSize[0].inlineSize < 758) {\n                            this.selectorState = 'hide';\n                        }\n                        else {\n                            this.selectorState = 'desktop';\n                        }\n                    }\n                });\n                if (this.isChatViewType) {\n                    this.resizeObserver.observe(this.host);\n                }\n            }\n            this.initializeChatGroups();\n            // shallow copy to trigger render\n            this.chatGroups = Object.assign({}, this.chatGroups);\n            meeting.self.permissions.on('*', this.chatPermissionUpdateListener);\n            this.onParticipantUpdate();\n            (_f = meeting.chat) === null || _f === void 0 ? void 0 : _f.addListener('chatUpdate', this.chatUpdateListener);\n            if (this.isPrivateChatSupported()) {\n                meeting.participants.joined.addListener('participantJoined', this.onParticipantUpdate);\n                meeting.participants.joined.addListener('participantLeft', this.onParticipantUpdate);\n            }\n            if (this.isChatViewType) {\n                meeting.chat.addListener('channelCreate', this.onChannelCreateOrUpdate);\n                meeting.chat.addListener('channelUpdate', this.onChannelCreateOrUpdate);\n                meeting.chat.addListener('channelMessageUpdate', this.onChannelCreateOrUpdate);\n                meeting.participants.all.addListener('participantsUpdate', this.onChannelCreateOrUpdate);\n            }\n        }\n    }\n    chatGroupsChanged(chatGroups) {\n        var _a, _b;\n        if (!this.isPrivateChatSupported()) {\n            return;\n        }\n        const unreadCounts = {};\n        for (const key in chatGroups) {\n            const lastReadTimestamp = (_a = chatUnreadTimestamps[key]) !== null && _a !== void 0 ? _a : 0;\n            unreadCounts[key] = chatGroups[key].filter((c) => c.type == 'chat' &&\n                c.message.time > lastReadTimestamp &&\n                c.message.userId !== this.meeting.self.userId).length;\n            if (key ===\n                generateChatGroupKey([this.meeting.self.userId, (_b = this.selectedParticipant) === null || _b === void 0 ? void 0 : _b.userId]) ||\n                (key === 'everyone' && this.selectedParticipant === null)) {\n                unreadCounts[key] = 0;\n                chatUnreadTimestamps[key] = new Date();\n            }\n        }\n        this.updateUnreadCountGroups(unreadCounts);\n    }\n    initializeChatGroups() {\n        var _a;\n        (_a = this.meeting.chat) === null || _a === void 0 ? void 0 : _a.messages.forEach((message) => {\n            if (!this.displayFilter || this.displayFilter(message)) {\n                this.addToChatGroup(message);\n            }\n        });\n    }\n    onDisplayFilterChanged(newFilter, oldFilter) {\n        if (newFilter !== oldFilter) {\n            this.chatGroups = {};\n            this.initializeChatGroups();\n        }\n    }\n    addToChatGroup(message) {\n        var _a;\n        const parsedMessage = parseMessageForTarget(message);\n        let key = 'everyone';\n        if (((_a = parsedMessage.targetUserIds) === null || _a === void 0 ? void 0 : _a.length) > 0) {\n            const allParticipants = new Set([\n                parsedMessage.userId,\n                ...parsedMessage.targetUserIds,\n            ]);\n            key = generateChatGroupKey(Array.from(allParticipants));\n        }\n        if (this.chatGroups[key] === undefined)\n            this.chatGroups[key] = [];\n        let isEditedMessage = false;\n        let messages = [];\n        this.chatGroups[key].forEach((chat) => {\n            if (chat.type === 'chat' && chat.message.id === message.id) {\n                isEditedMessage = true;\n                messages.push({ type: 'chat', message: parsedMessage });\n            }\n            else {\n                messages.push(chat);\n            }\n        });\n        if (!isEditedMessage) {\n            messages.push({ type: 'chat', message: parsedMessage });\n        }\n        this.chatGroups[key] = messages;\n    }\n    getRecipientPeerIds() {\n        let peerIds = [];\n        if (this.chatRecipientId !== 'everyone') {\n            peerIds = [this.selectedParticipant.id];\n        }\n        return peerIds;\n    }\n    channelSwitchListener(e) {\n        this.onChannelChanged(e);\n    }\n    renderHeadlessComponents() {\n        return (h(Fragment, null, h(\"dyte-dialog-manager\", { meeting: this.meeting }), h(\"dyte-notifications\", { meeting: this.meeting })));\n    }\n    renderComposerUI() {\n        var _a, _b, _c;\n        if (this.isChatViewType && this.channels.length === 0)\n            return null;\n        if (this.isChatViewType && this.searchQuery !== '')\n            return null;\n        if (this.isChatViewType && !this.selectedChannelId)\n            return null;\n        if (this.chatRecipientId === 'everyone') {\n            if (!this.canSendTextMessage && !this.canSendFiles)\n                return null;\n        }\n        else {\n            if (!this.canSendPrivateTexts && !this.canSendPrivateFiles)\n                return null;\n        }\n        const uiProps = { iconPack: this.iconPack, t: this.t, size: this.size };\n        const message = this.editingMessage ? this.editingMessage.message : '';\n        const quotedMessage = this.replyMessage ? this.replyMessage.message : '';\n        return (h(\"dyte-chat-composer-view\", Object.assign({ message: message, storageKey: (_a = this.selectedChannelId) !== null && _a !== void 0 ? _a : `draft-${this.selectedChannelId}`, quotedMessage: quotedMessage, isEditing: !!this.editingMessage, canSendTextMessage: this.isTextMessagingAllowed(), canSendFiles: this.isFileMessagingAllowed(), disableEmojiPicker: !!((_c = (_b = this.meeting) === null || _b === void 0 ? void 0 : _b.__internals__) === null || _c === void 0 ? void 0 : _c.features.hasFeature(FlagsmithFeatureFlags.DISABLE_EMOJI_PICKER)), maxLength: this.meeting.chat.maxTextLimit, rateLimits: this.meeting.chat.rateLimits, inputTextPlaceholder: this.t('chat.message_placeholder'), onNewMessage: this.onNewMessageHandler, onEditMessage: this.onEditMessageHandler, onEditCancel: this.onEditCancel, onQuotedMessageDismiss: this.onQuotedMessageDismiss }, uiProps), h(\"slot\", { name: \"chat-addon\", slot: \"chat-addon\" })));\n    }\n    renderFullChat() {\n        if (this.creatingChannel) {\n            return (h(\"div\", { class: \"banner\" }, h(\"dyte-spinner\", { size: \"lg\" })));\n        }\n        if (this.channels.length === 0 || !this.selectedChannelId) {\n            return (h(\"div\", { class: \"banner\" }, h(\"dyte-icon\", { icon: this.iconPack.create_channel_illustration, slot: \"start\", class: 'create-channel-illustration' }), h(\"dyte-button\", { kind: \"wide\", variant: \"primary\", size: \"md\", onClick: this.onChannelCreateClicked, class: \"welcome-new-channel\" }, h(\"dyte-icon\", { icon: this.iconPack.add, slot: \"start\" }), h(\"span\", null, this.t('chat.new_channel'))), (this.selectorState === 'mobile' || this.selectorState === 'hide') && (h(\"dyte-button\", { kind: \"button\", variant: \"secondary\", size: \"md\", class: \"view-chats-btn\", onClick: () => {\n                    this.selectorState = 'mobile';\n                } }, h(\"dyte-icon\", { icon: this.iconPack.chat, slot: \"start\" }), h(\"span\", null, this.t('chat.view_chats'))))));\n        }\n        const selectedChannel = this.channels.find((channel) => channel.id === this.selectedChannelId);\n        return (h(\"div\", { class: \"chat\" }, h(\"dyte-channel-header\", { slot: \"header\", meeting: this.meeting, channel: selectedChannel, onSearch: this.onSearchHandler, onSearchDismissed: this.onSearchDismissed, showBackButton: this.selectorState === 'mobile' || this.selectorState === 'hide', onBack: () => {\n                this.selectorState = 'mobile';\n            } }), this.searchQuery !== '' && (h(\"dyte-chat-search-results\", { meeting: this.meeting, query: this.searchQuery, channelId: this.selectedChannelId })), this.searchQuery === '' && (h(\"dyte-chat-messages-ui-paginated\", { meeting: this.meeting, size: this.size, iconPack: this.iconPack, t: this.t, selectedChannelId: this.selectedChannelId, selectedChannel: selectedChannel }))));\n    }\n    render() {\n        var _a, _b;\n        if (!this.meeting)\n            return null;\n        const uiProps = { iconPack: this.iconPack, t: this.t, size: this.size };\n        const selfUserId = (_a = this.meeting) === null || _a === void 0 ? void 0 : _a.self.userId;\n        let chatMessages = this.chatGroups[this.selectedGroup] || [];\n        if (this.showPinnedMessages && this.meeting.chat.pinned.length !== 0) {\n            chatMessages = chatMessages.filter((chat) => chat.type === 'chat' && chat.message.pinned);\n        }\n        return (h(Host, null, this.isChatViewType && this.renderHeadlessComponents(), h(\"div\", { class: \"chat-container\" }, this.isChatViewType && (h(\"div\", { class: { 'selector-container': true, [this.selectorState]: true } }, h(\"dyte-channel-selector-view\", { channels: this.getChannelItems(), selectedChannelId: this.selectedChannelId, onChannelChange: this.onChannelChanged, t: this.t }, h(\"div\", { class: \"channel-selector-header\", slot: \"header\" }, h(\"dyte-logo\", { meeting: this.meeting, config: this.config, t: this.t }), h(\"dyte-tooltip\", { label: this.t('chat.new_channel') }, h(\"dyte-button\", { kind: \"button\", variant: \"ghost\", size: \"md\", onClick: this.onChannelCreateClicked, class: \"channel-create-btn\" }, h(\"dyte-icon\", { icon: this.iconPack.add }))))), h(\"dyte-button\", { kind: \"icon\", variant: \"ghost\", class: \"mobile-close-btn\", onClick: () => (this.selectorState = 'hide') }, h(\"dyte-icon\", { icon: this.iconPack.dismiss })))), h(\"div\", { class: \"chat\" }, this.isFileMessagingAllowed() && (h(\"div\", { id: \"dropzone\", class: { active: this.dropzoneActivated }, part: \"dropzone\" }, h(\"dyte-icon\", { icon: this.iconPack.attach }), h(\"p\", null, this.t('chat.send_attachment')))), this.renderPinnedMessagesHeader(), this.isPrivateChatSupported() && (h(\"dyte-channel-selector-view\", { channels: this.getPrivateChatRecipients(), selectedChannelId: ((_b = this.selectedParticipant) === null || _b === void 0 ? void 0 : _b.userId) || 'everyone', onChannelChange: this.updateRecipients, t: this.t, viewAs: \"dropdown\" })), this.isChatViewType ? (this.renderFullChat()) : this.usePaginatedChat() ? (h(\"dyte-chat-messages-ui-paginated\", { meeting: this.meeting, onPinMessage: this.onPinMessage, onDeleteMessage: this.onDeleteMessage, size: this.size, iconPack: this.iconPack, t: this.t })) : (h(\"dyte-chat-messages-ui\", Object.assign({ messages: chatMessages, selfUserId: selfUserId, selectedGroup: this.selectedGroup, onPinMessage: this.onPinMessage, canPinMessages: this.canPinMessages }, uiProps))), this.renderComposerUI()))));\n    }\n    get host() { return getElement(this); }\n    static get watchers() { return {\n        \"meeting\": [\"meetingChanged\"],\n        \"chatGroups\": [\"chatGroupsChanged\"],\n        \"displayFilter\": [\"onDisplayFilterChanged\"]\n    }; }\n};\n__decorate$N([\n    SyncWithStore()\n], DyteChat.prototype, \"meeting\", void 0);\n__decorate$N([\n    SyncWithStore()\n], DyteChat.prototype, \"size\", void 0);\n__decorate$N([\n    SyncWithStore()\n], DyteChat.prototype, \"iconPack\", void 0);\n__decorate$N([\n    SyncWithStore()\n], DyteChat.prototype, \"t\", void 0);\nDyteChat.style = DyteChatStyle0;\n\nconst dyteChatComposerViewCss = \":host {\\n  display: flex;\\n  flex-direction: column;\\n  font-family: var(--dyte-font-family, sans-serif);\\n  font-size: 14px;\\n  position: relative;\\n}\\n\\n.quoted-message-container {\\n  margin-bottom: var(--dyte-space-2, 8px);\\n  display: flex;\\n  justify-content: space-between;\\n  --tw-bg-opacity: 1;\\n  background-color: rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));\\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255));\\n  border-radius: var(--dyte-border-radius-md, 8px);\\n  border: var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));\\n}\\n\\n.quoted-message-container .quoted-message {\\n  flex: 1 1 0%;\\n  padding: var(--dyte-space-2, 8px);\\n  border-radius: var(--dyte-border-radius-md, 8px);\\n  max-height: var(--dyte-space-24, 96px);\\n  overflow-y: auto;\\n  word-break: break-all;\\n}\\n\\n.quoted-message-container .quoted-message blockquote {\\n  display: none;\\n}\\n\\n.quoted-message-container dyte-icon.dismiss {\\n  margin-left: auto;\\n  height: var(--dyte-space-5, 20px);\\n  width: var(--dyte-space-5, 20px);\\n  padding: var(--dyte-space-2, 8px);\\n  border-radius: var(--dyte-border-radius-md, 8px);\\n  color: rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52));\\n}\\n\\n.quoted-message-container dyte-icon.dismiss:hover {\\n  cursor: pointer;\\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255));\\n}\\n\\n.quoted-message-container dyte-icon.dismiss {\\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;\\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\\n  transition-duration: 150ms;\\n}\\n\\n.composer-container {\\n  position: relative;\\n  --tw-bg-opacity: 1;\\n  background-color: rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));\\n  border-radius: var(--dyte-border-radius-md, 8px);\\n  overflow: hidden;\\n  border: var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));\\n}\\n\\n.composer-container > .composers {\\n    min-height: 60px;\\n  }\\n\\n@container chatcontainer (height < 360px) {\\n    .composer-container > .composers {\\n      min-height: 30px;\\n    }\\n}\\n\\n.chat-buttons {\\n  padding: var(--dyte-space-3, 12px);\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  --tw-bg-opacity: 1;\\n  background-color: rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));\\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255));\\n}\\n\\n.chat-buttons .right {\\n  z-index: 10;\\n}\\n\\n.chat-buttons .right .edit-buttons {\\n  display: flex;\\n  gap: var(--dyte-space-2, 8px);\\n}\\n\\n.chat-buttons > div {\\n  display: flex;\\n  align-items: center;\\n}\\n\\ndyte-emoji-picker {\\n  z-index: 20;\\n  position: absolute;\\n  top: calc(var(--dyte-space-72, 288px) * -1);\\n  border-top: var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));\\n  animation: 0.3s slide-up ease;\\n}\\n\\n@keyframes slide-up {\\n  from {\\n    transform: translateY(100%);\\n  }\\n  to {\\n    transform: translateY(0%);\\n  }\\n}\\n\";\nconst DyteChatComposerViewStyle0 = dyteChatComposerViewCss;\n\nvar __decorate$M = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst messageLimits = {\n    messagesSent: 0,\n    startTime: 0,\n};\nconst DyteChatComposerView = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.onNewMessage = createEvent(this, \"newMessage\", 7);\n        this.onEditMessage = createEvent(this, \"editMessage\", 7);\n        this.onEditCancel = createEvent(this, \"editCancel\", 7);\n        this.onQuotedMessageDismiss = createEvent(this, \"quotedMessageDismiss\", 7);\n        /** Whether user can send text messages */\n        this.canSendTextMessage = true;\n        /** Whether user can send file messages */\n        this.canSendFiles = true;\n        /** Message to be pre-populated */\n        this.message = '';\n        /** Quote message to be displayed */\n        this.quotedMessage = '';\n        /** Key for storing message in localStorage */\n        this.storageKey = 'dyte-text-message';\n        /** Placeholder for text input */\n        this.inputTextPlaceholder = 'Enter your message';\n        /** Sets composer to edit mode */\n        this.isEditing = false;\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        /** Whether to show emoji picker */\n        this.disableEmojiPicker = false;\n        /** Rate limits */\n        this.rateLimits = {\n            period: 60,\n            maxInvocations: 60,\n        };\n        this.fileToUpload = null;\n        this.isEmojiPickerOpen = false;\n        this.disableSendButton = false;\n        this.rateLimitsBreached = false;\n        this.textMessage = '';\n        this.sendFile = () => {\n            if (!this.canSendFiles) {\n                return;\n            }\n            if (this.fileToUpload.type === 'image') {\n                this.onNewMessage.emit({\n                    type: 'image',\n                    image: this.fileToUpload.file,\n                });\n            }\n            else {\n                this.onNewMessage.emit({ type: 'file', file: this.fileToUpload.file });\n            }\n            this.fileToUpload = null;\n        };\n        this.handleSendMessage = () => {\n            if (!this.canSendTextMessage || this.rateLimitsBreached) {\n                return;\n            }\n            if (this.fileToUpload !== null) {\n                this.sendFile();\n                return;\n            }\n            const message = this.textMessage;\n            const currentTime = Date.now();\n            if (currentTime - messageLimits.startTime > this.rateLimits.period * 1000) {\n                messageLimits.startTime = currentTime;\n                messageLimits.messagesSent = 0;\n            }\n            messageLimits.messagesSent += 1;\n            this.checkRateLimitBreached(currentTime);\n            if (message.length > 0) {\n                if (this.quotedMessage.length !== 0) {\n                    this.onNewMessage.emit({\n                        type: 'text',\n                        message,\n                    });\n                }\n                else {\n                    this.onNewMessage.emit({ type: 'text', message });\n                }\n                this.cleanup();\n            }\n        };\n        this.handleEditMessage = () => {\n            this.onEditMessage.emit(this.textMessage);\n            this.cleanup();\n        };\n        this.handleEditCancel = () => {\n            this.onEditCancel.emit();\n            this.cleanup();\n        };\n        this.onTextChangeHandler = (event) => {\n            var _a;\n            this.textMessage = event.detail;\n            if (this.textMessage.length >= ((_a = this.maxLength) !== null && _a !== void 0 ? _a : MAX_TEXT_LENGTH)) {\n                this.disableSendButton = true;\n            }\n            else if (this.disableSendButton) {\n                this.disableSendButton = false;\n            }\n            gracefulStorage.setItem(this.storageKey, event.detail);\n        };\n        this.onKeyDownHandler = (event) => {\n            if (event.key === 'Enter' && event.shiftKey) {\n                return;\n            }\n            if (this.disableSendButton) {\n                return;\n            }\n            if (event.key === 'Enter') {\n                event.preventDefault();\n                if (this.isEditing) {\n                    this.handleEditMessage();\n                }\n                else {\n                    this.handleSendMessage();\n                }\n            }\n        };\n        this.onFileUploadHandler = (type, file) => {\n            this.fileToUpload = { type, file };\n        };\n        this.onQuotedMessageDismissHandler = () => {\n            this.onQuotedMessageDismiss.emit();\n        };\n        this.cleanup = () => {\n            this.textMessage = '';\n            this.fileToUpload = null;\n            gracefulStorage.setItem(this.storageKey, '');\n            this.$textComposer.setText('', true);\n            this.isEmojiPickerOpen = false;\n        };\n        this.onKeyDownHandler = this.onKeyDownHandler.bind(this);\n    }\n    connectedCallback() {\n        this.textMessage = this.message || gracefulStorage.getItem(this.storageKey) || '';\n        this.checkRateLimitBreached(Date.now());\n    }\n    componentWillUpdate() {\n        this.textMessage = this.message || gracefulStorage.getItem(this.storageKey) || '';\n    }\n    componentDidLoad() {\n        if (this.message) {\n            writeTask(() => this.$textComposer.setText(this.message, true));\n        }\n    }\n    checkRateLimitBreached(currentTime) {\n        // Check if the function call is within limits\n        if (messageLimits.messagesSent >= this.rateLimits.maxInvocations) {\n            this.disableSendButton = true;\n            this.rateLimitsBreached = true;\n            const timeRemainingForReset = currentTime - messageLimits.startTime + this.rateLimits.period * 1000;\n            setTimeout(() => {\n                messageLimits.messagesSent = 0;\n                messageLimits.startTime = Date.now();\n                this.disableSendButton = false;\n                this.rateLimitsBreached = false;\n            }, timeRemainingForReset);\n        }\n    }\n    render() {\n        var _a;\n        const uiProps = { iconPack: this.iconPack, t: this.t };\n        return (h(Host, { key: 'd0cb57c1d3b74db36e3ddfa5453a960de7968a1b' }, this.canSendTextMessage && this.isEmojiPickerOpen && (h(\"dyte-emoji-picker\", Object.assign({ key: 'd26c303b8d1e460eabe0fdbadb4f1ab3381b16cc', part: \"emoji-picker\", onPickerClose: () => {\n                this.isEmojiPickerOpen = false;\n            }, onDyteEmojiClicked: (e) => {\n                this.textMessage += e.detail;\n                this.$textComposer.setText(this.textMessage, true);\n            } }, uiProps))), h(\"slot\", { key: '93a6e0c49183a080be84172ce0a69b0d0a9b274a', name: \"chat-addon\" }), this.quotedMessage && this.quotedMessage.length !== 0 && (h(\"div\", { key: '9b235c2f65766cc80f40091b6d4e01f614f910f3', class: \"quoted-message-container\", part: \"quoted-message-container\" }, h(\"div\", { key: '3e2582d7ccc9747be95f140ea0f3c9151b5fc365', class: \"quoted-message scrollbar\" }, h(\"dyte-text-message-view\", { key: 'd5ef25a57bf0f2a026c5fd92b202e0d337a3e52a', text: this.quotedMessage, isMarkdown: true })), h(\"div\", { key: 'c0d69d22711c6dd7e9a84f18f3bdb2f4e0b60a20' }, h(\"dyte-icon\", { key: '9a9b6cd5df08157b411cbcbfb628a714f04cd291', \"aria-label\": this.t('dismiss'), class: \"dismiss\", icon: this.iconPack.dismiss, onClick: this.onQuotedMessageDismissHandler })))), h(\"div\", { key: '9dc15207103dceeded2a03c69a75bfa7919b98eb', class: \"composer-container\" }, h(\"div\", { key: 'f456c8bd28ee60155b3735458aa172aa55b574f8', class: \"composers\" }, this.fileToUpload && (h(\"dyte-draft-attachment-view\", Object.assign({ key: '0417d1e33ac0e4fc0df52bdc0a04661701c4efcf' }, uiProps, { attachment: this.fileToUpload, onDeleteAttachment: () => (this.fileToUpload = null) }))), !this.fileToUpload && (h(\"dyte-text-composer-view\", { key: '83b68d635390774b5f931f5e00e0caa8f8b739d9', value: this.textMessage, placeholder: this.inputTextPlaceholder, onTextChange: this.onTextChangeHandler, keyDownHandler: this.onKeyDownHandler, maxLength: (_a = this.maxLength) !== null && _a !== void 0 ? _a : MAX_TEXT_LENGTH, rateLimitBreached: this.rateLimitsBreached, t: this.t, iconPack: this.iconPack, ref: (el) => (this.$textComposer = el) }))), h(\"div\", { key: '033cfe3365464c83af8d0ef0b590c0ffa900c146', class: \"chat-buttons\", part: \"chat-buttons\" }, h(\"div\", { key: 'fcc9ae557a0f31c15611694a6073486fa6b22986', class: \"left\", part: \"chat-buttons-left\" }, !this.fileToUpload && !this.isEditing && (h(\"div\", { key: 'd9b9f602c036d8dec831daec2065097a987fa213' }, this.canSendFiles && [\n            h(\"dyte-file-picker-button\", Object.assign({ key: '31270adc1fb72d8817e3218d596823cbffd0b032' }, uiProps, { onFileChange: (event) => this.onFileUploadHandler('file', event.detail) })),\n            h(\"dyte-file-picker-button\", Object.assign({ key: '1168afc0827bc2b63463c1eaf1e805abea7388d7', filter: \"image/*\", label: this.t('chat.send_img'), icon: \"image\", onFileChange: (event) => this.onFileUploadHandler('image', event.detail) }, uiProps)),\n        ], this.canSendTextMessage && !this.disableEmojiPicker && (h(\"dyte-emoji-picker-button\", Object.assign({ key: 'ef781c8e02daadede1ddc1eab5ef52598484b6d0', isActive: this.isEmojiPickerOpen, onClick: () => {\n                this.isEmojiPickerOpen = !this.isEmojiPickerOpen;\n            } }, uiProps))), h(\"slot\", { key: 'e80c453df4dcd546e804ea68ad9e5a783048662d', name: \"chat-buttons\" })))), h(\"div\", { key: 'e76f5c295316bc20e52d150f3a005cd91c90e210', class: \"right\", part: \"chat-buttons-right\" }, !this.isEditing && (h(\"dyte-tooltip\", { key: 'd26dee018b74152225a19258165534ed7f793066', variant: \"primary\", label: this.t('chat.send_msg'), delay: 2000 }, h(\"dyte-button\", { key: '5ad58b3709f82d11006bbc05a80c9c74134fe598', kind: \"icon\", disabled: this.disableSendButton, onClick: () => this.handleSendMessage(), title: this.t('chat.send_msg') }, h(\"dyte-icon\", { key: '785be312a087790413e75151d352085585f8be31', icon: this.iconPack.send })))), this.isEditing && (h(\"div\", { key: '5ee9a079da42dd6ef58d39dd611a170d324d1783', class: \"edit-buttons\" }, h(\"dyte-tooltip\", { key: '35ed375683386ff3a411e84b0bff663fd2d9cdfd', variant: \"secondary\", label: this.t('cancel'), delay: 2000 }, h(\"dyte-button\", { key: '80b21a18537664018306abf9b8b099d2b1ec354f', kind: \"icon\", variant: \"secondary\", onClick: () => this.handleEditCancel(), title: this.t('cancel') }, h(\"dyte-icon\", { key: 'd65f2a1c97cd5c36effcfa78fcd7ebe42b095be8', icon: this.iconPack.dismiss }))), h(\"dyte-tooltip\", { key: '56ff8d5fd854720ec93f65d5bdcb88b4e2621e12', variant: \"primary\", label: this.t('chat.update_msg'), delay: 2000 }, h(\"dyte-button\", { key: '81eb4a8f97baa957bfe718720fedbb8504010dae', kind: \"icon\", onClick: () => this.handleEditMessage(), title: this.t('chat.send_msg') }, h(\"dyte-icon\", { key: '3fc29bac3ee52f825de73e81b19c49d92981dd4a', icon: this.iconPack.checkmark }))))))))));\n    }\n};\n__decorate$M([\n    SyncWithStore()\n], DyteChatComposerView.prototype, \"iconPack\", void 0);\n__decorate$M([\n    SyncWithStore()\n], DyteChatComposerView.prototype, \"t\", void 0);\nDyteChatComposerView.style = DyteChatComposerViewStyle0;\n\nconst dyteChatMessageCss = \".message-wrapper{display:flex;gap:var(--dyte-space-2, 8px);margin-left:var(--dyte-space-4, 16px);margin-right:var(--dyte-space-4, 16px);margin-top:var(--dyte-space-4, 16px)}[is-continued] .message-wrapper{margin-top:var(--dyte-space-0, 0px)}.message-wrapper.align-right{flex-direction:row-reverse}.file-picker{display:none}.message{position:relative;display:flex}.show-on-hover dyte-menu{visibility:hidden}.show-on-hover:hover dyte-menu{visibility:visible}.align-right .message{justify-content:flex-end;margin-left:auto}.align-right .message .head{margin-right:var(--dyte-space-1, 4px);margin-left:var(--dyte-space-0, 0px);flex-direction:row-reverse;gap:var(--dyte-space-4, 16px)}.align-right .message dyte-text-message .bubble,.align-right .message dyte-image-message .bubble,.align-right .message dyte-file-message .bubble{padding-right:var(--dyte-space-5, 20px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}.align-right .message .actions dyte-icon{color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}.align-right dyte-menu{left:auto;right:var(--dyte-space-0, 0px)}.head{margin-bottom:var(--dyte-space-2, 8px);margin-left:var(--dyte-space-1, 4px);display:flex;align-items:center;gap:var(--dyte-space-2, 8px)}.head .name{font-size:14px;font-weight:600}.head .time{font-size:12px;color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}dyte-menu{position:absolute;left:var(--dyte-space-0, 0px);top:var(--dyte-space-6, 24px);border-radius:var(--dyte-border-radius-lg, 12px)}dyte-menu dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);cursor:pointer}[is-continued] dyte-menu{top:var(--dyte-space-2, 8px)}.actions{display:flex;align-items:center;justify-content:center;padding:var(--dyte-space-0\\\\.5, 2px);border-width:var(--dyte-border-width-none, 0);border-style:none;background-color:transparent}.actions dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.body{margin-top:var(--dyte-space-1, 4px);margin-bottom:var(--dyte-space-1, 4px);overflow-wrap:break-word;font-size:14px;line-height:1.375}.body .emoji{font-size:24px}.body.bubble{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-1, 4px);max-width:var(--dyte-space-96, 384px);padding-top:var(--dyte-space-3, 12px);padding-bottom:var(--dyte-space-3, 12px);padding-left:var(--dyte-space-5, 20px);padding-right:var(--dyte-space-5, 20px);overflow-wrap:break-word;font-size:14px;line-height:1.375;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.body.bubble p{margin:var(--dyte-space-0, 0px);word-break:break-word}p{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-3, 12px)}dyte-text-message,dyte-image-message,dyte-file-message{display:block;font-family:var(--dyte-font-family, sans-serif);color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));box-sizing:border-box}*[is-continued]{margin-top:var(--dyte-space-0, 0px)}.image{position:relative;height:var(--dyte-space-40, 160px);max-width:var(--dyte-space-64, 256px);cursor:pointer}.image img{display:none;height:100%;width:100%;border-radius:var(--dyte-border-radius-sm, 4px);-o-object-fit:cover;object-fit:cover}.image .image-spinner{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.image .image-spinner dyte-spinner{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity))}.image .image-errored{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;border-radius:var(--dyte-border-radius-sm, 4px);background-color:rgba(var(--dyte-colors-danger, 255 45 45) / 0.1);--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}.image .actions{display:none;height:var(--dyte-space-8, 32px);align-items:center;position:absolute;top:var(--dyte-space-2, 8px);right:var(--dyte-space-2, 8px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));overflow:hidden;--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.image .actions .action{height:var(--dyte-space-8, 32px);width:var(--dyte-space-8, 32px);border-radius:var(--dyte-border-radius-none, 0);border-width:var(--dyte-border-width-none, 0);border-style:none;background-color:transparent;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.image .actions .action:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.image.loaded img{display:block}.image.loaded .image-spinner{display:none}.image:hover .actions,.image:focus .actions{display:flex}.file{display:flex;align-items:center;gap:var(--dyte-space-1, 4px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);padding-top:var(--dyte-space-1\\\\.5, 6px);padding-bottom:var(--dyte-space-1\\\\.5, 6px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.file .file-data{flex:1 1 0%}.file .file-data .name{word-break:break-all;color:rgb(var(--dyte-colors-text-1000, 255 255 255));overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.file .file-data .file-data-split{margin-top:var(--dyte-space-0\\\\.5, 2px);display:flex;align-items:center;font-size:12px}.file .file-data .file-data-split .ext{margin-right:var(--dyte-space-2, 8px);text-transform:uppercase;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.file .file-data .file-data-split .divider{height:var(--dyte-space-4, 16px);width:var(--dyte-space-0\\\\.5, 2px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.file .file-data .file-data-split .size{margin-left:var(--dyte-space-2, 8px)}a{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity));text-decoration-line:none}a:hover{text-decoration-line:underline}.new-chat-marker{display:flex;width:100%;align-items:center;gap:var(--dyte-space-2, 8px);--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity))}.new-chat-marker::before{content:'';height:1px;flex:1 1 0%;background-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / 0.5)}.show-new-messages-ctr{pointer-events:none;display:flex;justify-content:flex-end;padding:var(--dyte-space-3, 12px);z-index:0;margin-top:calc(var(--dyte-space-14, 56px) * -1)}.show-new-messages{pointer-events:auto;--tw-translate-y:calc(var(--dyte-space-6, 24px) * -1);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:0;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.show-new-messages.active{--tw-translate-y:var(--dyte-space-0, 0px);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:1}blockquote{margin:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-3, 12px);background-color:transparent}.block-quote,blockquote{--tw-border-spacing-x:1px;--tw-border-spacing-y:1px;border-spacing:var(--tw-border-spacing-x) var(--tw-border-spacing-y);border-top-width:var(--dyte-border-width-none, 0);border-bottom-width:var(--dyte-border-width-none, 0);border-left-width:var(--dyte-border-width-md, 2px);border-right-width:var(--dyte-border-width-none, 0);border-style:solid;border-left-color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));padding:var(--dyte-space-0\\\\.5, 2px);padding-left:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px) !important;border-radius:var(--dyte-border-radius-sm, 4px);border-top-left-radius:var(--dyte-border-radius-none, 0);border-bottom-left-radius:var(--dyte-border-radius-none, 0)}.link{color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}.align-right .block-quote{border-color:rgb(var(--dyte-colors-text-on-brand-600, var(--dyte-colors-text-600, 255 255 255 / 0.52)));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-bg-opacity))}.align-right .link{color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}.align-right .image .actions dyte-icon{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity))}.avatar{display:flex;width:var(--dyte-space-6, 24px)}.avatar dyte-avatar{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px);font-size:10px}.message{width:75%}.left-align .body{margin-top:var(--dyte-space-4, 16px)}.left-align [is-continued] .body{margin-top:var(--dyte-space-0, 0px)}.left-align .body{--tw-translate-x:calc(var(--dyte-space-8, 32px) * -1);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}\";\nconst DyteChatMessageStyle0 = dyteChatMessageCss;\n\nvar __decorate$L = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteChatMessage = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.edit = createEvent(this, \"edit\", 7);\n        this.reply = createEvent(this, \"reply\", 7);\n        this.pin = createEvent(this, \"pin\", 7);\n        this.delete = createEvent(this, \"delete\", 7);\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        /** if sender is self */\n        this.isSelf = false;\n        /** can edit message */\n        this.canEdit = false;\n        /** can delete message */\n        this.canDelete = false;\n        /** can quote reply this message */\n        this.canReply = false;\n        /** can pin this message */\n        this.canPin = false;\n        /** disables controls */\n        this.disableControls = false;\n        /** aligns message to right */\n        this.alignRight = false;\n        /** hides avatar */\n        this.hideAvatar = false;\n        this.now = new Date();\n        /** Whether to left align the chat bubbles */\n        this.leftAlign = false;\n        this.renderMessage = () => {\n            switch (this.message.type) {\n                case 'text':\n                    return (h(\"div\", { \"is-continued\": this.isContinued, key: this.message.id }, this.isUnread && (h(\"div\", { class: \"new-chat-marker\", part: \"new-chat-marker\" }, this.t('chat.new'))), h(\"dyte-text-message\", { message: this.message, now: this.now, isContinued: this.isContinued, \"data-timestamp\": this.message.time.getTime(), iconPack: this.iconPack, t: this.t, showBubble: true })));\n                case 'image':\n                    return (h(\"div\", { \"is-continued\": this.isContinued, key: this.message.id }, this.isUnread && (h(\"div\", { class: \"new-chat-marker\", part: \"new-chat-marker\" }, this.t('chat.new'))), h(\"dyte-image-message\", { message: this.message, now: this.now, isContinued: this.isContinued, iconPack: this.iconPack, \"data-timestamp\": this.message.time.getTime(), t: this.t, showBubble: true })));\n                case 'file':\n                    return (h(\"div\", { \"is-continued\": this.isContinued, key: this.message.id }, this.isUnread && (h(\"div\", { class: \"new-chat-marker\", part: \"new-chat-marker\" }, this.t('chat.new'))), h(\"dyte-file-message\", { message: this.message, now: this.now, isContinued: this.isContinued, iconPack: this.iconPack, t: this.t, \"data-timestamp\": this.message.time.getTime(), showBubble: true })));\n                case 'custom':\n                    this.child.setAttribute('message', JSON.stringify(this.message));\n                    const node = this.child.cloneNode(true);\n                    return (h(\"div\", { \"is-continued\": this.isContinued, key: this.message.id, ref: (el) => el.appendChild(node) }));\n            }\n        };\n        this.onReply = () => {\n            this.reply.emit(this.message);\n        };\n        this.onPinned = () => {\n            this.pin.emit(this.message);\n        };\n        this.onDelete = () => {\n            this.delete.emit(this.message);\n        };\n        this.onEdit = async () => {\n            this.edit.emit(this.message);\n        };\n        this.isTouchDevice = () => {\n            return 'ontouchstart' in window || navigator.maxTouchPoints > 0;\n        };\n    }\n    renderControls() {\n        if (this.disableControls)\n            return;\n        return (h(\"dyte-menu\", { placement: this.alignRight ? 'bottom-end' : 'bottom-start' }, h(\"button\", { slot: \"trigger\", class: \"actions\" }, h(\"dyte-icon\", { icon: this.iconPack.chevron_down })), h(\"dyte-menu-list\", null, this.canReply && (h(\"dyte-menu-item\", { onClick: this.onReply }, h(\"dyte-icon\", { icon: this.iconPack.back, slot: \"start\" }), this.t('chat.reply'))), this.canPin && (h(\"dyte-menu-item\", { onClick: this.onPinned }, h(\"dyte-icon\", { icon: this.iconPack.pin, slot: \"start\" }), this.t('pin'))), this.canEdit && (h(\"dyte-menu-item\", { onClick: this.onEdit }, h(\"dyte-icon\", { icon: this.iconPack.edit, slot: \"start\" }), this.t('chat.edit_msg'))), this.canDelete && (h(\"dyte-menu-item\", { onClick: this.onDelete }, h(\"dyte-icon\", { icon: this.iconPack.delete, slot: \"start\" }), this.t('chat.delete_msg'))))));\n    }\n    renderAvatar() {\n        if (this.hideAvatar)\n            return;\n        if (this.isContinued) {\n            return h(\"div\", { class: \"avatar\" });\n        }\n        return (h(\"div\", { class: \"avatar\" }, h(\"dyte-avatar\", { size: \"sm\", participant: {\n                name: this.message.displayName,\n                picture: this.senderDisplayPicture,\n            } })));\n    }\n    render() {\n        return (h(Host, { key: 'e9019b771308fb2ccbd6b42066db30ff9afac88f' }, h(\"div\", { key: '2b7364203c9f2f20db564fe2d98e787b2e7879d0', class: {\n                'message-wrapper': true,\n                'align-right': this.alignRight,\n                'left-align': this.leftAlign,\n            }, \"is-continued\": this.isContinued }, this.renderAvatar(), h(\"div\", { key: 'b98ffba657e3699b3011682dff7b87724b044ade', class: {\n                message: true,\n                'show-on-hover': !this.isTouchDevice(),\n            }, \"is-continued\": this.isContinued }, this.renderMessage(), this.renderControls()))));\n    }\n    get $el() { return getElement(this); }\n};\n__decorate$L([\n    SyncWithStore()\n], DyteChatMessage.prototype, \"size\", void 0);\n__decorate$L([\n    SyncWithStore()\n], DyteChatMessage.prototype, \"iconPack\", void 0);\n__decorate$L([\n    SyncWithStore()\n], DyteChatMessage.prototype, \"t\", void 0);\nDyteChatMessage.style = DyteChatMessageStyle0;\n\nconst dyteChatMessagesUiCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\\\.5, 6px);width:var(--dyte-space-1\\\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));word-break:break-word}.chat-container{box-sizing:border-box;display:flex;flex-direction:column;padding-top:var(--dyte-space-4, 16px);padding-bottom:var(--dyte-space-4, 16px);flex:1 0 0px;overflow-y:scroll}.chat-container .spacer{flex:1 1 auto}.chat-container .chat{flex:0 0 auto}.file-picker{display:none}.chat .head{display:flex;align-items:center}.chat .head .name{margin-right:var(--dyte-space-4, 16px);font-size:12px;font-weight:700}.chat .head .time{font-size:12px;color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}.chat .body{margin-top:var(--dyte-space-2, 8px);overflow-wrap:break-word;line-height:1.375}.chat .body .emoji{font-size:24px}p{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-3, 12px)}dyte-message-view{margin-top:var(--dyte-space-4, 16px);display:block;padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));box-sizing:border-box}dyte-message-view::part(message){flex-grow:1}*[is-continued] dyte-message-view{margin-top:var(--dyte-space-1, 4px)}.pinned .message-wrapper{position:relative}.pinned .pin-button{position:absolute;right:var(--dyte-space-4, 16px);top:calc(var(--dyte-space-4, 16px) * -1);display:flex;border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.pinned .pin-button:hover dyte-button{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-600, 13 81 253) / var(--tw-bg-opacity))}.pinned dyte-message-view{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));padding-top:var(--dyte-space-1, 4px);padding-bottom:var(--dyte-space-1, 4px)}a{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity));text-decoration-line:none}a:hover{text-decoration-line:underline}.new-chat-marker{display:flex;width:100%;align-items:center;gap:var(--dyte-space-2, 8px);--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity))}.new-chat-marker::before{content:'';height:1px;flex:1 1 0%;background-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / 0.5)}.show-new-messages-ctr{pointer-events:none;display:flex;justify-content:flex-end;padding:var(--dyte-space-3, 12px);z-index:0;margin-top:calc(var(--dyte-space-14, 56px) * -1)}.show-new-messages{pointer-events:auto;--tw-translate-y:var(--dyte-space-16, 64px);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:0;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.show-new-messages.active{--tw-translate-y:var(--dyte-space-0, 0px);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:1}\";\nconst DyteChatMessagesUiStyle0 = dyteChatMessagesUiCss;\n\nvar __decorate$K = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteChatMessagesUi = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.onPinMessage = createEvent(this, \"pinMessage\", 7);\n        this.stateUpdate = createEvent(this, \"dyteStateUpdate\", 7);\n        this.observingEl = [];\n        this.autoScrollEnabled = true;\n        /** Chat Messages */\n        this.messages = [];\n        /** Can current user pin/unpin messages */\n        this.canPinMessages = false;\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        this.now = new Date();\n        this.showLatestMessageButton = false;\n        this.onScroll = (e) => {\n            const target = e.target;\n            writeTask(() => {\n                const { scrollTop, clientHeight, scrollHeight } = target;\n                const fromTop = scrollTop + clientHeight;\n                if (fromTop + 10 >= scrollHeight) {\n                    // at bottom\n                    this.autoScrollEnabled = true;\n                    this.showLatestMessageButton = false;\n                }\n                else {\n                    // not at bottom\n                    this.autoScrollEnabled = false;\n                }\n            });\n        };\n        this.scrollToBottom = () => {\n            smoothScrollToBottom(this.$chat);\n        };\n        this.observeMessage = (el) => {\n            if (el) {\n                this.observingEl.push(el);\n            }\n            try {\n                this.intersectionObserver.observe(el);\n            }\n            catch (_a) { }\n        };\n        this.getMessageActions = (message) => {\n            const actions = [];\n            if (!message.pinned && this.canPinMessages) {\n                actions.push({\n                    id: 'pin_message',\n                    label: this.t('pin'),\n                    icon: this.iconPack.pin,\n                });\n            }\n            return actions;\n        };\n        this.onMessageActionHandler = (actionId, message) => {\n            switch (actionId) {\n                case 'pin_message':\n                    this.onPinMessage.emit(message);\n                    break;\n            }\n        };\n    }\n    connectedCallback() {\n        var _a;\n        this.lastReadTimestamp = (_a = chatUnreadTimestamps['everyone']) !== null && _a !== void 0 ? _a : new Date('0001-01-01T00:00:00Z');\n        this.intersectionObserver = new IntersectionObserver((entries) => {\n            if (!document.hasFocus())\n                return;\n            writeTask(() => {\n                for (const entry of entries) {\n                    if (entry.isIntersecting) {\n                        const currTimestamp = parseInt(entry.target.getAttribute('data-timestamp'));\n                        if (currTimestamp > this.lastReadTimestamp.getTime()) {\n                            // this.lastReadTimestamp = new Date();\n                            chatUnreadTimestamps[this.selectedGroup] = new Date();\n                        }\n                    }\n                }\n            });\n        });\n        // update current time every minute\n        const updateNow = () => {\n            this.now = new Date();\n            this.timeout = setTimeout(() => {\n                if (this.request != null) {\n                    this.request = requestAnimationFrame(updateNow);\n                }\n            }, 60 * 1000);\n        };\n        this.request = requestAnimationFrame(updateNow);\n        this.chatChanged(this.messages);\n    }\n    componentDidLoad() {\n        this.$chat.addEventListener('scroll', this.onScroll);\n        this.$chat.scrollTop = this.$chat.scrollHeight;\n    }\n    componentDidRender() {\n        if (this.autoScrollEnabled) {\n            smoothScrollToBottom(this.$chat);\n        }\n        else if (this.autoScrollEnabled == null) {\n            // scroll to bottom on first render\n            smoothScrollToBottom(this.$chat, false);\n        }\n    }\n    chatChanged(messages) {\n        if (this.$chat == null)\n            return;\n        if (this.autoScrollEnabled || this.$chat.clientHeight === this.$chat.scrollHeight)\n            return;\n        for (let i = messages.length - 1; i >= 0; i--) {\n            if (messages[i].message.time > this.lastReadTimestamp &&\n                messages[i].message.userId !== this.selfUserId) {\n                // show latest message button when you have new messages\n                // and chat container is scrollable and autoscroll is not enabled\n                this.showLatestMessageButton = true;\n                break;\n            }\n        }\n    }\n    selectedBucketChanged() {\n        this.autoScrollEnabled = undefined;\n        this.observingEl.forEach((el) => {\n            this.intersectionObserver.unobserve(el);\n        });\n        this.observingEl = [];\n    }\n    disconnectedCallback() {\n        this.$chat.removeEventListener('scroll', this.onScroll);\n        this.intersectionObserver.disconnect();\n        clearTimeout(this.timeout);\n        cancelAnimationFrame(this.request);\n    }\n    render() {\n        var _a;\n        let prevMessage = null;\n        let reachedFirstUnread = false;\n        return (h(Host, { key: '01c61fd2a60ca11df413406967eb80af92d07de0' }, h(\"div\", { key: 'b1a6ad7904236a7fdb50034f33de979faa080ef6', class: \"chat-container scrollbar\", ref: (el) => (this.$chat = el), part: \"container\" }, h(\"div\", { key: '95664e4f9b8faae0c31c128abc6f54cf5bcd6acf', class: \"spacer\", part: \"spacer\" }), h(\"div\", { key: 'e0c40200e05026bb748e608ba6abb6f02b5a701c', class: \"chat\", part: \"chat\" }, (_a = this.messages) === null || _a === void 0 ? void 0 : _a.map((item) => {\n            if (item.type === 'chat') {\n                const { message } = item;\n                const isSelfMessage = message.userId === this.selfUserId;\n                const isUnread = !isSelfMessage &&\n                    !this.autoScrollEnabled &&\n                    !reachedFirstUnread &&\n                    message.time > this.lastReadTimestamp;\n                if (isUnread)\n                    reachedFirstUnread = isUnread;\n                const isContinued = !isUnread &&\n                    message.userId === (prevMessage === null || prevMessage === void 0 ? void 0 : prevMessage.userId) &&\n                    differenceInMinutes(message.time, prevMessage === null || prevMessage === void 0 ? void 0 : prevMessage.time) < 2;\n                prevMessage = message;\n                return (h(\"div\", { \"is-continued\": isContinued, key: item.message.id, ref: this.observeMessage, \"data-timestamp\": message.time.getTime(), class: message.pinned ? 'pinned' : '' }, isUnread && (h(\"div\", { class: \"new-chat-marker\", part: \"new-chat-marker\" }, this.t('chat.new'))), h(\"div\", { class: \"message-wrapper\" }, h(\"dyte-message-view\", { time: message.time, actions: this.getMessageActions(message), authorName: message.displayName, hideAuthorName: true, hideAvatar: true, hideMetadata: true, viewType: 'incoming', variant: \"bubble\", onAction: (event) => this.onMessageActionHandler(event.detail, message) }, h(\"div\", null, !isContinued && (h(\"div\", { class: \"head\" }, h(\"div\", { class: \"name\" }, message.displayName), !!message.time && (h(\"div\", { class: \"time\", title: formatDateTime(message.time) }, elapsedDuration(message.time, new Date(Date.now())))))), h(\"div\", { class: \"body\" }, message.type === 'text' && (h(\"dyte-text-message-view\", { text: message.message, isMarkdown: true })), message.type === 'file' && (h(\"dyte-file-message-view\", { name: message.name, url: message.link, size: message.size })), message.type === 'image' && (h(\"dyte-image-message-view\", { url: message.link, onPreview: () => {\n                        this.stateUpdate.emit({ image: message });\n                    } }))))), message.pinned && (h(\"div\", { class: \"pin-button\", part: \"pin-button\" }, h(\"dyte-tooltip\", { label: this.t('unpin') }, h(\"dyte-button\", { kind: \"icon\", variant: \"ghost\", onClick: () => this.onMessageActionHandler('pin_message', message), disabled: !this.canPinMessages }, h(\"dyte-icon\", { icon: this.iconPack.pin, size: \"sm\" }))))))));\n            }\n            return null;\n        }))), h(\"div\", { key: '518df977aebf5ecfc26a3f93904e24f92f607fc4', class: \"show-new-messages-ctr\" }, h(\"dyte-button\", { key: '7b6f0a1461957ec5947e4976d6457125e1096f16', class: {\n                'show-new-messages': true,\n                active: this.showLatestMessageButton,\n            }, kind: \"icon\", part: \"show-new-messages\", onClick: this.scrollToBottom }, h(\"dyte-icon\", { key: '0af3acc46412913b7555d8e2256ad2840c6f6226', icon: this.iconPack.chevron_down })))));\n    }\n    static get watchers() { return {\n        \"messages\": [\"chatChanged\"],\n        \"selectedGroup\": [\"selectedBucketChanged\"]\n    }; }\n};\n__decorate$K([\n    SyncWithStore()\n], DyteChatMessagesUi.prototype, \"size\", void 0);\n__decorate$K([\n    SyncWithStore()\n], DyteChatMessagesUi.prototype, \"iconPack\", void 0);\n__decorate$K([\n    SyncWithStore()\n], DyteChatMessagesUi.prototype, \"t\", void 0);\nDyteChatMessagesUi.style = DyteChatMessagesUiStyle0;\n\nconst dyteChatMessagesUiPaginatedCss = \":host{display:flex;flex-direction:column;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));flex:1 0 0px}\";\nconst DyteChatMessagesUiPaginatedStyle0 = dyteChatMessagesUiPaginatedCss;\n\nvar __decorate$J = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteChatMessagesUiPaginated = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.editMessageInit = createEvent(this, \"editMessageInit\", 7);\n        this.onPinMessage = createEvent(this, \"pinMessage\", 7);\n        this.onDeleteMessage = createEvent(this, \"deleteMessage\", 7);\n        this.stateUpdate = createEvent(this, \"dyteStateUpdate\", 7);\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        /** Whether to align chat bubbles to the left */\n        this.leftAlign = false;\n        this.permissionsChanged = false;\n        this.pageSize = 25;\n        this.lastReadMessageIndex = -1;\n        this.permissionsUpdateListener = () => {\n            this.permissionsChanged = !this.permissionsChanged;\n        };\n        this.maybeMarkChannelAsRead = (messages) => {\n            if (!this.selectedChannelId)\n                return;\n            if (messages.length === 0)\n                return;\n            if (this.lastReadMessageIndex !== -1)\n                return;\n            const latestMsg = messages.at(0).time > messages.at(-1).time ? messages.at(0) : messages.at(-1);\n            if (!latestMsg.channelIndex)\n                return;\n            this.lastReadMessageIndex = parseInt(latestMsg.channelIndex, 10);\n            this.meeting.chat.markLastReadMessage(this.selectedChannelId, latestMsg);\n        };\n        this.getChatMessages = async (timestamp, size, reversed) => {\n            const { messages } = await this.meeting.chat.getMessages(timestamp, size, reversed, undefined, this.selectedChannelId);\n            this.maybeMarkChannelAsRead(messages);\n            return messages;\n        };\n        this.createChatNodes = (data) => {\n            /**\n             * NOTE(callmetarush): When between pages the message's isContinued\n             * will fail in current implementation\n             */\n            return data.map((message, idx) => {\n                var _a;\n                const isContinued = message.userId === ((_a = data[idx - 1]) === null || _a === void 0 ? void 0 : _a.userId);\n                return this.createChatNode(message, isContinued);\n            });\n        };\n        this.disconnectMeeting = (meeting) => {\n            var _a, _b;\n            (_a = meeting === null || meeting === void 0 ? void 0 : meeting.chat) === null || _a === void 0 ? void 0 : _a.removeListener('chatUpdate', this.chatUpdateListener);\n            (_b = this.meeting) === null || _b === void 0 ? void 0 : _b.self.permissions.removeListener('permissionsUpdate', this.permissionsUpdateListener);\n        };\n        this.getMessageActions = (message) => {\n            const actions = [];\n            // const isSelf = this.meeting.self.userId === message.userId;\n            // const chatMessagePermissions = this.meeting.self.permissions?.chatMessage;\n            // const canEdit =\n            //   chatMessagePermissions === undefined\n            //     ? isSelf\n            //     : chatMessagePermissions.canEdit === 'ALL' ||\n            //       (chatMessagePermissions.canEdit === 'SELF' && isSelf);\n            // const canDelete =\n            //   chatMessagePermissions === undefined\n            //     ? isSelf\n            //     : chatMessagePermissions.canDelete === 'ALL' ||\n            //       (chatMessagePermissions.canDelete === 'SELF' && isSelf);\n            if (this.meeting.self.permissions.pinParticipant) {\n                actions.push({\n                    id: 'pin_message',\n                    label: message.pinned ? this.t('unpin') : this.t('pin'),\n                    icon: this.iconPack.pin,\n                });\n            }\n            // if (canDelete) {\n            //   actions.push({\n            //     id: 'delete_message',\n            //     label: this.t('chat.delete_msg'),\n            //     icon: this.iconPack.delete,\n            //   });\n            // }\n            return actions;\n        };\n        this.onMessageActionHandler = (actionId, message) => {\n            switch (actionId) {\n                case 'pin_message':\n                    this.onPinMessage.emit(message);\n                    break;\n                case 'delete_message':\n                    this.onDeleteMessage.emit(message);\n                    break;\n            }\n        };\n        this.createChatNode = (message, isContinued) => {\n            var _a, _b, _c, _d;\n            if (message.targetUserIds.length !== 0)\n                return null; // don't render private messages\n            let displayPicture;\n            if (this.meeting.meta.viewType === 'CHAT') {\n                displayPicture = (_a = this.meeting.participants.all\n                    .toArray()\n                    .find((p) => p.userId === message.userId)) === null || _a === void 0 ? void 0 : _a.picture;\n            }\n            else {\n                if (this.meeting.self.userId === message.userId) {\n                    displayPicture = this.meeting.self.picture;\n                }\n                else {\n                    displayPicture =\n                        (_c = (_b = this.meeting.participants.joined\n                            .toArray()\n                            .find((member) => member.userId === message.userId)) === null || _b === void 0 ? void 0 : _b.picture) !== null && _c !== void 0 ? _c : (_d = this.meeting.participants.waitlisted.toArray().find((p) => p.userId === message.userId)) === null || _d === void 0 ? void 0 : _d.picture;\n                }\n            }\n            return (h(\"div\", { class: { pinned: message.pinned } }, h(\"div\", { class: \"message-wrapper\" }, h(\"dyte-message-view\", { time: message.time, actions: this.getMessageActions(message), authorName: message.displayName, avatarUrl: displayPicture, hideAuthorName: isContinued, viewType: 'incoming', variant: \"bubble\", onAction: (event) => this.onMessageActionHandler(event.detail, message) }, h(\"div\", null, h(\"div\", { class: \"body\" }, message.type === 'text' && (h(\"dyte-text-message-view\", { text: message.message, isMarkdown: true })), message.type === 'file' && (h(\"dyte-file-message-view\", { name: message.name, url: message.link, size: message.size })), message.type === 'image' && (h(\"dyte-image-message-view\", { url: message.link, onPreview: () => {\n                    this.stateUpdate.emit({ image: message });\n                } }))), message.pinned && (h(\"div\", { class: \"pin-icon\", part: \"pin-icon\" }, h(\"dyte-icon\", { icon: this.iconPack.pin, size: \"sm\" }))))))));\n        };\n        this.chatUpdateListener = (data) => {\n            if (this.selectedChannelId && data.message.channelId !== this.selectedChannelId)\n                return;\n            if (data.action === 'add') {\n                this.$paginatedListRef.onNewNode(data.message);\n                this.lastReadMessageIndex = -1;\n                this.maybeMarkChannelAsRead([data.message]);\n            }\n            else if (data.action === 'delete') {\n                this.$paginatedListRef.onNodeDelete(data.message.id);\n            }\n            else if (data.action === 'edit') {\n                this.$paginatedListRef.onNodeUpdate(data.message.id, data.message);\n            }\n        };\n    }\n    componentDidLoad() {\n        const slotted = this.host.shadowRoot.querySelector('slot');\n        if (!slotted)\n            return;\n        this.children = slotted.assignedElements()[0];\n    }\n    connectedCallback() {\n        this.meetingChanged(this.meeting);\n    }\n    disconnectedCallback() {\n        this.disconnectMeeting(this.meeting);\n    }\n    meetingChanged(meeting, oldMeeting) {\n        var _a;\n        if (oldMeeting != undefined)\n            this.disconnectMeeting(oldMeeting);\n        if (meeting && !meeting.chat)\n            return;\n        if (meeting != null) {\n            (_a = meeting.chat) === null || _a === void 0 ? void 0 : _a.addListener('chatUpdate', this.chatUpdateListener);\n            meeting.self.permissions.addListener('permissionsUpdate', this.permissionsUpdateListener);\n        }\n        this.permissionsUpdateListener();\n    }\n    channelChanged() {\n        this.lastReadMessageIndex = -1;\n    }\n    render() {\n        return (h(Host, { key: '0f87ae87443f5ebcb771924591c9b9d30af425f6' }, h(\"dyte-paginated-list\", { key: 'f3a82fc12cf42265eb838da5d3bd36e2e3402fae', ref: (el) => (this.$paginatedListRef = el), pageSize: this.pageSize, pagesAllowed: 3, fetchData: this.getChatMessages, createNodes: this.createChatNodes, selectedItemId: this.selectedChannelId, emptyListLabel: this.t('chat.empty_channel') }, h(\"slot\", { key: '89d54672424cfff5fe73d8ece157cdcf5534fa30' }))));\n    }\n    get host() { return getElement(this); }\n    static get watchers() { return {\n        \"meeting\": [\"meetingChanged\"],\n        \"selectedChannelId\": [\"channelChanged\"]\n    }; }\n};\n__decorate$J([\n    SyncWithStore()\n], DyteChatMessagesUiPaginated.prototype, \"meeting\", void 0);\n__decorate$J([\n    SyncWithStore()\n], DyteChatMessagesUiPaginated.prototype, \"size\", void 0);\n__decorate$J([\n    SyncWithStore()\n], DyteChatMessagesUiPaginated.prototype, \"iconPack\", void 0);\n__decorate$J([\n    SyncWithStore()\n], DyteChatMessagesUiPaginated.prototype, \"t\", void 0);\nDyteChatMessagesUiPaginated.style = DyteChatMessagesUiPaginatedStyle0;\n\nconst dyteChatSearchResultsCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;height:100%;flex-direction:column;position:relative;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity))}\";\nconst DyteChatSearchResultsStyle0 = dyteChatSearchResultsCss;\n\nvar __decorate$I = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteChatSearchResults = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        this.pageSize = 50;\n        this.searchMessages = async (timestamp, size, reversed) => {\n            return this.meeting.chat.searchMessages(this.query, {\n                channelId: this.channelId,\n                timestamp,\n                size,\n                reversed,\n            });\n        };\n        this.nodeRenderer = (messages) => {\n            return messages.map((message) => (h(\"dyte-chat-message\", { key: message.id, message: message, disableControls: true })));\n        };\n    }\n    render() {\n        return (h(Host, { key: '984a388e6c194e27c5cb7918806bd9f156220ec7' }, h(\"dyte-paginated-list\", { key: '444fa000de6428b4c0c6e0c829eb4ef944d2a211', pageSize: this.pageSize, pagesAllowed: 3, fetchData: this.searchMessages, createNodes: this.nodeRenderer, selectedItemId: this.query })));\n    }\n};\n__decorate$I([\n    SyncWithStore()\n], DyteChatSearchResults.prototype, \"meeting\", void 0);\n__decorate$I([\n    SyncWithStore()\n], DyteChatSearchResults.prototype, \"iconPack\", void 0);\n__decorate$I([\n    SyncWithStore()\n], DyteChatSearchResults.prototype, \"t\", void 0);\nDyteChatSearchResults.style = DyteChatSearchResultsStyle0;\n\nconst dyteConfirmationModalCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;border-radius:var(--dyte-border-radius-md, 8px);padding:var(--dyte-space-8, 32px);width:100%;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));width:400px;max-width:80%}.leave-modal{width:100%;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.leave-modal .header h2{margin:var(--dyte-space-0, 0px)}.leave-modal .content{font-size:14px}.leave-message p{margin-top:var(--dyte-space-3, 12px);margin-bottom:var(--dyte-space-3, 12px)}.leave-meeting{display:flex;flex-direction:row;justify-content:space-between;gap:var(--dyte-space-4, 16px)}.leave-meeting dyte-button{color:rgb(var(--dyte-colors-text-1000, 255 255 255));flex:1 1 0%}.end-meeting{margin-top:var(--dyte-space-2, 8px)}.br-secondary-btn{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.br-secondary-btn:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}\";\nconst DyteConfirmationModalStyle0 = dyteConfirmationModalCss;\n\nvar __decorate$H = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteConfirmationModal = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.stateUpdate = createEvent(this, \"dyteStateUpdate\", 7);\n        this.keyPressListener = (e) => {\n            if (e.key === 'Escape') {\n                this.close();\n            }\n        };\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        this.close = () => {\n            this.states.activeConfirmationModal.onClose(this.stateUpdate, this.states, this.meeting);\n            this.stateUpdate.emit({ activeConfirmationModal: { active: false } });\n            this.states.activeConfirmationModal = { active: false };\n        };\n        this.onConfirmation = async () => {\n            this.states.activeConfirmationModal.onClick(this.stateUpdate, this.states, this.meeting);\n            this.stateUpdate.emit({ activeConfirmationModal: { active: false } });\n            this.states.activeConfirmationModal = { active: false };\n        };\n    }\n    connectedCallback() {\n        document.addEventListener('keydown', this.keyPressListener);\n    }\n    componentDidLoad() { }\n    disconnectedCallback() {\n        document.removeEventListener('keydown', this.keyPressListener);\n    }\n    render() {\n        var _a, _b;\n        const state = this.states.activeConfirmationModal;\n        return (h(Host, { key: 'bfb08e8cf23236412b9aa1a03ef0ea59e57fcc8f' }, h(\"div\", { key: '19031e843eeae492331dc2b70cb53ed7e34b7e1c', class: \"leave-modal\" }, h(\"div\", { key: 'b06ee1276a63a09327f91ee94923b58e5e13dff7', class: \"header\" }, h(\"h2\", { key: 'fe549a012577be074c4aeae7daf5f2b1d6431090', class: \"title\" }, state.header ? this.t(state.header) : this.t('cta.confirmation'))), h(\"p\", { key: '142ba47a0723cd6f8e3826ba0ea50a343eb3c4c0', class: \"message\" }, state.content ? this.t(state.content) : ''), h(\"div\", { key: '695140e0148911b611c4e9ca85961059e78e5279', class: \"content\" }, h(\"div\", { key: 'a5cfbf4dcf926dad8bbba83a0af1843605641a59', class: \"leave-meeting\" }, h(\"dyte-button\", { key: '42e5022b094fe7f8a7138975b7a987e3ba8357cb', variant: \"secondary\", title: state.cancelText ? this.t(state.cancelText) : this.t('cancel'), onClick: this.close, class: \"br-secondary-btn\" }, state.cancelText ? this.t(state.cancelText) : this.t('cancel')), h(\"dyte-button\", { key: '1e53176e5e5bfb774cd7169784823340b383c740', onClick: () => this.onConfirmation(), variant: (_b = (_a = this.states.activeConfirmationModal) === null || _a === void 0 ? void 0 : _a.variant) !== null && _b !== void 0 ? _b : 'danger', title: state.ctaText ? this.t(state.ctaText) : this.t('yes') }, state.ctaText ? this.t(state.ctaText) : this.t('yes')))))));\n    }\n};\n__decorate$H([\n    SyncWithStore()\n], DyteConfirmationModal.prototype, \"meeting\", void 0);\n__decorate$H([\n    SyncWithStore()\n], DyteConfirmationModal.prototype, \"states\", void 0);\n__decorate$H([\n    SyncWithStore()\n], DyteConfirmationModal.prototype, \"iconPack\", void 0);\n__decorate$H([\n    SyncWithStore()\n], DyteConfirmationModal.prototype, \"t\", void 0);\nDyteConfirmationModal.style = DyteConfirmationModalStyle0;\n\nconst dyteCounterCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;flex-direction:row;align-items:center;justify-content:center;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));width:-moz-fit-content;width:fit-content;border-radius:var(--dyte-border-radius-sm, 4px);padding:var(--dyte-space-1, 4px)}p{margin:var(--dyte-space-0, 0px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px)}input{margin:var(--dyte-space-0, 0px);width:var(--dyte-space-6, 24px);padding:var(--dyte-space-2, 8px);border-width:var(--dyte-border-width-sm, 1px);border-style:solid;border-color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));text-align:center;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));border-radius:var(--dyte-border-radius-sm, 4px);font-size:16px;outline:2px solid transparent;outline-offset:2px;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}input::-webkit-outer-spin-button,input::-webkit-inner-spin-button{margin:var(--dyte-space-0, 0px);appearance:none;-webkit-appearance:none}input[type='number']{-moz-appearance:textfield}\";\nconst DyteCounterStyle0 = dyteCounterCss;\n\nvar __decorate$G = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteCounter = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.onChange = createEvent(this, \"valueChange\", 7);\n        /** Input */\n        this.input = '1';\n        /** Minimum value */\n        this.minValue = 0;\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n    }\n    connectedCallback() {\n        this.watchStateHandler(this.input);\n        this.input = this.value.toString();\n    }\n    watchStateHandler(input) {\n        this.onChange.emit(input);\n    }\n    increment() {\n        this.input = Math.max(parseInt(this.input) + 1, this.minValue).toString();\n    }\n    decrement() {\n        this.input = Math.max(this.minValue, parseInt(this.input) - 1).toString();\n    }\n    render() {\n        return (h(Host, { key: '001a8ab33d9ce321c040396bdb8de97399c72644' }, h(\"dyte-button\", { key: '90bc0534d63d549d34da72bdc98a260922905dd4', kind: \"icon\", variant: \"ghost\", onClick: () => this.decrement() }, h(\"dyte-icon\", { key: '08efdbb92413cc53c280c24aa4c0b0267326f423', icon: this.iconPack.subtract })), h(\"input\", { key: '71fb967f4f8896ec0f6435dd4011f7735bf53dd1', type: \"number\", value: this.input, min: this.minValue, onInput: (e) => {\n                const val = parseInt(e.target.value, 10);\n                if (isNaN(val) || val < this.minValue) {\n                    this.input = this.minValue.toString();\n                }\n                else {\n                    this.input = val.toString();\n                }\n            } }), h(\"dyte-button\", { key: 'bb5df90fb048044238c7427903f455d870446539', kind: \"icon\", variant: \"ghost\", onClick: () => this.increment() }, h(\"dyte-icon\", { key: '5ae0a6e2f3acec1e13cab00d1ec15c9b2f66363a', icon: this.iconPack.add }))));\n    }\n    static get watchers() { return {\n        \"input\": [\"watchStateHandler\"]\n    }; }\n};\n__decorate$G([\n    SyncWithStore()\n], DyteCounter.prototype, \"size\", void 0);\n__decorate$G([\n    SyncWithStore()\n], DyteCounter.prototype, \"iconPack\", void 0);\n__decorate$G([\n    SyncWithStore()\n], DyteCounter.prototype, \"t\", void 0);\nDyteCounter.style = DyteCounterStyle0;\n\nconst dyteDebuggerCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\\\.5, 6px);width:var(--dyte-space-1\\\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;overflow:hidden;border-radius:var(--dyte-border-radius-md, 8px);width:100%;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}header{margin-right:var(--dyte-space-2, 8px);display:flex;align-items:center;justify-content:space-between;padding-top:var(--dyte-space-0, 0px);padding-bottom:var(--dyte-space-0, 0px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px)}header h3{margin-top:var(--dyte-space-4, 16px);margin-bottom:var(--dyte-space-4, 16px)}.back-btn{border-radius:var(--dyte-border-radius-sm, 4px);background-color:transparent;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.back-btn:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}aside{box-sizing:border-box;display:flex;max-width:var(--dyte-space-56, 224px) !important;flex-direction:column;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));padding-left:var(--dyte-space-2, 8px)}aside button{margin-top:var(--dyte-space-4, 16px);box-sizing:border-box;display:flex;width:100%;align-items:center;justify-content:space-between;border-top-left-radius:var(--dyte-border-radius-sm, 4px);border-bottom-left-radius:var(--dyte-border-radius-sm, 4px);padding-left:var(--dyte-space-4, 16px);padding-right:var(--dyte-space-4, 16px);padding-top:var(--dyte-space-3, 12px);padding-bottom:var(--dyte-space-3, 12px);background-color:transparent;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));cursor:default;font-size:14px;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);border-width:var(--dyte-border-width-none, 0);border-style:none;outline:2px solid transparent;outline-offset:2px}aside button .right{display:flex;align-items:center}aside button .right dyte-icon{height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px)}aside button .right dyte-icon:last-child{margin-left:var(--dyte-space-4, 16px)}aside button[type='button']{cursor:pointer;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}aside button[type='button']:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}aside button[type='button']{border-right:var(--dyte-border-width-md, 2px) solid transparent}aside button.active{--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-border-opacity));background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / 0.2)}aside button.active:hover{background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / 0.2)}aside button.hidden{display:none}main{position:relative;box-sizing:border-box;display:flex;height:100%;width:100%;flex-direction:column}:host([size='sm']) aside{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));width:100% !important;max-width:100% !important;padding-left:var(--dyte-space-0, 0px)}:host([size='sm']) aside button{border-radius:var(--dyte-border-radius-none, 0)}:host([size='sm']) aside button.active{border-width:var(--dyte-border-width-none, 0);border-style:none;background-color:transparent}:host([size='sm']) aside button.active:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}:host([size='sm']) aside button.hidden{display:none}:host([size='sm']) aside.hide{display:none}aside button:host([size='sm']) aside.hide{display:none}:host([size='sm']) aside button:host([size='sm']) aside.hide{display:none}:host([size='sm']) main{display:none;height:100%;width:100%;padding:var(--dyte-space-0, 0px)}aside button:host([size='sm']) main{display:none}:host([size='sm']) aside button:host([size='sm']) main{display:none}:host([size='sm']) main.active{display:block}:host([size='sm']) header{margin:var(--dyte-space-0, 0px);justify-content:center}:host([size='sm']) header dyte-button{position:absolute;left:var(--dyte-space-4, 16px)}::-webkit-scrollbar{width:8px}::-webkit-scrollbar-track{border-radius:var(--dyte-border-radius-lg, 12px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-lg, 12px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}::-webkit-scrollbar-thumb:hover{border-radius:var(--dyte-border-radius-lg, 12px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.progress-bar{height:var(--dyte-space-1, 4px);width:100%;overflow:hidden;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.progress-indicator{height:100%;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity))}\";\nconst DyteDebuggerStyle0 = dyteDebuggerCss;\n\nvar __decorate$F = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteDebugger = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.stateUpdate = createEvent(this, \"dyteStateUpdate\", 7);\n        this.keyPressListener = (e) => {\n            if (e.key === 'Escape') {\n                this.close();\n            }\n        };\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        this.activeTab = 'audio';\n        this.isMobileMainVisible = false;\n        this.progress = 0;\n    }\n    connectedCallback() {\n        document.addEventListener('keydown', this.keyPressListener);\n    }\n    disconnectedCallback() {\n        this.keyPressListener && document.removeEventListener('keydown', this.keyPressListener);\n    }\n    progressUpdate(event) {\n        this.progress = event.detail;\n    }\n    changeTab(tab) {\n        this.activeTab = tab;\n        if (this.size === 'sm') {\n            if (!this.isMobileMainVisible) {\n                this.isMobileMainVisible = true;\n            }\n        }\n    }\n    close() {\n        this.stateUpdate.emit({ activeDebugger: false });\n    }\n    getActiveTab() {\n        switch (this.activeTab) {\n            case 'audio':\n                return this.t('debugger.audio.troubleshooting.label');\n            case 'screenshare':\n                return this.t('debugger.screenshare.troubleshooting.label');\n            case 'video':\n                return this.t('debugger.video.troubleshooting.label');\n            case 'system':\n                return this.t('debugger.system.troubleshooting.label');\n            default:\n                return this.t('debugger.troubleshooting.label');\n        }\n    }\n    render() {\n        if (this.meeting == null)\n            return null;\n        const defaults = {\n            meeting: this.meeting,\n            states: this.states,\n            iconPack: this.iconPack,\n            t: this.t,\n            size: this.size,\n        };\n        const tab = this.getActiveTab();\n        const showSystemsTab = typeof navigator.getBattery !== 'undefined';\n        return (h(Host, null, h(\"aside\", { class: { hide: this.isMobileMainVisible }, part: \"menu\" }, h(\"header\", null, h(\"h3\", null, this.t('debugger.troubleshooting.label'))), h(\"button\", { type: \"button\", class: { active: this.activeTab === 'audio' }, onClick: () => this.changeTab('audio') }, this.t('debugger.audio.label'), h(\"div\", { class: \"right\" }, h(\"dyte-icon\", { icon: this.iconPack.mic_on }), this.size === 'sm' && h(\"dyte-icon\", { icon: this.iconPack.chevron_right }))), h(\"button\", { type: \"button\", class: { active: this.activeTab === 'video' }, onClick: () => this.changeTab('video') }, this.t('debugger.video.label'), h(\"div\", { class: \"right\" }, h(\"dyte-icon\", { icon: this.iconPack.video_on }), this.size === 'sm' && h(\"dyte-icon\", { icon: this.iconPack.chevron_right }))), h(\"button\", { type: \"button\", class: { active: this.activeTab === 'screenshare' }, onClick: () => this.changeTab('screenshare') }, this.t('debugger.screenshare.label'), h(\"div\", { class: \"right\" }, h(\"dyte-icon\", { icon: this.iconPack.share_screen_start }), this.size === 'sm' && h(\"dyte-icon\", { icon: this.iconPack.chevron_right }))), h(\"button\", { type: \"button\", class: { active: this.activeTab === 'system', hidden: !showSystemsTab }, onClick: () => this.changeTab('system') }, this.t('debugger.system.label'), h(\"div\", { class: \"right\" }, h(\"dyte-icon\", { icon: this.iconPack.settings }), this.size === 'sm' && h(\"dyte-icon\", { icon: this.iconPack.chevron_right })))), h(\"main\", { class: { active: this.isMobileMainVisible }, part: \"main-content\" }, this.size === 'sm' && (h(\"header\", null, h(\"dyte-button\", { kind: \"icon\", class: \"back-btn\", onClick: () => (this.isMobileMainVisible = false) }, h(\"dyte-icon\", { icon: this.iconPack.chevron_left })), h(\"h4\", null, tab))), this.activeTab === 'audio' && h(\"dyte-debugger-audio\", Object.assign({}, defaults)), this.activeTab === 'video' && h(\"dyte-debugger-video\", Object.assign({}, defaults)), this.activeTab === 'screenshare' && (h(\"dyte-debugger-screenshare\", Object.assign({}, defaults))), this.activeTab === 'system' && showSystemsTab && (h(\"dyte-debugger-system\", Object.assign({}, defaults))))));\n    }\n};\n__decorate$F([\n    SyncWithStore()\n], DyteDebugger.prototype, \"meeting\", void 0);\n__decorate$F([\n    SyncWithStore()\n], DyteDebugger.prototype, \"states\", void 0);\n__decorate$F([\n    SyncWithStore()\n], DyteDebugger.prototype, \"size\", void 0);\n__decorate$F([\n    SyncWithStore()\n], DyteDebugger.prototype, \"iconPack\", void 0);\n__decorate$F([\n    SyncWithStore()\n], DyteDebugger.prototype, \"t\", void 0);\nDyteDebugger.style = DyteDebuggerStyle0;\n\n/** Method to return media health based on the media & network stats */\nfunction getNetworkBasedMediaHealth({ stats, }) {\n    if (!stats || !stats.length) {\n        return null;\n    }\n    let networkHealth = 'Good';\n    const allStatsHealths = stats.map((statsObj) => statsObj.verdict);\n    if (allStatsHealths.includes('Poor')) {\n        networkHealth = 'Poor';\n    }\n    else if (allStatsHealths.includes('Average')) {\n        networkHealth = 'Average';\n    }\n    return networkHealth;\n}\n/** Gives verdict based on the packet loss */\nfunction getPacketLossVerdict({ packetLossPercentage, }) {\n    let verdict = 'Good';\n    if (packetLossPercentage > 4) {\n        verdict = 'Poor';\n    }\n    else if (packetLossPercentage >= 1 && packetLossPercentage <= 4) {\n        verdict = 'Average';\n    }\n    return verdict;\n}\n/** Gives verdict based on the jitter */\nfunction getJitterVerdict({ jitterInMS }) {\n    let verdict = 'Good';\n    if (jitterInMS > 100) {\n        verdict = 'Poor';\n    }\n    else if (jitterInMS >= 50 && jitterInMS <= 100) {\n        verdict = 'Average';\n    }\n    return verdict;\n}\n/** Gives verdict based on the jitter */\nfunction getBitrateVerdict({ bitrate, }) {\n    let verdict = 'Good';\n    const bitrateInKbps = Math.round(bitrate / 1024); // it is Kilo bits\n    if (bitrateInKbps === 0) {\n        verdict = 'Poor';\n    }\n    return verdict;\n}\nfunction getOverallBatteryVerdict({ stats }) {\n    if (!stats || !stats.length) {\n        return null;\n    }\n    let networkHealth = 'Good';\n    const allStatsHealths = stats.map((statsObj) => statsObj.verdict);\n    if (allStatsHealths.includes('Poor')) {\n        networkHealth = 'Poor';\n    }\n    else if (allStatsHealths.includes('Average')) {\n        networkHealth = 'Average';\n    }\n    return networkHealth;\n}\nfunction getBatteryLevelVerdict({ batteryLevelPercentage, }) {\n    let batteryLevelVerdict = 'Good';\n    if (batteryLevelPercentage < 20) {\n        batteryLevelVerdict = 'Poor';\n    }\n    else if (batteryLevelPercentage < 50) {\n        batteryLevelVerdict = 'Average';\n    }\n    return batteryLevelVerdict;\n}\nfunction getBatteryChargingVerdict({ charging, dischargingTimeInSeconds, batteryLevelPercentage, }) {\n    const MINS_30 = 30 * 60;\n    if (batteryLevelPercentage < 20) {\n        return 'Poor';\n    }\n    if (charging) {\n        return 'Good';\n    }\n    if (dischargingTimeInSeconds < MINS_30) {\n        return 'Poor';\n    }\n    return 'Average';\n}\n\nconst dyteDebuggerAudioCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\\\.5, 6px);width:var(--dyte-space-1\\\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;height:100%;width:100%;color:rgb(var(--dyte-colors-text-1000, 255 255 255));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar{width:var(--dyte-space-1\\\\.5, 6px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}h3{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:600}#header{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-5, 20px);display:flex;align-items:center;justify-content:space-evenly}.tab-body{margin:var(--dyte-space-4, 16px);display:flex;height:100%;flex-direction:column;justify-content:space-between;overflow-y:auto}.status-container{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;padding:16px}.status-section{margin-bottom:12px}.section-header{display:flex;justify-content:space-between;align-items:center;font-weight:bold;padding:8px 0}.section-header.only-child{justify-content:center}.section-body.missing-stats{display:flex;text-align:center;justify-content:center}.section-header .status{color:rgba(var(--dyte-colors-success));font-weight:bold}.section-header .arrow{font-size:14px}.network-table{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;margin-top:8px;overflow:hidden}.network-row{display:flex;justify-content:space-between;padding:12px;border-bottom:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60))}.network-row:last-child{border-bottom:none}.network-cell{display:flex;flex-direction:column}.network-cell.label strong{font-size:14px}.network-cell.label .description{font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}.network-cell.value{text-align:right}.status.good{color:rgba(var(--dyte-colors-success))}.status.average{color:rgba(var(--dyte-colors-warning))}.status.poor{color:rgba(var(--dyte-colors-danger))}.value{font-size:14px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}dyte-settings-audio{display:flex;flex-direction:column}\";\nconst DyteDebuggerAudioStyle0 = dyteDebuggerAudioCss;\n\nvar __decorate$E = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteDebuggerAudio = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        /** Is Network section expanded */\n        this.isNetworkOpen = true;\n        /** Is Devices section expanded */\n        this.isDevicesOpen = false;\n        /** Stats as formatted array to display */\n        this.audioProducerFormattedStats = [];\n        /** Last raw audio score stats obj */\n        this.audioProducerScoreStats = null;\n        /** Summarised health of network stats */\n        this.networkBasedMediaHealth = null;\n        /** Summarised health of devices */\n        this.devicesHealth = null;\n        // private toggleSection(section: string) {\n        //   if (section === 'network') this.isNetworkOpen = !this.isNetworkOpen;\n        //   else if (section === 'devices') this.isDevicesOpen = !this.isDevicesOpen;\n        // }\n        this.mediaScoreUpdateListener = ({ kind, isScreenshare, scoreStats, }) => {\n            if (kind === 'audio' && !isScreenshare) {\n                this.audioProducerScoreStats = scoreStats;\n            }\n        };\n        this.deviceListUpdateListener = async () => {\n            const audioDevices = await this.meeting.self.getAudioDevices();\n            this.devicesHealth = (audioDevices === null || audioDevices === void 0 ? void 0 : audioDevices.length) > 0 ? 'Good' : 'Poor';\n        };\n        this.audioUpdateListener = () => {\n            if (!this.meeting.self.audioEnabled) {\n                this.audioProducerScoreStats = null;\n            }\n        };\n    }\n    async audioProducerScoreStatsChanged(newAudioProducerScoreStats) {\n        if (!newAudioProducerScoreStats) {\n            this.audioProducerFormattedStats = [];\n            return;\n        }\n        const statsObj = newAudioProducerScoreStats;\n        const newStatsList = [];\n        newStatsList.push({\n            name: this.t('debugger.stats.bitrate.label'),\n            value: `${Math.round(statsObj.bitrate / 1024)} kbps`,\n            description: this.t('debugger.stats.bitrate.description'),\n            verdict: getBitrateVerdict({\n                bitrate: statsObj.bitrate,\n                kind: 'audio',\n                isScreenshare: false,\n            }),\n        });\n        newStatsList.push({\n            name: this.t('debugger.stats.packet_loss.label'),\n            value: `${statsObj.packetsLostPercentage}%`,\n            description: this.t('debugger.stats.packet_loss.description'),\n            verdict: getPacketLossVerdict({ packetLossPercentage: statsObj.packetsLostPercentage }),\n        });\n        newStatsList.push({\n            name: this.t('debugger.stats.jitter.label'),\n            value: `${Math.round(statsObj.jitter * 1000)} ms`,\n            description: this.t('debugger.stats.jitter.description'),\n            verdict: getJitterVerdict({ jitterInMS: statsObj.jitter * 1000 }),\n        });\n        this.audioProducerFormattedStats = newStatsList;\n        this.networkBasedMediaHealth = getNetworkBasedMediaHealth({\n            kind: 'audio',\n            isScreenshare: false,\n            stats: newStatsList,\n        });\n    }\n    connectedCallback() {\n        this.meetingChanged(this.meeting);\n    }\n    disconnectedCallback() {\n        if (!this.meeting) {\n            return;\n        }\n        this.meeting.self.off('mediaScoreUpdate', this.mediaScoreUpdateListener);\n        this.meeting.self.off('audioUpdate', this.audioUpdateListener);\n        this.meeting.self.off('deviceListUpdate', this.deviceListUpdateListener);\n    }\n    async meetingChanged(meeting) {\n        if (!meeting)\n            return;\n        meeting.self.on('mediaScoreUpdate', this.mediaScoreUpdateListener);\n        meeting.self.on('audioUpdate', this.audioUpdateListener);\n        meeting.self.on('deviceListUpdate', this.deviceListUpdateListener);\n        await this.deviceListUpdateListener();\n    }\n    render() {\n        var _a, _b;\n        if (!this.meeting) {\n            return;\n        }\n        // const defaults = {\n        //   meeting: this.meeting,\n        //   states: this.states || storeState,\n        //   iconPack: this.iconPack,\n        //   t: this.t,\n        // };\n        return (h(Host, null, h(\"div\", { id: \"header\" }), h(\"div\", { class: \"tab-body\" }, h(\"div\", { class: \"status-container\" }, h(\"div\", { class: \"status-section\" }, h(\"div\", { class: `section-header ${!this.networkBasedMediaHealth ? 'only-child' : ''}` }, h(\"span\", null, this.t('debugger.audio.sections.network_media')), this.networkBasedMediaHealth && (h(\"span\", { class: `status ${(_a = this.networkBasedMediaHealth) === null || _a === void 0 ? void 0 : _a.toLowerCase()}` }, this.t(`debugger.quality.${(_b = this.networkBasedMediaHealth) === null || _b === void 0 ? void 0 : _b.toLowerCase()}`)))), this.isNetworkOpen && !this.audioProducerFormattedStats.length && (h(\"div\", { class: \"section-body missing-stats\" }, this.meeting.self.audioEnabled ? (h(\"span\", null, this.t('debugger.audio.messages.generating_report'))) : (h(\"span\", null, this.t('debugger.audio.messages.enable_media'))))), this.isNetworkOpen && !!this.audioProducerFormattedStats.length && (h(\"div\", { class: \"section-body network-table\" }, this.audioProducerFormattedStats.map((formattedStatsObj) => {\n            var _a, _b;\n            return (h(\"div\", { class: \"network-row\" }, h(\"div\", { class: \"network-cell label\" }, h(\"strong\", null, formattedStatsObj.name), h(\"span\", { class: \"description\" }, formattedStatsObj.description)), h(\"div\", { class: \"network-cell value\" }, h(\"span\", { class: `status ${(_a = formattedStatsObj.verdict) === null || _a === void 0 ? void 0 : _a.toLowerCase()}` }, this.t(`debugger.quality.${(_b = formattedStatsObj.verdict) === null || _b === void 0 ? void 0 : _b.toLowerCase()}`)), h(\"span\", { class: \"value\" }, formattedStatsObj.value))));\n        }))))))));\n    }\n    static get watchers() { return {\n        \"audioProducerScoreStats\": [\"audioProducerScoreStatsChanged\"],\n        \"meeting\": [\"meetingChanged\"]\n    }; }\n};\n__decorate$E([\n    SyncWithStore()\n], DyteDebuggerAudio.prototype, \"meeting\", void 0);\n__decorate$E([\n    SyncWithStore()\n], DyteDebuggerAudio.prototype, \"states\", void 0);\n__decorate$E([\n    SyncWithStore()\n], DyteDebuggerAudio.prototype, \"size\", void 0);\n__decorate$E([\n    SyncWithStore()\n], DyteDebuggerAudio.prototype, \"iconPack\", void 0);\n__decorate$E([\n    SyncWithStore()\n], DyteDebuggerAudio.prototype, \"t\", void 0);\nDyteDebuggerAudio.style = DyteDebuggerAudioStyle0;\n\nconst dyteDebuggerScreenshareCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\\\.5, 6px);width:var(--dyte-space-1\\\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;height:100%;width:100%;color:rgb(var(--dyte-colors-text-1000, 255 255 255));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar{width:var(--dyte-space-1\\\\.5, 6px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}h3{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:600}#header{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-5, 20px);display:flex;align-items:center;justify-content:space-evenly}.tab-body{margin:var(--dyte-space-4, 16px);display:flex;height:100%;flex-direction:column;justify-content:space-between;overflow-y:auto}.status-container{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;padding:16px}.status-section{margin-bottom:12px}.section-header{display:flex;justify-content:space-between;align-items:center;font-weight:bold;padding:8px 0}.section-header.only-child{justify-content:center}.section-body.missing-stats{display:flex;text-align:center;justify-content:center}.section-header .status{color:rgba(var(--dyte-colors-success));font-weight:bold}.section-header .arrow{font-size:14px}.network-table{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;margin-top:8px;overflow:hidden}.network-row{display:flex;justify-content:space-between;padding:12px;border-bottom:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60))}.network-row:last-child{border-bottom:none}.network-cell{display:flex;flex-direction:column}.network-cell.label strong{font-size:14px}.network-cell.label .description{font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}.network-cell.value{text-align:right}.status.good{color:rgba(var(--dyte-colors-success))}.status.average{color:rgba(var(--dyte-colors-warning))}.status.poor{color:rgba(var(--dyte-colors-danger))}.value{font-size:14px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}\";\nconst DyteDebuggerScreenshareStyle0 = dyteDebuggerScreenshareCss;\n\nvar __decorate$D = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteDebuggerScreenShare = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        /** Is Network section expanded */\n        this.isNetworkOpen = true;\n        /** Is Devices section expanded */\n        this.isDevicesOpen = false;\n        /** Stats as formatted array to display */\n        this.videoProducerFormattedStats = [];\n        /** Last raw video score stats obj */\n        this.videoProducerScoreStats = null;\n        /** Stats as formatted array to display */\n        this.audioProducerFormattedStats = [];\n        /** Last raw video score stats obj */\n        this.audioProducerScoreStats = null;\n        /** Summarised health of network stats */\n        this.networkBasedMediaHealth = null;\n        // private toggleSection(section: string) {\n        //   if (section === 'network') this.isNetworkOpen = !this.isNetworkOpen;\n        //   else if (section === 'devices') this.isDevicesOpen = !this.isDevicesOpen;\n        // }\n        this.mediaScoreUpdateListener = ({ kind, isScreenshare, scoreStats, }) => {\n            if (kind === 'video' && isScreenshare) {\n                this.videoProducerScoreStats = scoreStats;\n            }\n            if (kind === 'audio' && isScreenshare) {\n                this.audioProducerScoreStats = scoreStats;\n            }\n        };\n        this.screenShareUpdateListener = () => {\n            if (!this.meeting.self.screenShareEnabled) {\n                this.videoProducerScoreStats = null;\n                this.audioProducerScoreStats = null;\n            }\n        };\n    }\n    async videoProducerScoreStatsChanged(newVideoProducerScoreStats) {\n        if (!newVideoProducerScoreStats) {\n            this.videoProducerFormattedStats = [];\n            return;\n        }\n        const statsObj = newVideoProducerScoreStats;\n        const newStatsList = [];\n        newStatsList.push({\n            name: this.t('debugger.stats.cpu_limitations.label'),\n            value: statsObj.cpuLimitations ? 'Yes' : 'No',\n            description: this.t('debugger.stats.cpu_limitations.description'),\n            verdict: statsObj.cpuLimitations ? 'Poor' : 'Good',\n        });\n        newStatsList.push({\n            name: this.t('debugger.stats.bandwidth_limitations.label'),\n            value: statsObj.bandwidthLimitations ? 'Yes' : 'No',\n            description: this.t('debugger.stats.bandwidth_limitations.description'),\n            verdict: statsObj.bandwidthLimitations ? 'Poor' : 'Good',\n        });\n        newStatsList.push({\n            name: this.t('debugger.stats.bitrate.label'),\n            value: `${Math.round(statsObj.bitrate / 1024)} kbps`,\n            description: this.t('debugger.stats.bitrate.description'),\n            verdict: getBitrateVerdict({\n                bitrate: statsObj.bitrate,\n                kind: 'video',\n                isScreenshare: false,\n            }),\n        });\n        newStatsList.push({\n            name: this.t('debugger.stats.packet_loss.label'),\n            value: `${statsObj.packetsLostPercentage}%`,\n            description: this.t('debugger.stats.packet_loss.description'),\n            verdict: getPacketLossVerdict({ packetLossPercentage: statsObj.packetsLostPercentage }),\n        });\n        newStatsList.push({\n            name: this.t('debugger.stats.jitter.label'),\n            value: `${Math.round(statsObj.jitter * 1000)} ms`,\n            description: this.t('debugger.stats.jitter.description'),\n            verdict: getJitterVerdict({ jitterInMS: statsObj.jitter * 1000 }),\n        });\n        this.videoProducerFormattedStats = newStatsList;\n        this.networkBasedMediaHealth = getNetworkBasedMediaHealth({\n            kind: 'video',\n            isScreenshare: false,\n            stats: newStatsList,\n        });\n    }\n    async audioProducerScoreStatsChanged(newAudioProducerScoreStats) {\n        if (!newAudioProducerScoreStats) {\n            this.audioProducerFormattedStats = [];\n            return;\n        }\n        const statsObj = newAudioProducerScoreStats;\n        const newStatsList = [];\n        newStatsList.push({\n            name: this.t('debugger.stats.bitrate.label'),\n            value: `${Math.round(statsObj.bitrate / 1024)} kbps`,\n            description: this.t('debugger.stats.bitrate.description'),\n            verdict: getBitrateVerdict({\n                bitrate: statsObj.bitrate,\n                kind: 'audio',\n                isScreenshare: true,\n            }),\n        });\n        newStatsList.push({\n            name: this.t('debugger.stats.packet_loss.label'),\n            value: `${statsObj.packetsLostPercentage}%`,\n            description: this.t('debugger.stats.packet_loss.description'),\n            verdict: getPacketLossVerdict({ packetLossPercentage: statsObj.packetsLostPercentage }),\n        });\n        newStatsList.push({\n            name: this.t('debugger.stats.jitter.label'),\n            value: `${Math.round(statsObj.jitter * 1000)} ms`,\n            description: this.t('debugger.stats.jitter.description'),\n            verdict: getJitterVerdict({ jitterInMS: statsObj.jitter * 1000 }),\n        });\n        this.audioProducerFormattedStats = newStatsList;\n        /** Only screenshare video is deciding the media health currently */\n        // this.networkBasedMediaHealth = getNetworkBasedMediaHealth({\n        //   kind: 'audio',\n        //   isScreenshare: true,\n        //   stats: newStatsList,\n        // });\n    }\n    connectedCallback() {\n        this.meetingChanged(this.meeting);\n    }\n    disconnectedCallback() {\n        if (!this.meeting) {\n            return;\n        }\n        this.meeting.self.off('mediaScoreUpdate', this.mediaScoreUpdateListener);\n        this.meeting.self.off('screenShareUpdate', this.screenShareUpdateListener);\n    }\n    async meetingChanged(meeting) {\n        if (!meeting)\n            return;\n        meeting.self.on('mediaScoreUpdate', this.mediaScoreUpdateListener);\n        meeting.self.on('screenShareUpdate', this.screenShareUpdateListener);\n    }\n    render() {\n        var _a, _b;\n        if (!this.meeting) {\n            return;\n        }\n        return (h(Host, null, h(\"div\", { id: \"header\" }), h(\"div\", { class: \"tab-body\" }, h(\"div\", { class: \"status-container\" }, h(\"div\", { class: \"status-section\" }, h(\"div\", { class: `section-header ${!this.networkBasedMediaHealth ? 'only-child' : ''}` }, h(\"span\", null, this.t('debugger.screenshare.sections.network_media')), this.networkBasedMediaHealth && (h(\"span\", { class: `status ${(_a = this.networkBasedMediaHealth) === null || _a === void 0 ? void 0 : _a.toLowerCase()}` }, this.t(`debugger.quality.${(_b = this.networkBasedMediaHealth) === null || _b === void 0 ? void 0 : _b.toLowerCase()}`)))), this.isNetworkOpen && !this.videoProducerFormattedStats.length && (h(\"div\", { class: \"section-body missing-stats\" }, this.meeting.self.screenShareEnabled ? (h(\"span\", null, this.t('debugger.screenshare.messages.generating_report'))) : (h(\"span\", null, this.t('debugger.screenshare.messages.enable_media'))))), this.isNetworkOpen && !!this.videoProducerFormattedStats.length && (h(\"div\", { class: \"section-body network-table\" }, this.videoProducerFormattedStats.map((formattedStatsObj) => {\n            var _a, _b;\n            return (h(\"div\", { class: \"network-row\" }, h(\"div\", { class: \"network-cell label\" }, h(\"strong\", null, formattedStatsObj.name), h(\"span\", { class: \"description\" }, formattedStatsObj.description)), h(\"div\", { class: \"network-cell value\" }, h(\"span\", { class: `status ${(_a = formattedStatsObj.verdict) === null || _a === void 0 ? void 0 : _a.toLowerCase()}` }, this.t(`debugger.quality.${(_b = formattedStatsObj.verdict) === null || _b === void 0 ? void 0 : _b.toLowerCase()}`)), h(\"span\", { class: \"value\" }, formattedStatsObj.value))));\n        }))))))));\n    }\n    static get watchers() { return {\n        \"videoProducerScoreStats\": [\"videoProducerScoreStatsChanged\"],\n        \"audioProducerScoreStats\": [\"audioProducerScoreStatsChanged\"],\n        \"meeting\": [\"meetingChanged\"]\n    }; }\n};\n__decorate$D([\n    SyncWithStore()\n], DyteDebuggerScreenShare.prototype, \"meeting\", void 0);\n__decorate$D([\n    SyncWithStore()\n], DyteDebuggerScreenShare.prototype, \"states\", void 0);\n__decorate$D([\n    SyncWithStore()\n], DyteDebuggerScreenShare.prototype, \"size\", void 0);\n__decorate$D([\n    SyncWithStore()\n], DyteDebuggerScreenShare.prototype, \"iconPack\", void 0);\n__decorate$D([\n    SyncWithStore()\n], DyteDebuggerScreenShare.prototype, \"t\", void 0);\nDyteDebuggerScreenShare.style = DyteDebuggerScreenshareStyle0;\n\nconst dyteDebuggerSystemCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\\\.5, 6px);width:var(--dyte-space-1\\\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;height:100%;width:100%;color:rgb(var(--dyte-colors-text-1000, 255 255 255));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar{width:var(--dyte-space-1\\\\.5, 6px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}h3{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:600}#header{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-5, 20px);display:flex;align-items:center;justify-content:space-evenly}.tab-body{margin:var(--dyte-space-4, 16px);display:flex;height:100%;flex-direction:column;justify-content:space-between;overflow-y:auto}.status-container{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;padding:16px}.status-section{margin-bottom:12px}.section-header{display:flex;justify-content:space-between;align-items:center;font-weight:bold;padding:8px 0}.section-body.missing-stats{display:flex;text-align:center;justify-content:center}.section-header .status{color:rgba(var(--dyte-colors-success));font-weight:bold}.section-header .arrow{font-size:14px}.battery-table{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;margin-top:8px;overflow:hidden}.battery-row{display:flex;justify-content:space-between;padding:12px;border-bottom:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60))}.battery-row:last-child{border-bottom:none}.battery-cell{display:flex;flex-direction:column}.battery-cell.label strong{font-size:14px}.battery-cell.label .description{font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}.battery-cell.value{text-align:right}.status.good{color:rgba(var(--dyte-colors-success))}.status.average{color:rgba(var(--dyte-colors-warning))}.status.poor{color:rgba(var(--dyte-colors-danger))}.value{font-size:14px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}dyte-settings-video{display:flex;flex-direction:column}\";\nconst DyteDebuggerSystemStyle0 = dyteDebuggerSystemCss;\n\nvar __decorate$C = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteDebuggerSystem = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        /** Is Network section expanded */\n        this.isBatterySectionOpen = true;\n        /** Summarised health of network stats */\n        this.batterySectionHealth = null;\n        /** Battery manager */\n        this.battery = null;\n        /** Stats as formatted array to display */\n        this.batteryFormattedStats = [];\n        this.batteryUpdateListener = () => {\n            const batteryLevelPercentage = Math.round(this.battery.level * 100);\n            const newBatteryStats = [];\n            newBatteryStats.push({\n                name: this.t('debugger.system.battery.level.label'),\n                value: `${batteryLevelPercentage}%`,\n                description: this.t('debugger.system.battery.level.description'),\n                verdict: getBatteryLevelVerdict({\n                    batteryLevelPercentage,\n                }),\n            });\n            newBatteryStats.push({\n                name: this.t('debugger.system.battery.charging.label'),\n                value: `${this.battery.charging\n                    ? this.t('debugger.system.battery.charging.is_charging')\n                    : this.t('debugger.system.battery.charging.is_not_charging')}`,\n                description: this.t('debugger.system.battery.charging.description'),\n                verdict: getBatteryChargingVerdict({\n                    batteryLevelPercentage,\n                    chargingTimeInSeconds: this.battery.chargingTime,\n                    dischargingTimeInSeconds: this.battery.dischargingTime,\n                    charging: this.battery.charging,\n                }),\n            });\n            this.batterySectionHealth = getOverallBatteryVerdict({\n                stats: newBatteryStats,\n            });\n            this.batteryFormattedStats = newBatteryStats;\n        };\n    }\n    toggleSection(section) {\n        if (section === 'battery')\n            this.isBatterySectionOpen = !this.isBatterySectionOpen;\n    }\n    connectedCallback() {\n        this.meetingChanged(this.meeting);\n    }\n    disconnectedCallback() {\n        if (!this.meeting) {\n            return;\n        }\n        if (this.battery) {\n            this.battery.removeEventListener('levelchange', this.batteryUpdateListener);\n            this.battery.removeEventListener('chargingchange', this.batteryUpdateListener);\n        }\n    }\n    async meetingChanged(meeting) {\n        if (!meeting)\n            return;\n        if (typeof navigator.getBattery !== 'undefined') {\n            this.battery = await navigator.getBattery();\n            this.battery.addEventListener('levelchange', this.batteryUpdateListener);\n            this.battery.addEventListener('chargingchange', this.batteryUpdateListener);\n            this.batteryUpdateListener();\n        }\n    }\n    render() {\n        var _a, _b;\n        if (!this.meeting) {\n            return;\n        }\n        return (h(Host, null, h(\"div\", { id: \"header\" }), h(\"div\", { class: \"tab-body\" }, h(\"div\", { class: \"status-container\" }, h(\"div\", { class: \"status-section\" }, h(\"div\", { class: \"section-header\", onClick: () => this.toggleSection('battery') }, h(\"span\", null, this.t('debugger.system.sections.battery')), this.batterySectionHealth && (h(\"span\", { class: `status ${(_a = this.batterySectionHealth) === null || _a === void 0 ? void 0 : _a.toLowerCase()}` }, this.t(`debugger.quality.${(_b = this.batterySectionHealth) === null || _b === void 0 ? void 0 : _b.toLowerCase()}`)))), this.isBatterySectionOpen && !!this.batteryFormattedStats.length && (h(\"div\", { class: \"section-body battery-table\" }, this.batteryFormattedStats.map((formattedStatsObj) => {\n            var _a, _b;\n            return (h(\"div\", { class: \"battery-row\" }, h(\"div\", { class: \"battery-cell label\" }, h(\"strong\", null, formattedStatsObj.name), h(\"span\", { class: \"description\" }, formattedStatsObj.description)), h(\"div\", { class: \"battery-cell value\" }, h(\"span\", { class: `status ${(_a = formattedStatsObj.verdict) === null || _a === void 0 ? void 0 : _a.toLowerCase()}` }, this.t(`debugger.quality.${(_b = formattedStatsObj.verdict) === null || _b === void 0 ? void 0 : _b.toLowerCase()}`)), h(\"span\", { class: \"value\" }, formattedStatsObj.value))));\n        }))))))));\n    }\n    static get watchers() { return {\n        \"meeting\": [\"meetingChanged\"]\n    }; }\n};\n__decorate$C([\n    SyncWithStore()\n], DyteDebuggerSystem.prototype, \"meeting\", void 0);\n__decorate$C([\n    SyncWithStore()\n], DyteDebuggerSystem.prototype, \"states\", void 0);\n__decorate$C([\n    SyncWithStore()\n], DyteDebuggerSystem.prototype, \"size\", void 0);\n__decorate$C([\n    SyncWithStore()\n], DyteDebuggerSystem.prototype, \"iconPack\", void 0);\n__decorate$C([\n    SyncWithStore()\n], DyteDebuggerSystem.prototype, \"t\", void 0);\nDyteDebuggerSystem.style = DyteDebuggerSystemStyle0;\n\nconst dyteDebuggerVideoCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\\\.5, 6px);width:var(--dyte-space-1\\\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;height:100%;width:100%;color:rgb(var(--dyte-colors-text-1000, 255 255 255));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar{width:var(--dyte-space-1\\\\.5, 6px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}h3{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:600}#header{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-5, 20px);display:flex;align-items:center;justify-content:space-evenly}.tab-body{margin:var(--dyte-space-4, 16px);display:flex;height:100%;flex-direction:column;justify-content:space-between;overflow-y:auto}.status-container{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;padding:16px}.status-section{margin-bottom:12px}.section-header{display:flex;justify-content:space-between;align-items:center;font-weight:bold;padding:8px 0}.section-header.only-child{justify-content:center}.section-body.missing-stats{display:flex;text-align:center;justify-content:center}.section-header .status{color:rgba(var(--dyte-colors-success));font-weight:bold}.section-header .arrow{font-size:14px}.network-table{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;margin-top:8px;overflow:hidden}.network-row{display:flex;justify-content:space-between;padding:12px;border-bottom:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60))}.network-row:last-child{border-bottom:none}.network-cell{display:flex;flex-direction:column}.network-cell.label strong{font-size:14px}.network-cell.label .description{font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}.network-cell.value{text-align:right}.status.good{color:rgba(var(--dyte-colors-success))}.status.average{color:rgba(var(--dyte-colors-warning))}.status.poor{color:rgba(var(--dyte-colors-danger))}.value{font-size:14px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}dyte-settings-video{display:flex;flex-direction:column}\";\nconst DyteDebuggerVideoStyle0 = dyteDebuggerVideoCss;\n\nvar __decorate$B = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteDebuggerVideo = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        /** Is Network section expanded */\n        this.isNetworkOpen = true;\n        /** Is Devices section expanded */\n        this.isDevicesOpen = false;\n        /** Stats as formatted array to display */\n        this.videoProducerFormattedStats = [];\n        /** Last raw video score stats obj */\n        this.videoProducerScoreStats = null;\n        /** Summarised health of network stats */\n        this.networkBasedMediaHealth = null;\n        /** Summarised health of devices */\n        this.devicesHealth = null;\n        // private toggleSection(section: string) {\n        //   if (section === 'network') this.isNetworkOpen = !this.isNetworkOpen;\n        //   else if (section === 'devices') this.isDevicesOpen = !this.isDevicesOpen;\n        // }\n        this.mediaScoreUpdateListener = ({ kind, isScreenshare, scoreStats, }) => {\n            if (kind === 'video' && !isScreenshare) {\n                this.videoProducerScoreStats = scoreStats;\n            }\n        };\n        this.deviceListUpdateListener = async () => {\n            const videoDevices = await this.meeting.self.getVideoDevices();\n            this.devicesHealth = (videoDevices === null || videoDevices === void 0 ? void 0 : videoDevices.length) > 0 ? 'Good' : 'Poor';\n        };\n        this.videoUpdateListener = () => {\n            if (!this.meeting.self.videoEnabled) {\n                this.videoProducerScoreStats = null;\n            }\n        };\n    }\n    async videoProducerScoreStatsChanged(newVideoProducerScoreStats) {\n        if (!newVideoProducerScoreStats) {\n            this.videoProducerFormattedStats = [];\n            return;\n        }\n        const statsObj = newVideoProducerScoreStats;\n        const newStatsList = [];\n        newStatsList.push({\n            name: this.t('debugger.stats.cpu_limitations.label'),\n            value: statsObj.cpuLimitations ? 'Yes' : 'No',\n            description: this.t('debugger.stats.cpu_limitations.description'),\n            verdict: statsObj.cpuLimitations ? 'Poor' : 'Good',\n        });\n        newStatsList.push({\n            name: this.t('debugger.stats.bandwidth_limitations.label'),\n            value: statsObj.bandwidthLimitations ? 'Yes' : 'No',\n            description: this.t('debugger.stats.bandwidth_limitations.description'),\n            verdict: statsObj.bandwidthLimitations ? 'Poor' : 'Good',\n        });\n        newStatsList.push({\n            name: this.t('debugger.stats.bitrate.label'),\n            value: `${Math.round(statsObj.bitrate / 1024)} kbps`,\n            description: this.t('debugger.stats.bitrate.description'),\n            verdict: getBitrateVerdict({\n                bitrate: statsObj.bitrate,\n                kind: 'video',\n                isScreenshare: false,\n            }),\n        });\n        newStatsList.push({\n            name: this.t('debugger.stats.packet_loss.label'),\n            value: `${statsObj.packetsLostPercentage}%`,\n            description: this.t('debugger.stats.packet_loss.description'),\n            verdict: getPacketLossVerdict({ packetLossPercentage: statsObj.packetsLostPercentage }),\n        });\n        newStatsList.push({\n            name: this.t('debugger.stats.jitter.label'),\n            value: `${Math.round(statsObj.jitter * 1000)} ms`,\n            description: this.t('debugger.stats.jitter.description'),\n            verdict: getJitterVerdict({ jitterInMS: statsObj.jitter * 1000 }),\n        });\n        this.videoProducerFormattedStats = newStatsList;\n        this.networkBasedMediaHealth = getNetworkBasedMediaHealth({\n            kind: 'video',\n            isScreenshare: false,\n            stats: newStatsList,\n        });\n    }\n    connectedCallback() {\n        this.meetingChanged(this.meeting);\n    }\n    disconnectedCallback() {\n        if (!this.meeting) {\n            return;\n        }\n        this.meeting.self.off('mediaScoreUpdate', this.mediaScoreUpdateListener);\n        this.meeting.self.off('videoUpdate', this.videoUpdateListener);\n        this.meeting.self.off('deviceListUpdate', this.deviceListUpdateListener);\n    }\n    async meetingChanged(meeting) {\n        if (!meeting)\n            return;\n        meeting.self.on('mediaScoreUpdate', this.mediaScoreUpdateListener);\n        meeting.self.on('videoUpdate', this.videoUpdateListener);\n        meeting.self.on('deviceListUpdate', this.deviceListUpdateListener);\n        await this.deviceListUpdateListener();\n    }\n    render() {\n        var _a, _b;\n        if (!this.meeting) {\n            return;\n        }\n        // const defaults = {\n        //   meeting: this.meeting,\n        //   states: this.states || storeState,\n        //   iconPack: this.iconPack,\n        //   t: this.t,\n        // };\n        return (h(Host, null, h(\"div\", { id: \"header\" }), h(\"div\", { class: \"tab-body\" }, h(\"div\", { class: \"status-container\" }, h(\"div\", { class: \"status-section\" }, h(\"div\", { class: `section-header ${!this.networkBasedMediaHealth ? 'only-child' : ''}` }, h(\"span\", null, this.t('debugger.video.sections.network_media')), this.networkBasedMediaHealth && (h(\"span\", { class: `status ${(_a = this.networkBasedMediaHealth) === null || _a === void 0 ? void 0 : _a.toLowerCase()}` }, this.t(`debugger.quality.${(_b = this.networkBasedMediaHealth) === null || _b === void 0 ? void 0 : _b.toLowerCase()}`)))), this.isNetworkOpen && !this.videoProducerFormattedStats.length && (h(\"div\", { class: \"section-body missing-stats\" }, this.meeting.self.videoEnabled ? (h(\"span\", null, this.t('debugger.video.messages.generating_report'))) : (h(\"span\", null, this.t('debugger.video.messages.enable_media'))))), this.isNetworkOpen && !!this.videoProducerFormattedStats.length && (h(\"div\", { class: \"section-body network-table\" }, this.videoProducerFormattedStats.map((formattedStatsObj) => {\n            var _a, _b;\n            return (h(\"div\", { class: \"network-row\" }, h(\"div\", { class: \"network-cell label\" }, h(\"strong\", null, formattedStatsObj.name), h(\"span\", { class: \"description\" }, formattedStatsObj.description)), h(\"div\", { class: \"network-cell value\" }, h(\"span\", { class: `status ${(_a = formattedStatsObj.verdict) === null || _a === void 0 ? void 0 : _a.toLowerCase()}` }, this.t(`debugger.quality.${(_b = formattedStatsObj.verdict) === null || _b === void 0 ? void 0 : _b.toLowerCase()}`)), h(\"span\", { class: \"value\" }, formattedStatsObj.value))));\n        }))))))));\n    }\n    static get watchers() { return {\n        \"videoProducerScoreStats\": [\"videoProducerScoreStatsChanged\"],\n        \"meeting\": [\"meetingChanged\"]\n    }; }\n};\n__decorate$B([\n    SyncWithStore()\n], DyteDebuggerVideo.prototype, \"meeting\", void 0);\n__decorate$B([\n    SyncWithStore()\n], DyteDebuggerVideo.prototype, \"states\", void 0);\n__decorate$B([\n    SyncWithStore()\n], DyteDebuggerVideo.prototype, \"size\", void 0);\n__decorate$B([\n    SyncWithStore()\n], DyteDebuggerVideo.prototype, \"iconPack\", void 0);\n__decorate$B([\n    SyncWithStore()\n], DyteDebuggerVideo.prototype, \"t\", void 0);\nDyteDebuggerVideo.style = DyteDebuggerVideoStyle0;\n\nconst dyteDialogCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:fixed;top:var(--dyte-space-0, 0px);right:var(--dyte-space-0, 0px);bottom:var(--dyte-space-0, 0px);left:var(--dyte-space-0, 0px);box-sizing:border-box;padding:var(--dyte-space-4, 16px);flex-direction:column;align-items:center;justify-content:center;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / 0.5);color:rgb(var(--dyte-colors-text-1000, 255 255 255));visibility:hidden;display:none;overflow-wrap:break-word;word-wrap:break-word;z-index:60;-webkit-backdrop-filter:blur(12px) saturate(180%);backdrop-filter:blur(12px) saturate(180%)}#dialog{position:relative;max-height:100%;max-width:100%}#dismiss-btn{position:absolute;top:var(--dyte-space-3, 12px);right:var(--dyte-space-3, 12px);z-index:50}::slotted(*){max-height:100%;max-width:100%}:host([open]){visibility:visible;display:flex}:host([open='false']){visibility:hidden;display:none}\";\nconst DyteDialogStyle0 = dyteDialogCss;\n\nvar __decorate$A = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteDialog = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.onClose = createEvent(this, \"dyteDialogClose\", 7);\n        /** Whether to show the close button */\n        this.hideCloseButton = false;\n        /** Whether Escape key can close the modal */\n        this.disableEscapeKey = false;\n        /** UI Config */\n        this.config = defaultConfig;\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        /** Whether a dialog is open or not */\n        this.open = true;\n        this.close = () => {\n            this.open = false;\n            this.onClose.emit();\n        };\n        this.keydownListener = (e) => {\n            if (!this.disableEscapeKey && e.key === 'Escape' && this.open) {\n                this.close();\n            }\n        };\n    }\n    connectedCallback() {\n        document.addEventListener('keydown', this.keydownListener);\n    }\n    disconnectedCallback() {\n        document.removeEventListener('keydown', this.keydownListener);\n    }\n    render() {\n        if (!this.open) {\n            return null;\n        }\n        return (h(Host, null, h(\"div\", { id: \"dialog\", part: \"container\", role: \"dialog\", \"aria-modal\": \"true\" }, h(\"slot\", null), !this.hideCloseButton && (h(\"dyte-button\", { part: \"close-button\", id: \"dismiss-btn\", kind: \"icon\", variant: \"ghost\", onClick: () => this.close(), type: \"button\", \"aria-label\": this.t('dialog.close'), role: \"button\" }, h(\"dyte-icon\", { icon: this.iconPack.dismiss }))))));\n    }\n};\n__decorate$A([\n    SyncWithStore()\n], DyteDialog.prototype, \"meeting\", void 0);\n__decorate$A([\n    SyncWithStore()\n], DyteDialog.prototype, \"states\", void 0);\n__decorate$A([\n    SyncWithStore()\n], DyteDialog.prototype, \"size\", void 0);\n__decorate$A([\n    SyncWithStore()\n], DyteDialog.prototype, \"iconPack\", void 0);\n__decorate$A([\n    SyncWithStore()\n], DyteDialog.prototype, \"t\", void 0);\nDyteDialog.style = DyteDialogStyle0;\n\nconst dyteDialogManagerCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block}\";\nconst DyteDialogManagerStyle0 = dyteDialogManagerCss;\n\nvar __decorate$z = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteDialogManager = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.stateUpdate = createEvent(this, \"dyteStateUpdate\", 7);\n        /** UI Config */\n        this.config = defaultConfig;\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        this.updateStoreState = (state, value) => {\n            this.stateUpdate.emit({ [state]: value });\n        };\n        this.cancelJoinStage = async () => {\n            var _a, _b, _c;\n            if (((_a = this.meeting.stage) === null || _a === void 0 ? void 0 : _a.status) === 'ACCEPTED_TO_JOIN_STAGE') {\n                await ((_c = (_b = this.meeting) === null || _b === void 0 ? void 0 : _b.stage) === null || _c === void 0 ? void 0 : _c.leave());\n            }\n            this.updateStoreState('activeJoinStage', false);\n        };\n        this.joinStage = async () => {\n            await this.meeting.stage.join();\n            /** NOTE(ishita1805): We close the modal once the status has changed */\n        };\n        this.stageStatusUpdateListener = (status) => {\n            var _a;\n            if (!((_a = this.states) === null || _a === void 0 ? void 0 : _a.activeJoinStage))\n                return;\n            if (status === 'ON_STAGE')\n                this.updateStoreState('activeJoinStage', false);\n        };\n    }\n    connectedCallback() {\n        this.meetingChanged(this.meeting);\n    }\n    disconnectedCallback() {\n        var _a;\n        (_a = this.meeting.stage) === null || _a === void 0 ? void 0 : _a.removeListener('stageStatusUpdate', this.stageStatusUpdateListener);\n    }\n    meetingChanged(meeting) {\n        if (meeting == undefined)\n            return;\n        const { stage } = meeting;\n        stage === null || stage === void 0 ? void 0 : stage.addListener('stageStatusUpdate', this.stageStatusUpdateListener);\n    }\n    render() {\n        var _a, _b, _c, _d;\n        const defaults = {\n            meeting: this.meeting,\n            states: this.states,\n            config: this.config,\n            size: this.size,\n            iconPack: this.iconPack,\n            t: this.t,\n        };\n        const states = this.states;\n        if ((states === null || states === void 0 ? void 0 : states.image) != null) {\n            const image = states.image;\n            const onImageClose = () => {\n                this.stateUpdate.emit({ image: null });\n            };\n            return (h(Host, null, h(\"dyte-dialog\", { open: true, onDyteDialogClose: onImageClose, hideCloseButton: true, iconPack: this.iconPack, t: this.t }, h(\"dyte-image-viewer\", Object.assign({}, defaults, { image: image, onClose: onImageClose })))));\n        }\n        else if ((states === null || states === void 0 ? void 0 : states.activeSettings) === true) {\n            return (h(Host, null, h(\"dyte-dialog\", { open: true, onDyteDialogClose: () => this.updateStoreState('activeSettings', false), iconPack: this.iconPack, t: this.t }, h(\"dyte-settings\", Object.assign({}, defaults)))));\n        }\n        else if ((states === null || states === void 0 ? void 0 : states.activeDebugger) === true) {\n            return (h(Host, null, h(\"dyte-dialog\", { open: true, onDyteDialogClose: () => this.updateStoreState('activeDebugger', false), iconPack: this.iconPack, t: this.t }, h(\"dyte-debugger\", Object.assign({}, defaults)))));\n        }\n        else if ((states === null || states === void 0 ? void 0 : states.activeLeaveConfirmation) === true) {\n            return (h(Host, null, h(\"dyte-dialog\", { open: true, onDyteDialogClose: () => this.updateStoreState('activeLeaveConfirmation', false), iconPack: this.iconPack, t: this.t }, h(\"dyte-leave-meeting\", Object.assign({}, defaults)))));\n        }\n        else if (((_a = states === null || states === void 0 ? void 0 : states.activePermissionsMessage) === null || _a === void 0 ? void 0 : _a.enabled) === true) {\n            return (h(Host, null, h(\"dyte-dialog\", { open: true, hideCloseButton: true, iconPack: this.iconPack, t: this.t }, h(\"dyte-permissions-message\", Object.assign({}, defaults)))));\n        }\n        else if (((_b = states === null || states === void 0 ? void 0 : states.activeBreakoutRoomsManager) === null || _b === void 0 ? void 0 : _b.active) === true) {\n            return (h(Host, null, h(\"dyte-dialog\", { open: true, onDyteDialogClose: () => this.updateStoreState('activeBreakoutRoomsManager', {\n                    active: false,\n                    data: undefined,\n                }), iconPack: this.iconPack, t: this.t }, h(\"dyte-breakout-rooms-manager\", Object.assign({}, defaults)))));\n        }\n        else if (((_c = states === null || states === void 0 ? void 0 : states.activeConfirmationModal) === null || _c === void 0 ? void 0 : _c.active) === true) {\n            return (h(Host, null, h(\"dyte-dialog\", { open: true, onDyteDialogClose: () => this.updateStoreState('activeConfirmationModal', false), iconPack: this.iconPack, t: this.t }, h(\"dyte-confirmation-modal\", Object.assign({}, defaults)))));\n        }\n        else if (((_d = states === null || states === void 0 ? void 0 : states.activeOverlayModal) === null || _d === void 0 ? void 0 : _d.active) === true) {\n            return (h(Host, null, h(\"dyte-overlay-modal\", { meeting: this.meeting, states: this.states, iconPack: this.iconPack, t: this.t })));\n        }\n        else if (states === null || states === void 0 ? void 0 : states.activeBroadcastMessageModal) {\n            return (h(Host, null, h(\"dyte-dialog\", { open: true, onDyteDialogClose: () => this.updateStoreState('activeBroadcastMessageModal', false), iconPack: this.iconPack, t: this.t }, h(\"dyte-broadcast-message-modal\", Object.assign({}, defaults)))));\n        }\n        else if ((states === null || states === void 0 ? void 0 : states.activeJoinStage) === true) {\n            const dataState = {\n                title: this.t('stage.join_title'),\n                label: {\n                    accept: this.t('stage.join_confirm'),\n                    reject: this.t('stage.join_cancel'),\n                },\n                description: this.t('stage.join_summary'),\n            };\n            return (h(Host, null, h(\"dyte-dialog\", { open: true, onDyteDialogClose: this.cancelJoinStage, iconPack: this.iconPack, t: this.t }, h(\"dyte-join-stage\", Object.assign({ dataConfig: dataState, onDyteJoinStage: this.joinStage, onDyteLeaveStage: this.cancelJoinStage }, defaults)))));\n        }\n        else if ((states === null || states === void 0 ? void 0 : states.activeMuteAllConfirmation) === true) {\n            return (h(Host, null, h(\"dyte-dialog\", { open: true, onDyteDialogClose: () => {\n                    this.updateStoreState('activeMuteAllConfirmation', false);\n                }, iconPack: this.iconPack, t: this.t }, h(\"dyte-mute-all-confirmation\", Object.assign({}, defaults)))));\n        }\n        else if (states === null || states === void 0 ? void 0 : states.activeChannelCreator) {\n            return (h(Host, null, h(\"dyte-dialog\", { open: true, onDyteDialogClose: () => {\n                    this.updateStoreState('activeChannelCreator', false);\n                }, iconPack: this.iconPack, t: this.t }, h(\"dyte-channel-creator\", Object.assign({}, defaults)))));\n        }\n        return null;\n    }\n    static get watchers() { return {\n        \"meeting\": [\"meetingChanged\"]\n    }; }\n};\n__decorate$z([\n    SyncWithStore()\n], DyteDialogManager.prototype, \"meeting\", void 0);\n__decorate$z([\n    SyncWithStore()\n], DyteDialogManager.prototype, \"states\", void 0);\n__decorate$z([\n    SyncWithStore()\n], DyteDialogManager.prototype, \"size\", void 0);\n__decorate$z([\n    SyncWithStore()\n], DyteDialogManager.prototype, \"iconPack\", void 0);\n__decorate$z([\n    SyncWithStore()\n], DyteDialogManager.prototype, \"t\", void 0);\nDyteDialogManager.style = DyteDialogManagerStyle0;\n\nconst dyteDraftAttachmentViewCss = \":host{display:flex;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));border-top-left-radius:var(--dyte-border-radius-md, 8px);border-top-right-radius:var(--dyte-border-radius-md, 8px)}.preview-overlay{position:absolute;top:var(--dyte-space-0, 0px);right:var(--dyte-space-0, 0px);bottom:var(--dyte-space-0, 0px);left:var(--dyte-space-0, 0px);background-color:inherit}.preview{position:absolute;top:var(--dyte-space-4, 16px);left:var(--dyte-space-4, 16px);max-width:-moz-fit-content;max-width:fit-content;max-height:var(--dyte-space-20, 80px)}.preview:hover dyte-tooltip{display:block}.preview dyte-tooltip{position:absolute;top:calc(var(--dyte-space-1, 4px) * -1);left:calc(var(--dyte-space-1, 4px) * -1);display:none;margin-left:calc(var(--dyte-space-1, 4px) * -1);margin-top:calc(var(--dyte-space-1, 4px) * -1)}.preview dyte-button{display:flex;height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);align-items:center;justify-content:center;border-radius:9999px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));border:1px solid rgb(var(--dyte-colors-text-1000, 255 255 255))}.preview dyte-icon{height:var(--dyte-space-3, 12px);width:var(--dyte-space-3, 12px);color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.preview-image{height:var(--dyte-space-16, 64px);width:var(--dyte-space-16, 64px);-o-object-fit:cover;object-fit:cover;max-height:100%;max-width:100%;overflow:clip;border-radius:var(--dyte-border-radius-md, 8px)}.preview-file{padding-left:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-3, 12px);padding-top:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-radius:var(--dyte-border-radius-md, 8px);max-width:200px}\";\nconst DyteDraftAttachmentViewStyle0 = dyteDraftAttachmentViewCss;\n\nvar __decorate$y = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteDraftAttachmentView = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.onDeleteAttachment = createEvent(this, \"deleteAttachment\", 7);\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        /** Attachment to display */\n        this.attachment = null;\n        this.filePreview = null;\n        this.fileReader = new FileReader();\n        this.generatePreview = () => {\n            if (this.attachment.type === 'image') {\n                this.fileReader.readAsDataURL(this.attachment.file);\n            }\n            else if (this.attachment.type === 'file') {\n                this.filePreview = this.attachment.file.name;\n            }\n        };\n        this.onDeleteClickHandler = () => {\n            this.filePreview = null;\n            this.onDeleteAttachment.emit();\n        };\n    }\n    onAttachmentChange() {\n        this.generatePreview();\n    }\n    connectedCallback() {\n        this.fileReader.onload = (e) => {\n            if (typeof e.target.result === 'string') {\n                this.filePreview = e.target.result;\n            }\n        };\n        // this.fileReader.onloadstart = () => {};\n        // this.fileReader.onloadend = () => {};\n    }\n    componentWillLoad() {\n        this.onAttachmentChange();\n    }\n    render() {\n        return (h(Host, { key: '9ac12b9992619fe12ab30d07dfcd3113562e6d12' }, h(\"div\", { key: '3540e19bd3d7b5185c55359e128bdee18a31d32d', class: \"preview-overlay\" }, h(\"div\", { key: '2792a2f153702696ce4bb3803b6a401cb2075238', class: \"preview\" }, h(\"dyte-tooltip\", { key: 'f1ae3139d0199a03a9e85a7366c766c8cb9f84b2', label: this.t('chat.cancel_upload') }, h(\"dyte-button\", { key: '99d6e020c4b7042a7f91861c799ff251193bd16c', variant: \"secondary\", kind: \"icon\", onClick: this.onDeleteClickHandler }, h(\"dyte-icon\", { key: 'e8809cbd2ee916275de659a4eed986ab71351235', icon: this.iconPack.dismiss }))), this.attachment.type === 'image' ? (h(\"img\", { class: \"preview-image\", src: this.filePreview })) : (h(\"div\", { class: \"preview-file\" }, h(\"span\", null, this.filePreview)))))));\n    }\n    static get watchers() { return {\n        \"attachment\": [\"onAttachmentChange\"]\n    }; }\n};\n__decorate$y([\n    SyncWithStore()\n], DyteDraftAttachmentView.prototype, \"iconPack\", void 0);\n__decorate$y([\n    SyncWithStore()\n], DyteDraftAttachmentView.prototype, \"t\", void 0);\nDyteDraftAttachmentView.style = DyteDraftAttachmentViewStyle0;\n\nconst EMOJI_ASSET_URL = 'https://cdn.dyte.in/assets/emojis-data.json';\n/**\n * fetches the latest emoji list from CDN\n * @returns list of emojis\n */\nconst fetchEmojis = async () => {\n    const emojis = await fetch(EMOJI_ASSET_URL);\n    return emojis.json();\n};\n\nconst dyteEmojiPickerCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\\\.5, 6px);width:var(--dyte-space-1\\\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{width:100%}.emoji-parent{box-sizing:border-box;display:inline-flex;height:var(--dyte-space-64, 256px);width:100%;max-width:640px;flex-direction:column;padding:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-0, 0px);-webkit-user-select:none;-moz-user-select:none;user-select:none;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.close-parent{display:flex;flex:1 1 0%;justify-content:flex-end;padding:var(--dyte-space-0, 0px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}#emoji-grid{margin-top:var(--dyte-space-2, 8px);box-sizing:border-box;display:flex;flex-direction:row;flex-wrap:wrap;overflow-x:hidden;overflow-y:scroll;height:100%;grid-auto-rows:minmax(min-content, max-content)}#loader{display:flex;height:100%;width:100%;align-items:center;justify-content:center}input{display:block;height:var(--dyte-space-8, 32px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);font-size:14px;border-width:var(--dyte-border-width-none, 0);border-style:solid;border-style:none;border-color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}input::-moz-placeholder{color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}input::placeholder{color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}input{border-radius:var(--dyte-border-radius-sm, 4px);outline:2px solid transparent;outline-offset:2px;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms;border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60))}input:focus{--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-border-opacity));--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);--tw-ring-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-ring-opacity));--tw-ring-opacity:0.3}.emoji{height:var(--dyte-space-10, 40px);width:var(--dyte-space-10, 40px);font-size:20px;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}\";\nconst DyteEmojiPickerStyle0 = dyteEmojiPickerCss;\n\nvar __decorate$x = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteEmojiPicker = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.pickerClose = createEvent(this, \"pickerClose\", 7);\n        this.emojiClicked = createEvent(this, \"dyteEmojiClicked\", 7);\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        this.filterVal = '';\n        this.filteredEmojis = [];\n    }\n    componentWillLoad() {\n        // Don't use async here as it will block the render\n        fetchEmojis().then((e) => {\n            this.emojiList = e;\n            this.handleInputChange({ value: '' });\n        });\n    }\n    handleInputChange(target) {\n        this.filterVal = target.value;\n        const regex = new RegExp(`([^,]*?${this.filterVal}[^,]*):(\\\\d+)`, 'g');\n        this.filteredEmojis = Array.from(this.emojiList['search'].matchAll(regex)).map((m) => {\n            return { name: m[1], emoji: this.emojiList['emojis'][m[2]] };\n        });\n    }\n    handleEmojiClick(emoji) {\n        this.emojiClicked.emit(emoji);\n    }\n    mapEmojiList() {\n        var _a;\n        if (((_a = this.emojiList) === null || _a === void 0 ? void 0 : _a.length) > 0) {\n            return (h(\"div\", { id: \"loader\" }, h(\"dyte-spinner\", { iconPack: this.iconPack })));\n        }\n        return (h(\"div\", { id: \"emoji-grid\", class: \"scrollbar max-w-40\" }, this.filteredEmojis.map((e) => (h(\"dyte-button\", { key: `emoji-button-${e.name}`, class: \"emoji\", variant: \"ghost\", kind: \"icon\", title: e.name, onClick: () => this.handleEmojiClick(e.emoji) }, e.emoji)))));\n    }\n    render() {\n        return (h(Host, { key: 'b17b48acdfac58eda53b28f1785809115172fc90' }, h(\"div\", { key: 'e26f53ed92044ecdad71535745d51b8ac7c1d04e', class: 'close-parent' }, h(\"dyte-button\", { key: 'ac341792386866394d5c6d23790f0aec03f66f65', variant: \"ghost\", kind: \"icon\", class: \"close\", onClick: () => { var _a; return (_a = this.pickerClose) === null || _a === void 0 ? void 0 : _a.emit(); }, \"aria-label\": this.t('close') }, h(\"dyte-icon\", { key: 'b1ebe07eaf85572389d9341fa5670c085bc8120b', icon: this.iconPack.dismiss }))), h(\"div\", { key: '03d1365cc6f9274c1ef6cd590abfbd57027432b8', class: 'emoji-parent' }, h(\"input\", { key: '1f05b7dbc0f4e1fe189d8dca8746d8007477bbde', value: this.filterVal, onInput: (event) => this.handleInputChange(event.target), placeholder: this.t('search') }), this.mapEmojiList())));\n    }\n};\n__decorate$x([\n    SyncWithStore()\n], DyteEmojiPicker.prototype, \"iconPack\", void 0);\n__decorate$x([\n    SyncWithStore()\n], DyteEmojiPicker.prototype, \"t\", void 0);\nDyteEmojiPicker.style = DyteEmojiPickerStyle0;\n\nconst dyteEmojiPickerButtonCss = \":host{}\";\nconst DyteEmojiPickerButtonStyle0 = dyteEmojiPickerButtonCss;\n\nvar __decorate$w = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteEmojiPickerButton = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n    }\n    render() {\n        return (h(\"dyte-tooltip\", { key: 'ed7771da8c8790052743bc9fe8da64c352b99826', label: this.t('chat.send_emoji') }, h(\"dyte-button\", { key: '16c59bbb9a708844c96569b89bbc246653c9d601', variant: \"ghost\", kind: \"icon\", class: { active: this.isActive }, title: this.t('chat.send_emoji') }, h(\"dyte-icon\", { key: '27baf076cb231a538a31fd3759154a62d02c28b9', icon: this.iconPack.emoji_multiple }))));\n    }\n};\n__decorate$w([\n    SyncWithStore()\n], DyteEmojiPickerButton.prototype, \"iconPack\", void 0);\n__decorate$w([\n    SyncWithStore()\n], DyteEmojiPickerButton.prototype, \"t\", void 0);\nDyteEmojiPickerButton.style = DyteEmojiPickerButtonStyle0;\n\nconst getExtension = (name) => {\n    // split query and hash from url, then get the filename\n    return name.split(/[#?]/)[0].split('.').pop().trim();\n};\n/**\n * Formats size in bytes to human readable formats\n * @param size Size in bytes\n * @returns Human readable file size\n */\nconst getFileSize = (size) => {\n    if (!size)\n        return '0 B';\n    const i = Math.floor(Math.log(size) / Math.log(1024));\n    return `${(size / 1024 ** i).toFixed(2)} ${['B', 'kB', 'MB', 'GB', 'TB'][i]}`;\n};\n/**\n * Extracts the file name from a URL.\n * @param link The URL of the file\n * @param fallback Fallback filename\n * @returns File name\n */\nconst getFileName = (link, fallback = 'file') => {\n    try {\n        const url = new URL(link);\n        const name = url.pathname.split('/').pop();\n        return name !== '/' ? name : fallback;\n    }\n    catch (_) {\n        return fallback;\n    }\n};\n/**\n * Downloads file from a given URL without leaving the current page\n * @param link URL of the file to download\n * @param options Optional Options for file download - `name` and `fallbackName`\n */\nconst downloadFile = async (link, options) => {\n    link = sanitizeLink(link);\n    let name = options === null || options === void 0 ? void 0 : options.name;\n    const res = await fetch(link);\n    if (!res.ok) {\n        // if unable to download file (CORS or some other error)\n        // open the URL in new tab\n        window.open(link, '_blank');\n        return;\n    }\n    const blobURL = URL.createObjectURL(await res.blob());\n    // Creates an anchor tag and simulates download\n    const a = document.createElement('a');\n    a.href = blobURL;\n    a.download = name !== null && name !== void 0 ? name : getFileName(link, options === null || options === void 0 ? void 0 : options.fallbackName);\n    a.click();\n};\n\nvar __decorate$v = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteFileMessage = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /** Date object of now, to calculate distance between dates */\n        this.now = new Date();\n        /** Whether the message is continued by same user */\n        this.isContinued = false;\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        /** show message in bubble */\n        this.showBubble = false;\n    }\n    render() {\n        const link = sanitizeLink(this.message.link);\n        return (h(Host, { key: 'f5befc2c8ec9cb19a0bdf188a3313be725601841' }, !this.isContinued && (h(ChatHead, { key: '127c8691596fe2b2ea236ecf754d6ceca18dee08', name: this.message.displayName, time: this.message.time, now: this.now })), h(\"div\", { key: '209f10f73b231b9d7ccd5de677ff812dfc235950', class: {\n                body: true,\n                bubble: this.showBubble,\n            }, part: \"body\" }, h(\"div\", { key: '47834225c4d6b625db6823f979ae0b592f897ff8', class: \"file\" }, h(\"div\", { key: '14516331f804e78977f0b718758cf71b6e57ff33', class: \"file-data\" }, h(\"div\", { key: 'fa03e638f47d8af6b66eca2b9155c3683d51eb8a', class: \"name\" }, this.message.name), h(\"div\", { key: 'e9060694813e9d9d90692c70a52ff782a156268d', class: \"file-data-split\" }, h(\"div\", { key: '7955b2e62e52a2d23cb026badbb1b8960b8ac6e1', class: \"ext\" }, getExtension(this.message.name)), h(\"span\", { key: '84d6ba7a76be685a3f1509c59d24844d29fd6fee', class: \"divider\" }), h(\"div\", { key: '9070a6bac59bd947f0b73d4508bc1ff26a493f5d', class: \"size\" }, getFileSize(this.message.size)))), h(\"dyte-button\", { key: '8ff6e3be0173975f1ab73220317f7171a9923383', variant: \"secondary\", kind: \"icon\", onClick: () => downloadFile(link, { name: this.message.name, fallbackName: 'file' }), part: \"button\" }, h(\"dyte-icon\", { key: 'da690564e3361a9f1ff1e4a933b21020636bd23e', icon: this.iconPack.download }))))));\n    }\n};\n__decorate$v([\n    SyncWithStore()\n], DyteFileMessage.prototype, \"iconPack\", void 0);\n__decorate$v([\n    SyncWithStore()\n], DyteFileMessage.prototype, \"t\", void 0);\n\nconst dyteFileMessageViewCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.file{display:flex;align-items:center;gap:var(--dyte-space-1, 4px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);padding-top:var(--dyte-space-1, 4px);padding-bottom:var(--dyte-space-1, 4px);min-width:var(--dyte-space-40, 160px);max-width:var(--dyte-space-64, 256px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.file .file-data{margin-left:var(--dyte-space-1, 4px);flex:1 1 0%}.file .file-data .name{word-break:break-all;color:rgb(var(--dyte-colors-text-1000, 255 255 255));overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.file .file-data .file-data-split{margin-top:var(--dyte-space-0\\\\.5, 2px);display:flex;align-items:center;font-size:12px}.file .file-data .file-data-split .ext{margin-right:var(--dyte-space-2, 8px);text-transform:uppercase;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.file .file-data .file-data-split .divider{height:var(--dyte-space-4, 16px);width:var(--dyte-space-0\\\\.5, 2px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.file .file-data .file-data-split .size{margin-left:var(--dyte-space-2, 8px)}\";\nconst DyteFileMessageViewStyle0 = dyteFileMessageViewCss;\n\nvar __decorate$u = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteFileMessageView = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n    }\n    render() {\n        return (h(\"div\", { key: '27ef49cd85552610eb2aa9cfb2046f13e98f0b87', class: \"file\" }, h(\"dyte-button\", { key: '5553484477a3363eaa1a786f66a3e6a86036b7e3', variant: \"secondary\", kind: \"icon\", onClick: () => downloadFile(sanitizeLink(this.url), { name: this.name, fallbackName: 'file' }), part: \"button\" }, h(\"dyte-icon\", { key: 'f929d033d0a67ea654cb306bb5c175860f935af3', icon: this.iconPack.download })), h(\"div\", { key: '238b4f2a4b47ef5d7f58d1e767cb409476073950', class: \"file-data\" }, h(\"div\", { key: 'a7497d08623ef878d05c91d02114dbe3b1e5ac9d', class: \"name\" }, this.name), h(\"div\", { key: '3d361ca77f97b4f5d55ffa14173fb6be5e961140', class: \"file-data-split\" }, h(\"div\", { key: 'd793ed396da5455431ca9a8937683a559531b575', class: \"ext\" }, getExtension(this.name)), h(\"span\", { key: '098df4e883f1dfb51e6d4274ca6761f6ad5467a7', class: \"divider\" }), h(\"div\", { key: 'f11132ba5caa159139a94edb1213904b51886a7d', class: \"size\" }, getFileSize(this.size))))));\n    }\n};\n__decorate$u([\n    SyncWithStore()\n], DyteFileMessageView.prototype, \"iconPack\", void 0);\nDyteFileMessageView.style = DyteFileMessageViewStyle0;\n\nconst dyteFilePickerButtonCss = \":host{}\";\nconst DyteFilePickerButtonStyle0 = dyteFilePickerButtonCss;\n\nvar __decorate$t = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteFilePickerButton = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.onFileChange = createEvent(this, \"fileChange\", 7);\n        /** Icon */\n        this.icon = 'attach';\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        this.uploadFile = () => {\n            const input = this.fileInputField;\n            input.type = 'file';\n            if (this.filter) {\n                input.accept = this.filter;\n            }\n            input.onchange = (e) => {\n                const { validity, files: [file], } = e.target;\n                if (validity.valid) {\n                    this.onFileChange.emit(file);\n                }\n            };\n            input.click();\n        };\n    }\n    connectedCallback() {\n        this.fileInputField = document.createElement('input');\n    }\n    disconnectedCallback() {\n        // For GC\n        this.fileInputField = undefined;\n    }\n    render() {\n        const label = this.label || this.t('chat.send_file');\n        const icon = this.iconPack[this.icon];\n        return (h(\"dyte-tooltip\", { key: '334c14777babe9de198038dd3b37926176d1a08a', label: label }, h(\"dyte-button\", { key: '0bc4d797c62074d3ffe9531d04c9087b21b16e0f', variant: \"ghost\", kind: \"icon\", onClick: () => this.uploadFile(), title: label }, h(\"dyte-icon\", { key: '99066f2ba8c7eb773b1e9d5d9895d340af1d11fe', icon: icon }))));\n    }\n};\n__decorate$t([\n    SyncWithStore()\n], DyteFilePickerButton.prototype, \"iconPack\", void 0);\n__decorate$t([\n    SyncWithStore()\n], DyteFilePickerButton.prototype, \"t\", void 0);\nDyteFilePickerButton.style = DyteFilePickerButtonStyle0;\n\nconst dyteIconCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block;height:var(--dyte-space-10, 40px);outline:2px solid transparent;outline-offset:2px}:host .icon-wrapper{display:flex;height:100%;width:100%;flex-direction:column;align-items:center}:host svg{height:100%;width:100%;outline:2px solid transparent;outline-offset:2px}:host([size='xl']){box-sizing:border-box;display:block;height:var(--dyte-space-16, 64px) !important;width:var(--dyte-space-16, 64px) !important;--dyte-spinner-color:currentColor}:host([size='md']){box-sizing:border-box;display:block;height:var(--dyte-space-6, 24px) !important;width:var(--dyte-space-6, 24px) !important;--dyte-spinner-color:currentColor}:host([size='sm']){box-sizing:border-box;display:block;height:var(--dyte-space-4, 16px) !important;width:var(--dyte-space-4, 16px) !important;--dyte-spinner-color:currentColor}:host([variant='secondary']) .icon-wrapper{--tw-text-opacity:1;color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-text-opacity))}:host([variant='danger']) .icon-wrapper{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}\";\nconst DyteIconStyle0 = dyteIconCss;\n\nvar __decorate$s = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst parseIcon = (icon) => {\n    try {\n        return JSON.parse(icon);\n    }\n    catch (e) {\n        return icon;\n    }\n};\nconst DyteIcon = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /** Icon variant */\n        this.variant = 'primary';\n        /** Size */\n        this.size = 'lg';\n    }\n    render() {\n        return (h(Host, { key: '7c30027e6133e5ec64063771c08d37a75b5435bd' }, h(\"div\", { key: '74cf660575c383f53e38ba4688612bc69dbe9b34', class: \"icon-wrapper\", innerHTML: parseIcon(this.icon), part: \"wrapper\" })));\n    }\n};\n__decorate$s([\n    SyncWithStore()\n], DyteIcon.prototype, \"size\", void 0);\nDyteIcon.style = DyteIconStyle0;\n\nconst dyteImageMessageCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.image-spinner{cursor:wait}.image-errored{cursor:not-allowed}\";\nconst DyteImageMessageStyle0 = dyteImageMessageCss;\n\nvar __decorate$r = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteImageMessage = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.stateUpdate = createEvent(this, \"dyteStateUpdate\", 7);\n        /** Date object of now, to calculate distance between dates */\n        this.now = new Date();\n        /** Whether the message is continued by same user */\n        this.isContinued = false;\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        /** show message in bubble */\n        this.showBubble = false;\n        this.status = 'loading';\n    }\n    render() {\n        return (h(Host, { key: 'fa9c168429dd5f92a542b7ca092dd4cc805743bd' }, !this.isContinued && (h(ChatHead, { key: 'dfd15b9192fc7198fef6c4b5f2964a83d912e53d', name: this.message.displayName, time: this.message.time, now: this.now })), h(\"div\", { key: 'cefee5d9928f506c9ff758c858cc53c12827ff35', class: {\n                body: true,\n                bubble: this.showBubble,\n            }, part: \"body\" }, h(\"div\", { key: '643e1d4703eac657c73467d0791307fba8aedcd8', class: { image: true, loaded: this.status === 'loaded' } }, h(\"img\", { key: '4453724021e1f2c83221cde8aebff82aceaf2e16', src: sanitizeLink(this.message.link), onLoad: () => {\n                this.status = 'loaded';\n            }, onError: () => {\n                this.status = 'errored';\n            }, onClick: () => {\n                if (this.status === 'loaded') {\n                    this.stateUpdate.emit({ image: this.message });\n                }\n            } }), this.status === 'loading' && (h(\"div\", { key: 'ee3cf0052083e8468c9aed66fb8716e541424c5a', class: \"image-spinner\", title: this.t('chat.img.loading'), \"aria-label\": this.t('chat.img.loading') }, h(\"dyte-spinner\", { key: 'a1e1563ab6269ce75dc319c6896d609b45fbd76e', iconPack: this.iconPack }))), this.status === 'errored' && (h(\"div\", { key: '9a17301d149d6aa957408592ba5ea004f204c638', class: \"image-errored\", title: this.t('chat.error.img_not_found'), \"aria-label\": this.t('chat.error.img_not_found') }, h(\"dyte-icon\", { key: 'ee5672f1c3708329f9d6a299c8186d9383b6c963', icon: this.iconPack.image_off }))), this.status === 'loaded' && (h(\"div\", { key: '6b15f2e58846b2d3bbdb706c939d6c0e174ef45b', class: \"actions\" }, h(\"dyte-button\", { key: 'b4c0904c8b31f2e8e0fed72d8147e106827ca8b8', class: \"action\", variant: \"secondary\", kind: \"icon\", onClick: () => {\n                this.stateUpdate.emit({ image: this.message });\n            } }, h(\"dyte-icon\", { key: '4745d25ee35fe6ce31f7cf037a6e6b6da07c7047', icon: this.iconPack.full_screen_maximize })), h(\"dyte-button\", { key: '51d687441df970faf55c745bdbb39186188e2da0', class: \"action\", variant: \"secondary\", kind: \"icon\", onClick: () => downloadFile(this.message.link, { fallbackName: 'image' }) }, h(\"dyte-icon\", { key: 'cd488683796615bc0dd3c622338bf5949c0af89e', icon: this.iconPack.download }))))))));\n    }\n};\n__decorate$r([\n    SyncWithStore()\n], DyteImageMessage.prototype, \"iconPack\", void 0);\n__decorate$r([\n    SyncWithStore()\n], DyteImageMessage.prototype, \"t\", void 0);\nDyteImageMessage.style = DyteImageMessageStyle0;\n\nconst dyteImageMessageViewCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.image-spinner{cursor:wait}.image-errored{cursor:not-allowed}.image{display:block;font-family:var(--dyte-font-family, sans-serif);color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));position:relative;height:var(--dyte-space-40, 160px);max-width:var(--dyte-space-64, 256px);cursor:pointer}.image img{display:none;height:100%;width:100%;border-radius:var(--dyte-border-radius-sm, 4px);-o-object-fit:cover;object-fit:cover}.image .image-spinner{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.image .image-spinner dyte-spinner{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity))}.image .image-errored{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;border-radius:var(--dyte-border-radius-sm, 4px);background-color:rgba(var(--dyte-colors-danger, 255 45 45) / 0.1);--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}.image .actions{display:none;height:var(--dyte-space-8, 32px);align-items:center;position:absolute;top:var(--dyte-space-2, 8px);right:var(--dyte-space-2, 8px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));overflow:hidden;--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.image .actions .action{height:var(--dyte-space-8, 32px);width:var(--dyte-space-8, 32px);border-radius:var(--dyte-border-radius-none, 0);border-width:var(--dyte-border-width-none, 0);border-style:none;background-color:transparent;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.image .actions .action:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.image.loaded img{display:block}.image.loaded .image-spinner{display:none}.image:hover .actions,.image:focus .actions{display:flex}\";\nconst DyteImageMessageViewStyle0 = dyteImageMessageViewCss;\n\nvar __decorate$q = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteImageMessageView = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.onPreview = createEvent(this, \"preview\", 7);\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        this.status = 'loading';\n    }\n    render() {\n        return (h(\"div\", { key: '4ab60c036ede1e5ff46471a978c68e5eafa615d3', class: { image: true, loaded: this.status === 'loaded' } }, h(\"img\", { key: '2eed0ef93098727817592425da81ff2357c60f72', src: sanitizeLink(this.url), onLoad: () => {\n                this.status = 'loaded';\n            }, onError: () => {\n                this.status = 'errored';\n            }, onClick: () => {\n                if (this.status === 'loaded') {\n                    this.onPreview.emit(this.url);\n                }\n            } }), this.status === 'loading' && (h(\"div\", { key: '13efea611d39c5eb679d7cf5603dec9f95edc775', class: \"image-spinner\", title: this.t('chat.img.loading'), \"aria-label\": this.t('chat.img.loading') }, h(\"dyte-spinner\", { key: 'afc0eb62f76007c1a15da942fb53fe79ee4aa37f', iconPack: this.iconPack }))), this.status === 'errored' && (h(\"div\", { key: 'c7aa254df37a2eaacb29f94ef22c2f7c056114ad', class: \"image-errored\", title: this.t('chat.error.img_not_found'), \"aria-label\": this.t('chat.error.img_not_found') }, h(\"dyte-icon\", { key: '873385f922410dd9c86192326c0470e2d310e08d', icon: this.iconPack.image_off }))), this.status === 'loaded' && (h(\"div\", { key: '70a59be0b7b21af1a440ba8165cc2e55c249323d', class: \"actions\" }, h(\"dyte-button\", { key: '62801cc02ea09562a895e983f62e5e3271e89039', class: \"action\", variant: \"secondary\", kind: \"icon\", onClick: () => {\n                this.onPreview.emit(this.url);\n            } }, h(\"dyte-icon\", { key: '60d0fdacecec31d24af48016dc2f58d95aaa71f2', icon: this.iconPack.full_screen_maximize })), h(\"dyte-button\", { key: 'adacc2b4023f5acc00e4b39304312593d7e74d62', class: \"action\", variant: \"secondary\", kind: \"icon\", onClick: () => downloadFile(this.url, { fallbackName: 'image' }) }, h(\"dyte-icon\", { key: '5a455e504d1db35dcf8564458425dafd200129a3', icon: this.iconPack.download }))))));\n    }\n};\n__decorate$q([\n    SyncWithStore()\n], DyteImageMessageView.prototype, \"iconPack\", void 0);\n__decorate$q([\n    SyncWithStore()\n], DyteImageMessageView.prototype, \"t\", void 0);\nDyteImageMessageView.style = DyteImageMessageViewStyle0;\n\nconst dyteImageViewerCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\\\.5, 6px);width:var(--dyte-space-1\\\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{width:1140px;max-width:100%;box-sizing:border-box;display:flex;flex-direction:column;padding:var(--dyte-space-6, 24px);padding-top:var(--dyte-space-5, 20px);overflow-y:auto;color:rgb(var(--dyte-colors-text-1000, 255 255 255));z-index:40;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity))}.displayName{font-weight:700}.image-ctr{margin-top:var(--dyte-space-2, 8px);box-sizing:border-box;display:flex;justify-content:center;overflow:hidden}.actions{display:flex;align-items:center;justify-content:flex-end;gap:var(--dyte-space-2, 8px)}img{box-sizing:border-box;display:block;max-height:100%;max-width:100%;-o-object-fit:contain;object-fit:contain}.header{display:flex;align-items:center;justify-content:space-between;padding-bottom:var(--dyte-space-4, 16px)}.shared-by-user{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}:host([size='sm']) .header{flex-direction:column}:host([size='sm']) .header .actions{margin-top:var(--dyte-space-4, 16px)}\";\nconst DyteImageViewerStyle0 = dyteImageViewerCss;\n\nvar __decorate$p = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteImageViewer = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.close = createEvent(this, \"close\", 7);\n        /** Language */\n        this.t = useLanguage();\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        this.keypressListener = (e) => {\n            if (e.key === 'Escape') {\n                this.close.emit();\n            }\n        };\n        this.handleOutsideClick = () => this.close.emit();\n    }\n    connectedCallback() {\n        document.addEventListener('keydown', this.keypressListener);\n        document.addEventListener('click', this.handleOutsideClick);\n    }\n    disconnectedCallback() {\n        document.removeEventListener('keydown', this.keypressListener);\n        document.removeEventListener('click', this.handleOutsideClick);\n    }\n    render() {\n        return (h(Host, { key: '2491b39127e06ed796c380216cab38773f36209a', class: \"scrollbar\", onClick: (e) => e.stopPropagation() }, h(\"div\", { key: '27dac52e6465f3e9dbfd415bcc1f34c6c1596635', class: \"header\" }, h(\"div\", { key: '7e9dab9f453cbc1bb7cd6cb2bab297bf671ca7d1', class: \"shared-by-user\" }, this.t('chat.img.shared_by'), ' ', h(\"span\", { key: '3ef88112f23a713d229b55d3bbc07cde28f5c461', class: \"displayName\" }, formatName(shorten(this.image.displayName)))), h(\"div\", { key: '15a34a4d4b095ff64acd4682e7b5c8b8c85e8ca3', class: \"actions\" }, h(\"dyte-button\", { key: '88195fbcf9286c332d460e787ec378944779db1b', onClick: () => downloadFile(this.image.link, { fallbackName: 'image' }) }, h(\"dyte-icon\", { key: '867a85747399a09446c0fde37738a898b999782d', icon: this.iconPack.download, slot: \"start\" }), \"Download\"), h(\"dyte-button\", { key: '21a3c92ac5c52cd64911a3bbe115c5d7b0cf3397', kind: \"icon\", variant: \"secondary\", onClick: () => this.close.emit() }, h(\"dyte-icon\", { key: '84d6450e7669cf9155c4cd2bb3be3d5f726033dc', icon: this.iconPack.dismiss })))), h(\"div\", { key: '8db9e6e84b7836f089a6a98068c26dbfafd73529', class: \"image-ctr\" }, h(\"img\", { key: '200e0b6906bed300a4514b3b1baac10645803202', src: this.image.link }))));\n    }\n};\n__decorate$p([\n    SyncWithStore()\n], DyteImageViewer.prototype, \"size\", void 0);\n__decorate$p([\n    SyncWithStore()\n], DyteImageViewer.prototype, \"t\", void 0);\n__decorate$p([\n    SyncWithStore()\n], DyteImageViewer.prototype, \"iconPack\", void 0);\nDyteImageViewer.style = DyteImageViewerStyle0;\n\nconst dyteJoinStageCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\\\.5, 6px);width:var(--dyte-space-1\\\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host::-webkit-scrollbar{width:var(--dyte-space-1\\\\.5, 6px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}:host::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}:host(.stage){box-sizing:border-box;display:block;width:512px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));padding:var(--dyte-space-6, 24px);-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:auto;border-radius:var(--dyte-border-radius-md, 8px);line-height:1.25}:host(.stage) dyte-participant-setup{display:flex;flex:1 1 0%;align-items:center;justify-content:space-around;margin-left:auto;margin-right:auto}:host(.stage) .container dyte-button{flex-grow:1;padding:var(--dyte-space-1, 4px);width:50%}:host(.stage) .container dyte-button:nth-child(1){margin-right:var(--dyte-space-1\\\\.5, 6px)}:host(.stage) .container dyte-button:nth-child(2){margin-left:var(--dyte-space-1\\\\.5, 6px)}:host(.stage) h2{font-size:24px;font-weight:500;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}:host(.stage) header{padding-left:var(--dyte-space-4, 16px);padding-right:var(--dyte-space-4, 16px)}:host(.stage) .summary{padding:var(--dyte-space-4, 16px)}.deny-access{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}.container{width:100%;max-width:1080px;display:flex;flex:1 1 0%;align-items:center;justify-content:space-around}header{display:flex;align-items:center;justify-content:space-between}\";\nconst DyteJoinStageStyle0 = dyteJoinStageCss;\n\nvar __decorate$o = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteJoinStage = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.stateUpdate = createEvent(this, \"dyteStateUpdate\", 7);\n        this.joinStage = createEvent(this, \"dyteJoinStage\", 7);\n        this.leaveStage = createEvent(this, \"dyteLeaveStage\", 7);\n        /** UI Config */\n        this.config = defaultConfig;\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        /** Content Config */\n        this.dataConfig = {\n            title: this.t('stage.join_title'),\n            label: {\n                accept: this.t('stage.join_confirm'),\n                reject: this.t('stage.join_cancel'),\n            },\n            description: this.t('stage.join_summary'),\n        };\n        this.isLoading = false;\n    }\n    render() {\n        var _a, _b;\n        const defaults = {\n            meeting: this.meeting,\n            size: this.size,\n            states: this.states,\n            config: this.config,\n            iconPack: this.iconPack,\n            t: this.t,\n        };\n        return (h(Host, { key: '4fc08232560ec90d3cc13efaf69d7be2b7083c84', class: { stage: true } }, h(\"header\", { key: '670578993c90490fb5184d710bbdee77218f0ae4' }, h(\"h2\", { key: 'ea7574fa697829772e2840cf730536e6a2974e86' }, this.dataConfig.title)), h(Render, { key: '25136ca653e3bf08f45628c18ec4885fc5bca31f', element: \"dyte-participant-setup\", defaults: defaults, props: { participant: (_a = this.meeting) === null || _a === void 0 ? void 0 : _a.self, size: 'md' }, childProps: { participant: (_b = this.meeting) === null || _b === void 0 ? void 0 : _b.self, size: 'md' }, deepProps: true }), h(\"div\", { key: '06fdd1149e50508c662781aae6e5a7a6e5c786bd', class: \"summary\" }, this.dataConfig.description), h(\"div\", { key: 'fbd5720696f7c415be96410b1d948c909c41ae36', class: \"container\" }, h(\"dyte-button\", { key: 'f81130f39cca1c774d0bf2bfb0b2b30d88758cbd', variant: \"secondary\", onClick: () => this.leaveStage.emit(), title: this.dataConfig.label.reject }, this.dataConfig.label.reject), h(\"dyte-button\", { key: '53dd411070bcde6b0c933855a7530e129d0c6b1c', onClick: () => {\n                if (this.isLoading)\n                    return;\n                this.isLoading = true;\n                this.joinStage.emit();\n            }, title: this.dataConfig.label.accept }, this.isLoading ? (h(\"dyte-icon\", { icon: this.iconPack.spinner })) : (this.dataConfig.label.accept)))));\n    }\n};\n__decorate$o([\n    SyncWithStore()\n], DyteJoinStage.prototype, \"meeting\", void 0);\n__decorate$o([\n    SyncWithStore()\n], DyteJoinStage.prototype, \"states\", void 0);\n__decorate$o([\n    SyncWithStore()\n], DyteJoinStage.prototype, \"size\", void 0);\n__decorate$o([\n    SyncWithStore()\n], DyteJoinStage.prototype, \"iconPack\", void 0);\n__decorate$o([\n    SyncWithStore()\n], DyteJoinStage.prototype, \"t\", void 0);\nDyteJoinStage.style = DyteJoinStageStyle0;\n\nconst dyteLeaveMeetingCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.leave-modal{width:var(--dyte-space-72, 288px)}@media (min-width: 768px){.leave-modal{width:var(--dyte-space-96, 384px)}}.leave-modal{position:relative;display:flex;flex-direction:column;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));padding:var(--dyte-space-8, 32px);color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.leave-modal .header h2{margin:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-3, 12px)}.leave-modal .message{color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}.leave-modal .content{margin-top:var(--dyte-space-4, 16px);font-size:14px;display:flex;flex-wrap:wrap;gap:var(--dyte-space-4, 16px)}.leave-modal .content dyte-button{height:var(--dyte-space-9, 36px);min-width:var(--dyte-space-44, 176px);flex-grow:1}.leave-modal .content .secondary-btn{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.leave-modal .content .secondary-btn:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.leave-modal .content .secondary-danger-btn{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}\";\nconst DyteLeaveMeetingStyle0 = dyteLeaveMeetingCss;\n\nvar __decorate$n = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteLeaveMeeting = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.stateUpdate = createEvent(this, \"dyteStateUpdate\", 7);\n        this.keyPressListener = (e) => {\n            if (e.key === 'Escape') {\n                this.close();\n            }\n        };\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        this.canEndMeeting = false;\n        this.isBreakoutRoomsActive = false;\n        this.isChildMeeting = false;\n        this.canJoinMainRoom = false;\n        this.permissionsUpdateListener = () => {\n            this.canEndMeeting = this.meeting.self.permissions.kickParticipant;\n            this.canJoinMainRoom = this.meeting.self.permissions.connectedMeetings.canSwitchToParentMeeting;\n        };\n        this.close = () => {\n            this.stateUpdate.emit({ activeLeaveConfirmation: false });\n        };\n        this.handleLeave = () => {\n            var _a;\n            (_a = this.meeting) === null || _a === void 0 ? void 0 : _a.leaveRoom();\n            this.close();\n        };\n        this.handleJoinMainRoom = () => {\n            this.meeting.connectedMeetings.moveParticipants(this.meeting.meta.meetingId, this.meeting.connectedMeetings.parentMeeting.id, [this.meeting.self.userId]);\n            this.close();\n        };\n        this.handleEndMeeting = () => {\n            var _a;\n            (_a = this.meeting) === null || _a === void 0 ? void 0 : _a.participants.kickAll();\n            this.close();\n        };\n    }\n    connectedCallback() {\n        this.meetingChanged(this.meeting);\n        document.addEventListener('keydown', this.keyPressListener);\n    }\n    disconnectedCallback() {\n        var _a;\n        document.removeEventListener('keydown', this.keyPressListener);\n        (_a = this.meeting) === null || _a === void 0 ? void 0 : _a.self.permissions.removeListener('permissionsUpdate', this.permissionsUpdateListener);\n    }\n    meetingChanged(meeting) {\n        if (meeting != null) {\n            this.isBreakoutRoomsActive =\n                this.meeting.connectedMeetings.supportsConnectedMeetings &&\n                    this.meeting.connectedMeetings.isActive;\n            this.isChildMeeting =\n                this.meeting.connectedMeetings.supportsConnectedMeetings &&\n                    this.meeting.connectedMeetings.meetings.some((cMeet) => cMeet.id === meeting.meta.meetingId);\n            this.meeting.self.permissions.addListener('permissionsUpdate', this.permissionsUpdateListener);\n            this.permissionsUpdateListener();\n        }\n    }\n    render() {\n        return (h(Host, { key: 'c5753a8ebb2736da351d10529f002fc53f71cf6e' }, h(\"div\", { key: '1d08a38e0f9036a77981a6d48154e795b456c1fe', class: \"leave-modal\" }, h(\"div\", { key: 'be3b122e0d37cab7898ce22c77885084fdc71a37', class: \"header\" }, h(\"h2\", { key: '57f69bc17c5d9ab5a246eb5e35651cd191993a2f', class: \"title\" }, this.t('leave'))), h(\"p\", { key: 'be794688b2d9ab0039e0b34673ba2cfd384195a8', class: \"message\" }, this.isBreakoutRoomsActive && this.isChildMeeting\n            ? this.t('breakout_rooms.leave_confirmation')\n            : this.t('leave_confirmation')), h(\"div\", { key: '757a3aa9203f57b24fa9c1176a2d34b3106695e0', class: \"content\" }, h(\"dyte-button\", { key: 'b5b39f76686aea039ff7cb3225e4948104386210', variant: \"secondary\", onClick: this.close, class: \"secondary-btn\" }, this.t('cancel')), this.isBreakoutRoomsActive && this.isChildMeeting && this.canJoinMainRoom && (h(\"dyte-button\", { key: '6a816c70fd6846a5da006e244074d7e72d9ce05c', variant: \"secondary\", onClick: this.handleJoinMainRoom, class: \"secondary-btn\" }, this.t('breakout_rooms.leave_confirmation.main_room_btn'))), h(\"dyte-button\", { key: '7a978e721f7f1630fd21fff21210705fb4cbd37c', variant: this.canEndMeeting ? 'secondary' : 'danger', title: this.t('leave'), onClick: this.handleLeave, class: {\n                'secondary-btn': this.canEndMeeting,\n                'secondary-danger-btn': this.canEndMeeting,\n            } }, this.t('leave')), this.canEndMeeting && (h(\"dyte-button\", { key: 'd204e9b3f2019e2352b0f5b5689ca37727d08f94', variant: \"danger\", onClick: this.handleEndMeeting }, this.t('end.all')))))));\n    }\n    static get watchers() { return {\n        \"meeting\": [\"meetingChanged\"]\n    }; }\n};\n__decorate$n([\n    SyncWithStore()\n], DyteLeaveMeeting.prototype, \"meeting\", void 0);\n__decorate$n([\n    SyncWithStore()\n], DyteLeaveMeeting.prototype, \"states\", void 0);\n__decorate$n([\n    SyncWithStore()\n], DyteLeaveMeeting.prototype, \"iconPack\", void 0);\n__decorate$n([\n    SyncWithStore()\n], DyteLeaveMeeting.prototype, \"t\", void 0);\nDyteLeaveMeeting.style = DyteLeaveMeetingStyle0;\n\nconst dyteLogoCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;flex-direction:column;align-items:center;justify-content:center;color:rgb(var(--dyte-colors-text-1000, 255 255 255));height:100%;width:auto}svg,img{height:100%;width:auto}.brand-color{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity))}\";\nconst DyteLogoStyle0 = dyteLogoCss;\n\nvar __decorate$m = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteLogo = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /** Config object */\n        this.config = defaultConfig;\n        /** Language */\n        this.t = useLanguage();\n    }\n    connectedCallback() {\n        this.configChanged(this.config);\n        this.meetingChanged(this.meeting);\n    }\n    configChanged(config) {\n        var _a;\n        if (config != null) {\n            const configLogo = (_a = config === null || config === void 0 ? void 0 : config.designTokens) === null || _a === void 0 ? void 0 : _a.logo;\n            // NOTE(callmetarush): Only update logo if not passed via prop\n            if (configLogo != null && this.logoUrl == null) {\n                this.logoUrl = configLogo;\n            }\n        }\n    }\n    meetingChanged(meeting) {\n        var _a, _b, _c, _d;\n        if (meeting != null) {\n            const meetingLogo = (_d = (_c = (_b = (_a = meeting.self) === null || _a === void 0 ? void 0 : _a.config) === null || _b === void 0 ? void 0 : _b.header) === null || _c === void 0 ? void 0 : _c.elements) === null || _d === void 0 ? void 0 : _d.logo;\n            if (meetingLogo != null && this.logoUrl == null) {\n                this.logoUrl = meetingLogo;\n            }\n        }\n    }\n    render() {\n        if (!this.logoUrl || this.logoUrl === '') {\n            return null;\n        }\n        const logo = this.logoUrl;\n        const text = this.t('logo');\n        return (h(Host, { class: \"loaded\" }, h(\"img\", { src: logo, alt: text })));\n    }\n    static get watchers() { return {\n        \"config\": [\"configChanged\"],\n        \"meeting\": [\"meetingChanged\"]\n    }; }\n};\n__decorate$m([\n    SyncWithStore()\n], DyteLogo.prototype, \"meeting\", void 0);\n__decorate$m([\n    SyncWithStore()\n], DyteLogo.prototype, \"t\", void 0);\nDyteLogo.style = DyteLogoStyle0;\n\nconst dyteMarkdownViewCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{overflow-wrap:break-word}a{color:currentColor}.block-quote,blockquote{margin:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-3, 12px);--tw-border-spacing-x:1px;--tw-border-spacing-y:1px;border-spacing:var(--tw-border-spacing-x) var(--tw-border-spacing-y);border-top-width:var(--dyte-border-width-none, 0);border-bottom-width:var(--dyte-border-width-none, 0);border-left-width:var(--dyte-border-width-md, 2px);border-right-width:var(--dyte-border-width-none, 0);border-style:solid;padding:var(--dyte-space-0\\\\.5, 2px);padding-left:var(--dyte-space-2, 8px);border-radius:var(--dyte-border-radius-sm, 4px);border-top-left-radius:var(--dyte-border-radius-none, 0);border-bottom-left-radius:var(--dyte-border-radius-none, 0)}pre{white-space:pre-wrap}\";\nconst DyteMarkdownViewStyle0 = dyteMarkdownViewCss;\n\nconst DyteMarkdownView = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /** max length of text to render as markdown */\n        this.maxLength = MAX_TEXT_LENGTH;\n        this.restoreEmpty = (content, tag, renderCallback) => {\n            return content.trim().length === 0 ? `${tag}${content}${tag}` : renderCallback(content);\n        };\n        this.renderLink = (content) => {\n            return (h(\"a\", { class: \"link\", href: content, target: \"_blank\", rel: \"noopener noreferrer\" }, content));\n        };\n        this.renderBold = (content) => {\n            if (typeof content === 'string') {\n                return this.restoreEmpty(content, '*', (c) => h(\"b\", null, c));\n            }\n            return h(\"b\", null, this.renderTokens(content));\n        };\n        this.renderItalic = (content) => {\n            if (typeof content === 'string') {\n                return this.restoreEmpty(content, '_', (c) => h(\"i\", null, c));\n            }\n            return h(\"i\", null, this.renderTokens(content));\n        };\n        this.renderStrikethrough = (content) => {\n            if (typeof content === 'string') {\n                return this.restoreEmpty(content, '~', (c) => h(\"s\", null, c));\n            }\n            return h(\"b\", null, this.renderTokens(content));\n        };\n        this.renderPlainText = (content) => {\n            if (typeof content === 'string') {\n                return content;\n            }\n            return h(\"p\", null, this.renderTokens(content));\n        };\n        this.renderTokens = (tokens) => {\n            return tokens.map((token) => {\n                switch (token.type) {\n                    case 'a':\n                        if (typeof token.content === 'string') {\n                            return this.renderLink(token.content);\n                        }\n                    case 'b':\n                        return this.renderBold(token.content);\n                    case 'i':\n                        return this.renderItalic(token.content);\n                    case 's':\n                        return this.renderStrikethrough(token.content);\n                    case 'q':\n                        return h(\"span\", { class: \"block-quote\" });\n                    case 'plain_text':\n                    default:\n                        return this.renderPlainText(token.content);\n                }\n            });\n        };\n    }\n    renderMessage(text) {\n        let lines = text.split('\\n');\n        let isCodeBlock = false;\n        if (lines[0] === '```' && lines[lines.length - 1] === '```') {\n            isCodeBlock = true;\n            lines = lines.slice(1, -1);\n        }\n        const message = lines.map((line) => {\n            const tokens = parseRichText(line);\n            return h(\"p\", null, this.renderTokens(tokens));\n        });\n        if (isCodeBlock) {\n            return h(\"pre\", { style: { whiteSpace: 'pre', overflow: 'scroll' } }, lines.join('\\n'));\n        }\n        return message;\n    }\n    render() {\n        const slicedMessage = this.text.slice(0, this.maxLength);\n        const withReply = extractReplyBlock(slicedMessage, true);\n        const withoutReply = stripOutReplyBlock(slicedMessage);\n        return (h(\"p\", { key: 'b3115390fc6d21369673cb6c92ba90b7a710173a' }, withReply.length !== 0 && h(\"blockquote\", { key: '5aa48ffc60bb71da150b161582b9ab1b1ee59ff7' }, this.renderMessage(withReply)), withoutReply.length !== 0 && this.renderMessage(withoutReply)));\n    }\n};\nDyteMarkdownView.style = DyteMarkdownViewStyle0;\n\nconst dyteMeetingCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{box-sizing:border-box;display:flex;flex-direction:column;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));overflow:hidden;position:fixed;top:var(--dyte-space-0, 0px);right:var(--dyte-space-0, 0px);bottom:var(--dyte-space-0, 0px);left:var(--dyte-space-0, 0px);height:100%;width:100%}:host([mode='fill']){position:relative}\";\nconst DyteMeetingStyle0 = dyteMeetingCss;\n\nvar __decorate$l = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteMeeting = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.statesUpdate = createEvent(this, \"dyteStatesUpdate\", 7);\n        this.roomJoinedListener = () => {\n            this.updateStates({ meeting: 'joined' });\n        };\n        this.waitlistedListener = () => {\n            this.updateStates({ meeting: 'waiting' });\n        };\n        this.roomLeftListener = ({ state }) => {\n            // Let socketConnectionUpdate listener handle this case.\n            if (state === 'disconnected' || state === 'failed')\n                return;\n            this.updateStates({ meeting: 'ended', roomLeftState: state });\n        };\n        this.mediaPermissionUpdateListener = ({ kind, message }) => {\n            if (['audio', 'video'].includes(kind)) {\n                if ((message === 'DENIED' || message === 'SYSTEM_DENIED') &&\n                    uiState.states.activeDebugger !== true) {\n                    const permissionModalSettings = {\n                        enabled: true,\n                        kind,\n                    };\n                    this.updateStates({ activePermissionsMessage: permissionModalSettings });\n                }\n            }\n        };\n        this.socketConnectionUpdateListener = ({ state }) => {\n            if (state === 'failed') {\n                setTimeout(() => {\n                    this.meeting.leave('disconnected');\n                }, this.leaveRoomTimer);\n            }\n        };\n        /** Whether to load config from preset */\n        this.loadConfigFromPreset = false;\n        /** Whether to apply the design system on the document root from config */\n        this.applyDesignSystem = false;\n        /** Fill type */\n        this.mode = 'fixed';\n        /** Whether participant should leave when this component gets unmounted */\n        this.leaveOnUnmount = false;\n        /** Language */\n        this.t = useLanguage();\n        /** UI Config */\n        this.config = defaultConfig;\n        /** Grid layout */\n        this.gridLayout = 'row';\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n    }\n    connectedCallback() {\n        var _a;\n        if (typeof window !== 'undefined') {\n            this.authErrorListener = (ev) => {\n                if (ev.detail.message.includes('401')) {\n                    this.updateStates({ meeting: 'ended', roomLeftState: 'unauthorized' });\n                }\n            };\n            window.addEventListener('dyteError', this.authErrorListener);\n        }\n        this.leaveRoomTimer = 10000;\n        this.loadConfigFromPreset = true;\n        this.applyDesignSystem = true;\n        this.resizeObserver = new index(() => this.handleResize());\n        this.resizeObserver.observe(this.host);\n        if (this.applyDesignSystem &&\n            ((_a = this.config) === null || _a === void 0 ? void 0 : _a.designTokens) != null &&\n            typeof document !== 'undefined') {\n            provideDyteDesignSystem(document.documentElement, this.config.designTokens);\n        }\n        this.meetingChanged(this.meeting);\n    }\n    clearListeners(meeting) {\n        if (!meeting)\n            return;\n        meeting.self.removeListener('roomLeft', this.roomLeftListener);\n        meeting.self.removeListener('roomJoined', this.roomJoinedListener);\n        meeting.self.removeListener('waitlisted', this.waitlistedListener);\n        meeting.self.removeListener('mediaPermissionUpdate', this.mediaPermissionUpdateListener);\n        meeting.meta.removeListener('socketConnectionUpdate', this.socketConnectionUpdateListener);\n    }\n    disconnectedCallback() {\n        var _a;\n        if (this.leaveOnUnmount) {\n            (_a = this.meeting) === null || _a === void 0 ? void 0 : _a.leaveRoom();\n        }\n        this.resizeObserver.disconnect();\n        this.clearListeners(this.meeting);\n        window.removeEventListener('dyteError', this.authErrorListener);\n    }\n    meetingChanged(meeting) {\n        var _a, _b;\n        if (!meeting)\n            return;\n        this.updateStates({ viewType: meeting.meta.viewType });\n        if (this.loadConfigFromPreset && meeting.self.config != null) {\n            const theme = meeting.self.config;\n            const { config, data } = generateConfig(theme, meeting);\n            if (this.config === defaultConfig) {\n                // only override the config if the object is same as defaultConfig\n                // which means it's a different object passed via prop\n                this.config = config;\n            }\n            if (this.showSetupScreen == null) {\n                // only override this value if the prop isn't passed\n                this.showSetupScreen = data.showSetupScreen;\n            }\n            if (meeting.connectedMeetings.supportsConnectedMeetings &&\n                ((_a = uiState.states.activeBreakoutRoomsManager) === null || _a === void 0 ? void 0 : _a.destinationMeetingId)) {\n                this.showSetupScreen = false;\n            }\n        }\n        if (this.applyDesignSystem &&\n            ((_b = this.config) === null || _b === void 0 ? void 0 : _b.designTokens) != null &&\n            typeof document !== 'undefined') {\n            provideDyteDesignSystem(document.documentElement, this.config.designTokens);\n        }\n        meeting.self.addListener('roomJoined', this.roomJoinedListener);\n        meeting.self.addListener('waitlisted', this.waitlistedListener);\n        meeting.self.addListener('roomLeft', this.roomLeftListener);\n        meeting.self.addListener('mediaPermissionUpdate', this.mediaPermissionUpdateListener);\n        meeting.meta.addListener('socketConnectionUpdate', this.socketConnectionUpdateListener);\n        if (meeting.connectedMeetings.supportsConnectedMeetings) {\n            meeting.connectedMeetings.once('changingMeeting', this.handleChangingMeeting);\n        }\n        if (meeting.self.roomJoined) {\n            this.updateStates({ meeting: 'joined' });\n        }\n        else {\n            if (this.showSetupScreen) {\n                this.updateStates({ meeting: 'setup' });\n            }\n            else {\n                // join directly to the meeting\n                meeting.joinRoom();\n            }\n        }\n        window.removeEventListener('dyteError', this.authErrorListener);\n    }\n    listenState(e) {\n        this.updateStates(e.detail);\n    }\n    handleChangingMeeting(destinationMeetingId) {\n        this.updateStates({\n            activeBreakoutRoomsManager: Object.assign(Object.assign({}, uiState.states.activeBreakoutRoomsManager), { destinationMeetingId }),\n        });\n    }\n    handleResize() {\n        this.size = getSize(this.host.clientWidth);\n    }\n    updateStates(states) {\n        const newStates = Object.assign({}, uiState.states);\n        uiState.states = deepMerge(newStates, states);\n        this.statesUpdate.emit(uiState.states);\n    }\n    render() {\n        const defaults = {\n            meeting: this.meeting,\n            size: this.size,\n            states: uiState.states,\n            config: this.config,\n            iconPack: this.iconPack,\n            t: this.t,\n        };\n        if (uiState.states.viewType === 'CHAT') {\n            return h(\"dyte-chat\", Object.assign({}, defaults));\n        }\n        const elementProps = {\n            'dyte-grid': {\n                layout: this.gridLayout,\n            },\n        };\n        return h(Render, { element: \"dyte-meeting\", defaults: defaults, asHost: true, elementProps: elementProps });\n    }\n    get host() { return getElement(this); }\n    static get watchers() { return {\n        \"meeting\": [\"meetingChanged\"]\n    }; }\n};\n__decorate$l([\n    SyncWithStore()\n], DyteMeeting.prototype, \"meeting\", void 0);\n__decorate$l([\n    SyncWithStore()\n], DyteMeeting.prototype, \"t\", void 0);\n__decorate$l([\n    SyncWithStore()\n], DyteMeeting.prototype, \"iconPack\", void 0);\nDyteMeeting.style = DyteMeetingStyle0;\n\nconst dyteMenuCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:relative;display:inline-block;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}#menu-list{position:absolute;z-index:20;display:none}\";\nconst DyteMenuStyle0 = dyteMenuCss;\n\nvar __decorate$k = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteMenu$1 = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.clickedThis = false;\n        /** Placement of menu */\n        this.placement = 'bottom-end';\n        /** Offset in px */\n        this.offset = 10;\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        this.handleOutsideClick = () => {\n            // handles clicking on other menu triggers\n            if (!this.clickedThis) {\n                // if other trigger is clicked, hide this menu-list\n                this.menuListEl.style.display = 'none';\n            }\n            // reset the value\n            this.clickedThis = false;\n        };\n    }\n    componentDidLoad() {\n        document.addEventListener('click', this.handleOutsideClick);\n        this.update();\n    }\n    disconnectedCallback() {\n        document.removeEventListener('click', this.handleOutsideClick);\n    }\n    update() {\n        computePosition(this.triggerEl, this.menuListEl, {\n            placement: this.placement,\n            middleware: [offset(this.offset), flip(), shift({ padding: 5 })],\n        }).then(({ x, y }) => {\n            Object.assign(this.menuListEl.style, {\n                left: `${x}px`,\n                top: `${y}px`,\n            });\n        });\n    }\n    render() {\n        return (h(Host, { key: '8fce9cdf74c107e0438f30cd2c1ed33b5eb0570e' }, h(\"span\", { key: 'bfe2fcfcac4f87a60cc2762d758c34e42c1ab653', id: \"trigger\", ref: (el) => (this.triggerEl = el), onClick: () => {\n                this.clickedThis = true;\n                if (this.menuListEl.style.display !== 'block') {\n                    this.menuListEl.style.display = 'block';\n                    this.update();\n                }\n                else {\n                    this.menuListEl.style.display = 'none';\n                }\n            } }, h(\"slot\", { key: '09c4699c881002da8ffaab3cfef27e06d8ceae60', name: \"trigger\" })), h(\"span\", { key: '1feae9bc99d7379471552ea2ea8a39c795259826', part: \"menu-list\", id: \"menu-list\", ref: (el) => (this.menuListEl = el) }, h(\"slot\", { key: '01cc566916d96fb30a0845b975431c9202a20ebb' }))));\n    }\n};\n__decorate$k([\n    SyncWithStore()\n], DyteMenu$1.prototype, \"size\", void 0);\n__decorate$k([\n    SyncWithStore()\n], DyteMenu$1.prototype, \"iconPack\", void 0);\n__decorate$k([\n    SyncWithStore()\n], DyteMenu$1.prototype, \"t\", void 0);\nDyteMenu$1.style = DyteMenuStyle0;\n\nconst dyteMenuItemCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;align-items:center;padding-left:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-3, 12px);padding-top:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px);cursor:pointer;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms;color:rgb(var(--dyte-colors-text-1000, 255 255 255));font-size:14px}::slotted([slot='start']){margin-right:var(--dyte-space-2, 8px)}::slotted([slot='end']){margin-left:var(--dyte-space-2, 8px)}:host(:hover){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}:host(.red){--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}\";\nconst DyteMenuItemStyle0 = dyteMenuItemCss;\n\nvar __decorate$j = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteMenuItem = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n    }\n    render() {\n        return (h(Host, { key: '2e3a7e78987d9544820b74e2c83e8cd2c1b38e0b' }, h(\"slot\", { key: 'be5768e5d7ec85f4d9e5c7fc43d3edd612f518c7', name: \"start\" }), h(\"slot\", { key: 'ce236f02c727fb4e42ee8cae25bc7bf00479be01' }), h(\"slot\", { key: '92a2fb4f3a5fa3f03c396a1483b1eabfa83235e7', name: \"end\" })));\n    }\n};\n__decorate$j([\n    SyncWithStore()\n], DyteMenuItem.prototype, \"size\", void 0);\n__decorate$j([\n    SyncWithStore()\n], DyteMenuItem.prototype, \"iconPack\", void 0);\n__decorate$j([\n    SyncWithStore()\n], DyteMenuItem.prototype, \"t\", void 0);\nDyteMenuItem.style = DyteMenuItemStyle0;\n\nconst dyteMenuListCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;width:-moz-max-content;width:max-content;flex-direction:column;padding-top:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));overflow:hidden;border-radius:var(--dyte-border-radius-sm, 4px);--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}\";\nconst DyteMenuListStyle0 = dyteMenuListCss;\n\nvar __decorate$i = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteMenuList = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n    }\n    render() {\n        return (h(Host, { key: '9aecbc06a89da8a7ea5ac9f5f8f47ad21ec389e8' }, h(\"slot\", { key: '3dfd067eec2d74e5e3751942b73f72fc2c6272cb' })));\n    }\n};\n__decorate$i([\n    SyncWithStore()\n], DyteMenuList.prototype, \"iconPack\", void 0);\n__decorate$i([\n    SyncWithStore()\n], DyteMenuList.prototype, \"t\", void 0);\nDyteMenuList.style = DyteMenuListStyle0;\n\nconst dyteMessageViewCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\\\.5, 6px);width:var(--dyte-space-1\\\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}.message-wrapper{display:flex;flex-direction:row-reverse;gap:var(--dyte-space-2, 8px)}.message-wrapper.incoming{flex-direction:row}.message{display:flex;flex-direction:column}.header{margin-bottom:var(--dyte-space-1, 4px);align-self:flex-end;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));font-size:14px;font-weight:600}.incoming .header{align-self:flex-start}.body{display:flex;flex-direction:column;min-width:var(--dyte-space-24, 96px);font-family:var(--dyte-font-family, sans-serif);color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));font-size:14px;line-height:1.375;position:relative}.body .metadata{margin-top:var(--dyte-space-2, 8px);align-self:flex-end;font-size:10px}.bubble{max-width:var(--dyte-space-96, 384px);padding:var(--dyte-space-2, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));border-radius:var(--dyte-border-radius-md, 8px)}.incoming .bubble{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}.avatar{display:none}dyte-menu{position:absolute;right:var(--dyte-space-0, 0px);top:var(--dyte-space-0, 0px);border-radius:var(--dyte-border-radius-lg, 12px)}dyte-menu dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);cursor:pointer}.actions{display:flex;align-items:center;justify-content:center;padding-left:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px);padding-top:var(--dyte-space-1, 4px);padding-right:var(--dyte-space-1, 4px);border-radius:var(--dyte-border-radius-md, 8px);border-width:var(--dyte-border-width-none, 0);border-style:none;background:radial-gradient(\\n    at top right,\\n    rgb(var(--dyte-colors-brand-300, 73 124 253)) 60%,\\n    rgba(255, 255, 255, 0) 80%\\n  )}.actions dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}.incoming .actions{background:radial-gradient(\\n      at top right,\\n      rgb(var(--dyte-colors-background-800, 30 30 30)) 60%,\\n      rgba(255, 255, 255, 0) 80%\\n    )}.incoming .actions dyte-icon{color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}.incoming dyte-avatar{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}@media (min-width: 400px){.avatar{display:flex;width:var(--dyte-space-6, 24px)}.avatar dyte-avatar{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px);font-size:10px;overflow:clip;border-radius:9999px}}@media (hover: hover){dyte-menu{visibility:hidden}.body:hover dyte-menu{visibility:visible}}\";\nconst DyteMessageViewStyle0 = dyteMessageViewCss;\n\nvar __decorate$h = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteMessageView = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.onAction = createEvent(this, \"action\", 7);\n        /** List of actions to show in menu */\n        this.actions = [];\n        /** Appearance */\n        this.variant = 'bubble';\n        /** Render */\n        this.viewType = 'outgoing';\n        /** Hides avatar */\n        this.hideAvatar = false;\n        /** Hides author display label */\n        this.hideAuthorName = false;\n        /** Hides metadata (time) */\n        this.hideMetadata = false;\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n    }\n    renderActions() {\n        return (h(\"dyte-menu\", { placement: \"top-end\", offset: 1 }, h(\"button\", { slot: \"trigger\", class: \"actions\" }, h(\"dyte-icon\", { icon: this.iconPack.chevron_down })), h(\"dyte-menu-list\", null, this.actions.map((action) => (h(\"dyte-menu-item\", { onClick: () => this.onAction.emit(action.id) }, action.icon && h(\"dyte-icon\", { icon: action.icon, slot: \"start\" }), action.label))))));\n    }\n    render() {\n        return (h(Host, { key: '2a443309dfcb77b650bf1378ec13f77f2bf01593' }, h(\"div\", { key: '989baadfe7e60a3888be667fa0984c97c5a0f597', class: { 'message-wrapper': true, [this.viewType]: true } }, !this.hideAvatar && (h(\"aside\", { key: '2513cf0da43268c39efd3a84c74aab3ec5adc85d', class: \"avatar\", part: \"avatar\" }, h(\"dyte-avatar\", { key: '18b94987038b10c30393a97f30025f31fe25c411', participant: { name: this.authorName, picture: this.avatarUrl }, size: \"sm\" }))), h(\"div\", { key: 'f88598f9114ef02ce5f8daa62a09220f0752ba79', class: \"message\", part: \"message\" }, !this.hideAuthorName && h(\"div\", { key: 'aaa59e19099a9c7d239e3f53b9017f257fe23165', class: \"header\" }, this.authorName), h(\"div\", { key: '4fe21121b123a49f30500ff488f12caa8a376c17', class: { body: true, bubble: this.variant === 'bubble' } }, h(\"slot\", { key: '4e8c4c9fa533cd920890648535fdb4203d320027' }), !this.hideMetadata && !!this.time && (h(\"div\", { key: '2612946059903647ac4172157cef2626e45c5dc7', class: \"metadata\", title: formatDateTime(this.time) }, elapsedDuration(this.time, new Date(Date.now())))), this.actions.length !== 0 && this.renderActions())))));\n    }\n};\n__decorate$h([\n    SyncWithStore()\n], DyteMessageView.prototype, \"iconPack\", void 0);\nDyteMessageView.style = DyteMessageViewStyle0;\n\nconst dyteMicrophoneSelectorCss = \".dyte-select{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.dyte-select:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.dyte-select{display:block;border-radius:var(--dyte-border-radius-sm, 4px);border-width:var(--dyte-border-width-none, 0);border-style:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:var(--dyte-space-3, 12px);font-size:16px;--icon-size:var(--dyte-select-chevron-size, var(--dyte-space-6, 24px));--icon-right-position:var(--dyte-select-chevron-right-position, var(--dyte-space-2, 8px));background-image:url(\\\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e\\\");background-position:right var(--icon-right-position) center;background-repeat:no-repeat;background-size:var(--icon-size) var(--icon-size);padding-right:calc(var(--icon-right-position) * 5);width:100%;max-width:100%;text-overflow:ellipsis}.inline .dyte-select{margin-top:var(--dyte-space-1, 4px);width:100%;padding-top:var(--dyte-space-1, 4px);padding-bottom:var(--dyte-space-1, 4px);padding-left:var(--dyte-space-1\\\\.5, 6px);padding-right:var(--dyte-space-1\\\\.5, 6px);padding-right:var(--dyte-space-8, 32px);font-size:14px}.row{margin-bottom:var(--dyte-space-2, 8px);display:flex;width:100%;align-items:center;justify-content:space-between;gap:var(--dyte-space-3, 12px)}.group{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px)}.group>*{margin-bottom:var(--dyte-space-2, 8px)}.group>*:last-child{margin-bottom:var(--dyte-space-0, 0px)}.group select{flex:1 1 0%}.inline.group{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-0\\\\.5, 2px)}.inline.group>*{margin-bottom:var(--dyte-space-0, 0px)}label{display:flex;-webkit-user-select:none;-moz-user-select:none;user-select:none;align-items:center;gap:var(--dyte-space-1, 4px);font-size:14px}.inline.container{display:flex;align-items:center;justify-content:flex-start;gap:var(--dyte-space-2, 8px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px)}\";\nconst DyteMicrophoneSelectorStyle0 = dyteMicrophoneSelectorCss;\n\nvar __decorate$g = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteMicrophoneSelector = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** variant */\n        this.variant = 'full';\n        /** Language */\n        this.t = useLanguage();\n        this.audioinputDevices = [];\n        this.canProduceAudio = true;\n        this.currentDevices = { audio: undefined };\n        this.stageStateListener = () => {\n            this.canProduceAudio = this.meeting.self.permissions.canProduceAudio === 'ALLOWED';\n        };\n        this.deviceListUpdateListener = async () => {\n            const devices = await this.meeting.self.getAudioDevices();\n            this.audioinputDevices = devices;\n        };\n        this.deviceUpdateListener = ({ device }) => {\n            if (device.kind === 'audioinput') {\n                this.currentDevices = {\n                    audio: device,\n                };\n            }\n        };\n        this.mediaPermissionUpdateListener = async ({ kind, message }) => {\n            if (!this.meeting)\n                return;\n            if (kind === 'audio' && message === 'ACCEPTED') {\n                this.audioinputDevices = await this.meeting.self.getAudioDevices();\n            }\n        };\n    }\n    connectedCallback() {\n        this.meetingChanged(this.meeting);\n    }\n    disconnectedCallback() {\n        var _a, _b, _c, _d, _e;\n        (_b = (_a = this.meeting) === null || _a === void 0 ? void 0 : _a.stage) === null || _b === void 0 ? void 0 : _b.removeListener('stageStatusUpdate', this.stageStateListener);\n        (_c = this.meeting) === null || _c === void 0 ? void 0 : _c.self.removeListener('deviceListUpdate', this.deviceListUpdateListener);\n        (_d = this.meeting) === null || _d === void 0 ? void 0 : _d.self.removeListener('deviceUpdate', this.deviceUpdateListener);\n        (_e = this.meeting) === null || _e === void 0 ? void 0 : _e.self.removeListener('mediaPermissionUpdate', this.mediaPermissionUpdateListener);\n    }\n    meetingChanged(meeting) {\n        if (meeting == null)\n            return;\n        writeTask(async () => {\n            var _a, _b;\n            const { self, stage } = meeting;\n            const audioDevices = await meeting.self.getAudioDevices();\n            const currentAudioDevice = (_a = meeting.self.getCurrentDevices()) === null || _a === void 0 ? void 0 : _a.audio;\n            this.currentDevices = {\n                audio: currentAudioDevice,\n            };\n            this.canProduceAudio = this.meeting.self.permissions.canProduceAudio === 'ALLOWED';\n            stage === null || stage === void 0 ? void 0 : stage.addListener('stageStatusUpdate', this.stageStateListener);\n            self.addListener('deviceListUpdate', this.deviceListUpdateListener);\n            self.addListener('deviceUpdate', this.deviceUpdateListener);\n            self.addListener('mediaPermissionUpdate', this.mediaPermissionUpdateListener);\n            if (currentAudioDevice != undefined) {\n                this.audioinputDevices = [\n                    (_b = audioDevices.find((device) => device.deviceId === currentAudioDevice.deviceId)) !== null && _b !== void 0 ? _b : currentAudioDevice,\n                    ...audioDevices.filter((device) => device.deviceId !== currentAudioDevice.deviceId),\n                ];\n            }\n            else {\n                this.audioinputDevices = audioDevices;\n            }\n        });\n    }\n    setDevice(deviceId) {\n        var _a;\n        if (disableSettingSinkId(this.meeting))\n            return;\n        const device = this.audioinputDevices.find((d) => d.deviceId === deviceId);\n        if (device != null) {\n            this.currentDevices = {\n                audio: device,\n            };\n            (_a = this.meeting) === null || _a === void 0 ? void 0 : _a.self.setDevice(device);\n        }\n    }\n    render() {\n        if (this.meeting == null)\n            return null;\n        let unnamedMicCount = 0;\n        return (h(Host, null, this.canProduceAudio && (h(\"div\", { part: \"microphone-selection\", class: 'group container ' + this.variant }, h(\"label\", { slot: \"label\" }, this.variant !== 'inline' && this.t('settings.microphone_input'), h(\"dyte-icon\", { icon: this.iconPack.mic_on, size: \"sm\" })), h(\"div\", { class: \"row\" }, h(\"select\", { class: \"dyte-select\", onChange: (e) => this.setDevice(e.target.value) }, this.audioinputDevices.map(({ deviceId, label }) => {\n            var _a;\n            return (h(\"option\", { value: deviceId, selected: ((_a = this.currentDevices.audio) === null || _a === void 0 ? void 0 : _a.deviceId) === deviceId }, label || `Microphone ${++unnamedMicCount}`));\n        })), h(\"slot\", { name: \"indicator\" }))))));\n    }\n    static get watchers() { return {\n        \"meeting\": [\"meetingChanged\"]\n    }; }\n};\n__decorate$g([\n    SyncWithStore()\n], DyteMicrophoneSelector.prototype, \"meeting\", void 0);\n__decorate$g([\n    SyncWithStore()\n], DyteMicrophoneSelector.prototype, \"size\", void 0);\n__decorate$g([\n    SyncWithStore()\n], DyteMicrophoneSelector.prototype, \"iconPack\", void 0);\n__decorate$g([\n    SyncWithStore()\n], DyteMicrophoneSelector.prototype, \"t\", void 0);\nDyteMicrophoneSelector.style = DyteMicrophoneSelectorStyle0;\n\nconst dyteMuteAllConfirmationCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block;-webkit-user-select:none;-moz-user-select:none;user-select:none}.leave-modal{position:relative;display:flex;flex-direction:column;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));padding:var(--dyte-space-4, 16px);color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.leave-modal .header h2{margin:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-3, 12px)}.leave-modal .content{font-size:14px}.leave-message p{margin-top:var(--dyte-space-3, 12px);margin-bottom:var(--dyte-space-3, 12px)}.leave-meeting{display:flex;flex-direction:row;justify-content:space-between;gap:var(--dyte-space-2, 8px)}.leave-meeting dyte-button{flex:1 1 0%}.end-meeting{margin-top:var(--dyte-space-2, 8px)}.message{margin-bottom:var(--dyte-space-4, 16px)}label{display:flex;align-items:center}input[type='checkbox']{margin-right:var(--dyte-space-2, 8px);accent-color:rgb(var(--dyte-colors-brand-500, 33 96 253))}\";\nconst DyteMuteAllConfirmationStyle0 = dyteMuteAllConfirmationCss;\n\nvar __decorate$f = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteMuteAllConfirmation = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.stateUpdate = createEvent(this, \"dyteStateUpdate\", 7);\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        this.allowUnmute = true;\n        this.onClose = () => {\n            this.stateUpdate.emit({ activeMuteAllConfirmation: false });\n        };\n        this.onMuteAll = () => {\n            var _a;\n            (_a = this.meeting) === null || _a === void 0 ? void 0 : _a.participants.disableAllAudio(this.allowUnmute);\n            this.onClose();\n        };\n    }\n    render() {\n        return (h(Host, { key: '8d447912a33466ac84c7104e3731e67e5d574201' }, h(\"div\", { key: 'f36495740298c71957ecb4038ea11baa96150427', class: \"leave-modal\" }, h(\"div\", { key: '5c7d23277e2fb5300b4d34800eb62e7a93e431dc', class: \"header\" }, h(\"h2\", { key: 'bb08708a5d462763d51228e5368389c848f770b1', class: \"title\" }, this.t('mute_all.header'))), h(\"p\", { key: '34273d1a512336de748ce1de4b498baebd2c7cfb', class: \"message\" }, this.t('mute_all.description')), h(\"div\", { key: '2fae2f55acb20556e3478c5a57c9d3f5d0dae5ab', class: \"content\" }, h(\"div\", { key: '67308bf61bfa8891e0193033779ab4952a95a8e1', class: \"leave-meeting\" }, h(\"dyte-button\", { key: '03835bed6fe212b2d893ebd6c1d1061b6ef548e4', variant: \"secondary\", title: this.t('close'), onClick: this.onClose }, this.t('cancel')), h(\"dyte-button\", { key: 'e9f5a1ef27c92446d6955e4898757070d39629ce', variant: \"danger\", title: this.t('mute_all'), onClick: this.onMuteAll }, this.t('mute_all')))))));\n    }\n};\n__decorate$f([\n    SyncWithStore()\n], DyteMuteAllConfirmation.prototype, \"meeting\", void 0);\n__decorate$f([\n    SyncWithStore()\n], DyteMuteAllConfirmation.prototype, \"states\", void 0);\n__decorate$f([\n    SyncWithStore()\n], DyteMuteAllConfirmation.prototype, \"iconPack\", void 0);\n__decorate$f([\n    SyncWithStore()\n], DyteMuteAllConfirmation.prototype, \"t\", void 0);\nDyteMuteAllConfirmation.style = DyteMuteAllConfirmationStyle0;\n\nconst dyteNotificationCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{pointer-events:none;display:block;height:var(--dyte-space-10, 40px);color:rgb(var(--dyte-colors-text-1000, 255 255 255));animation:show 0.4s ease;transition:0.4s;z-index:100}.ctr{box-sizing:border-box;display:inline-flex;height:100%;min-width:var(--dyte-space-40, 160px);align-items:center;padding-left:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-3, 12px);-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);--tw-shadow-color:rgb(var(--dyte-colors-background-1000, 8 8 8));--tw-shadow:var(--tw-shadow-colored);pointer-events:auto}img{margin-right:var(--dyte-space-2, 8px);height:var(--dyte-space-0, 0px);width:var(--dyte-space-0, 0px);border-radius:9999px}img.loaded{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}.message{margin-right:var(--dyte-space-3, 12px);max-width:var(--dyte-space-72, 288px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.message p{margin:var(--dyte-space-0, 0px);margin-right:var(--dyte-space-1, 4px);display:inline-block}.message blockquote{display:none}dyte-icon.icon{margin-right:var(--dyte-space-2, 8px);height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px);color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}dyte-icon.dismiss{margin-left:auto;height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px);border-radius:var(--dyte-border-radius-md, 8px);color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}dyte-icon.dismiss:hover{cursor:pointer;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}dyte-icon.dismiss{transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}dyte-button{margin-left:var(--dyte-space-4, 16px);margin-right:var(--dyte-space-2, 8px);border-radius:var(--dyte-border-radius-sm, 4px)}.right{margin-left:auto;display:flex;align-items:center}.right>*{margin-left:var(--dyte-space-2, 8px)}.right>*:first-child{margin-left:var(--dyte-space-0, 0px)}:host(.exit){animation:exit 0.4s ease}@keyframes show{0%{opacity:0;transform:translateX(-120px)}100%{opacity:1;transform:translateX(0px)}}@keyframes exit{0%{opacity:1;transform:translateX(0)}100%{opacity:0;transform:translateX(-120px)}}:host([size='sm']){font-size:14px}\";\nconst DyteNotificationStyle0 = dyteNotificationCss;\n\nvar __decorate$e = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteNotification = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.dismiss = createEvent(this, \"dyteNotificationDismiss\", 7);\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        this.imageState = 'loading';\n    }\n    connectedCallback() {\n        this.notificationChanged(this.notification);\n    }\n    notificationChanged(notification) {\n        if (notification != null && typeof notification.duration === 'number') {\n            setTimeout(() => {\n                this.dismiss.emit(notification.id);\n            }, notification.duration);\n        }\n    }\n    render() {\n        var _a;\n        return (h(Host, { key: 'd1b50e98469e3a31478ffb37eaf0d16b06a97f11' }, h(\"div\", { key: 'ccbba0abd0b8b2126ed435aa22fad0ce4c09bbc3', class: \"ctr\" }, this.notification.icon != null && (h(\"dyte-icon\", { key: '2977f801f26dc7bab7484ca3344375b59e912789', class: \"icon\", icon: this.notification.icon, variant: (_a = this.notification.iconVariant) !== null && _a !== void 0 ? _a : 'primary' })), this.notification.image != null &&\n            this.notification.icon == null &&\n            this.imageState !== 'errored' && (h(\"img\", { key: 'bb74bf766c92d366ff57a64109e9321a755173d3', src: this.notification.image, class: { loaded: this.imageState === 'loaded' }, onLoad: () => (this.imageState = 'loaded'), onError: () => (this.imageState = 'errored') })), h(\"p\", { key: '9882e460b11e649d6ea72ac5d366f968092bfdce', class: \"message\" }, h(TextMessageView, { key: '913d03c9028353d8b2b3d4a097a6cf588ac3ae9b', message: this.notification.message })), h(\"div\", { key: '2c1458dc02e345bb3c1e3fc8285e6a561c4609eb', class: \"right\" }, this.notification.button != null && (h(\"dyte-button\", { key: '2b5b9774b6f289ca2f533e5473080007b1390ec1', size: \"sm\", variant: this.notification.button.variant, onClick: () => this.notification.button.onClick() }, this.notification.button.text)), h(\"dyte-icon\", { key: '51b648dbc0c1411633a6e1e741080b82a7e95c5b', \"aria-label\": this.t('dismiss'), class: \"dismiss\", icon: this.iconPack.dismiss, onClick: () => this.dismiss.emit(this.notification.id) })))));\n    }\n    static get watchers() { return {\n        \"notification\": [\"notificationChanged\"]\n    }; }\n};\n__decorate$e([\n    SyncWithStore()\n], DyteNotification.prototype, \"size\", void 0);\n__decorate$e([\n    SyncWithStore()\n], DyteNotification.prototype, \"iconPack\", void 0);\n__decorate$e([\n    SyncWithStore()\n], DyteNotification.prototype, \"t\", void 0);\nDyteNotification.style = DyteNotificationStyle0;\n\nconst DEFAULT_NOTIFICATION_DURATION = 2000;\nconst DEFAULT_NOTIFICATION_CONFIG = Object.freeze({\n    notifications: {\n        participant_joined: true,\n        participant_left: true,\n        participant_joined_waitlist: true,\n        chat: true,\n        polls: true,\n        webinar: true,\n        tab_sync: true,\n        recording_started: true,\n        recording_stopped: true,\n    },\n    notification_sounds: {\n        participant_joined: true,\n        participant_left: true,\n        chat: true,\n        polls: true,\n        webinar: true,\n        participant_joined_waitlist: true,\n    },\n    notification_duration: {\n        participant_joined: 2100,\n        participant_left: 2100,\n        participant_joined_waitlist: 4000,\n        chat: DEFAULT_NOTIFICATION_DURATION,\n        polls: DEFAULT_NOTIFICATION_DURATION,\n        webinar: DEFAULT_NOTIFICATION_DURATION,\n        tab_sync: DEFAULT_NOTIFICATION_DURATION,\n        recording_started: DEFAULT_NOTIFICATION_DURATION,\n        recording_stopped: DEFAULT_NOTIFICATION_DURATION,\n    },\n    participant_joined_sound_notification_limit: 10,\n    participant_chat_message_sound_notification_limit: 10,\n});\n\nconst dyteNotificationsCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:absolute;top:var(--dyte-space-4, 16px);right:var(--dyte-space-4, 16px);bottom:var(--dyte-space-4, 16px);left:var(--dyte-space-4, 16px);top:auto;display:flex;flex-direction:column;pointer-events:none;z-index:100}dyte-notification{margin-top:var(--dyte-space-2, 8px)}\";\nconst DyteNotificationsStyle0 = dyteNotificationsCss;\n\nvar __decorate$d = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nfunction parseConfig(config) {\n    const permissions = Object.assign({}, DEFAULT_NOTIFICATION_CONFIG);\n    if (config == null)\n        return permissions;\n    Object.assign(permissions.notification_sounds, config.notification_sounds);\n    Object.assign(permissions.notifications, config.notifications);\n    Object.assign(permissions.notification_duration, config.notification_duration);\n    permissions.participant_chat_message_sound_notification_limit =\n        config.participant_chat_message_sound_notification_limit;\n    permissions.participant_joined_sound_notification_limit =\n        config.participant_joined_sound_notification_limit;\n    return permissions;\n}\nfunction getEnabledSounds(sounds) {\n    return Object.keys(sounds).filter((key) => sounds[key]);\n}\nconst DyteNotifications = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.permissions = DEFAULT_NOTIFICATION_CONFIG;\n        this.enabledSounds = getEnabledSounds(DEFAULT_NOTIFICATION_CONFIG.notification_sounds);\n        /** Config object */\n        this.config = defaultConfig;\n        /** Language */\n        this.t = useLanguage();\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        this.notifications = [];\n        this.addStagePeersListeners = (meeting) => {\n            meeting.participants.joined.addListener('participantJoined', this.participantJoinedListener);\n            meeting.participants.joined.addListener('participantLeft', this.participantLeftListener);\n        };\n        this.removeStagePeersListeners = (meeting) => {\n            meeting.participants.joined.removeListener('participantJoined', this.participantJoinedListener);\n            meeting.participants.joined.removeListener('participantLeft', this.participantLeftListener);\n        };\n        this.onDyteNotification = (e) => {\n            this.add(e.detail);\n            const playSound = e.detail.playSound;\n            if (playSound != undefined)\n                this.audio.play(playSound);\n        };\n        this.onRecordingUpdate = (recordingState) => {\n            var _a, _b;\n            if (recordingState === 'RECORDING' &&\n                this.permissions.notifications.recording_started !== false) {\n                this.add({\n                    id: 'recording-started',\n                    icon: this.iconPack.recording,\n                    message: this.t('recording.started'),\n                    duration: (_a = this.permissions.notification_duration.recording_started) !== null && _a !== void 0 ? _a : DEFAULT_NOTIFICATION_DURATION,\n                });\n            }\n            else if (recordingState === 'STOPPING' &&\n                this.permissions.notifications.recording_stopped !== false) {\n                this.add({\n                    id: 'recording-stopped',\n                    icon: this.iconPack.stop_recording,\n                    message: this.t('recording.stopped'),\n                    duration: (_b = this.permissions.notification_duration.recording_stopped) !== null && _b !== void 0 ? _b : DEFAULT_NOTIFICATION_DURATION,\n                });\n            }\n        };\n    }\n    connectedCallback() {\n        if (typeof document !== 'undefined') {\n            document === null || document === void 0 ? void 0 : document.addEventListener('dyteNotification', this.onDyteNotification);\n        }\n        this.meetingChanged(this.meeting);\n        this.configChanged(this.config);\n        this.statesChanged(this.states);\n    }\n    clearListeners(meeting) {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        const isLivestream = meeting.meta.viewType === 'LIVESTREAM';\n        if ((isLivestream && ((_a = meeting.stage) === null || _a === void 0 ? void 0 : _a.status) === 'ON_STAGE') || !isLivestream) {\n            this.removeStagePeersListeners(meeting);\n        }\n        this.chatUpdateListener && ((_b = meeting.chat) === null || _b === void 0 ? void 0 : _b.removeListener('chatUpdate', this.chatUpdateListener));\n        this.pollUpdateListener &&\n            ((_c = meeting.polls) === null || _c === void 0 ? void 0 : _c.removeListener('pollsUpdate', this.pollUpdateListener));\n        meeting.meta.removeListener('socketConnectionUpdate', this.socketConnectionUpdateListener);\n        this.stageRequestAccepted &&\n            ((_d = meeting.stage) === null || _d === void 0 ? void 0 : _d.removeListener('stageRequestApproved', this.stageRequestAccepted));\n        this.stageRequestRejected &&\n            ((_e = meeting.stage) === null || _e === void 0 ? void 0 : _e.removeListener('stageRequestRejected', this.stageRequestRejected));\n        this.newStageRequests &&\n            ((_f = meeting.stage) === null || _f === void 0 ? void 0 : _f.removeListener('newStageRequest', this.newStageRequests));\n        this.stageStatusUpdateListener &&\n            ((_g = meeting.stage) === null || _g === void 0 ? void 0 : _g.removeListener('stageStatusUpdate', this.stageStatusUpdateListener));\n        (_h = meeting.recording) === null || _h === void 0 ? void 0 : _h.removeListener('recordingUpdate', this.onRecordingUpdate);\n        clearTimeout(this.disconnectTimeout);\n        meeting.self.removeListener('deviceUpdate', this.deviceUpdateListener);\n    }\n    disconnectedCallback() {\n        var _a;\n        if (typeof document !== 'undefined') {\n            document === null || document === void 0 ? void 0 : document.removeEventListener('dyteNotification', this.onDyteNotification);\n        }\n        if (this.meeting == null)\n            return;\n        this.clearListeners(this.meeting);\n        this.waitlistedParticipantJoinedListener &&\n            this.meeting.participants.waitlisted.removeListener('participantJoined', this.waitlistedParticipantJoinedListener);\n        this.waitlistedParticipantLeftListener &&\n            this.meeting.participants.waitlisted.removeListener('participantLeft', this.waitlistedParticipantLeftListener);\n        this.activeTabUpdateListener &&\n            ((_a = this.meeting.meta) === null || _a === void 0 ? void 0 : _a.removeListener('activeTabUpdate', this.activeTabUpdateListener));\n        this.peerStageStatusListener &&\n            this.meeting.participants.joined.removeListener('stageStatusUpdate', this.peerStageStatusListener);\n    }\n    meetingChanged(meeting, oldMeeting) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n        clearTimeout(this.disconnectTimeout);\n        if (oldMeeting !== undefined)\n            this.clearListeners(oldMeeting);\n        if (meeting == null)\n            return;\n        const isLivestream = meeting.meta.viewType === 'LIVESTREAM';\n        this.audio = new DyteNotificationsAudio(meeting);\n        const { notifications, notification_duration, notification_sounds } = this.permissions;\n        this.participantJoinedListener = (participant) => {\n            if (notifications.participant_joined) {\n                this.add({\n                    id: `${participant.id}-joined`,\n                    message: `${formatName(participant.name)} ${this.t('notifications.joined')}`,\n                    image: participant.picture,\n                    duration: notification_duration.participant_joined,\n                });\n            }\n            if (notification_sounds.participant_joined && this.canPlayParticipantJoinedSound()) {\n                this.audio.play('joined');\n            }\n        };\n        this.participantLeftListener = (participant) => {\n            const { socketState: { state }, } = this.meeting.meta;\n            if (notifications.participant_left && state !== 'connected') {\n                this.add({\n                    id: `${participant.id}-left`,\n                    message: `${formatName(participant.name)} ${this.t('notifications.left')}`,\n                    image: participant.picture,\n                    duration: notification_duration.participant_left,\n                });\n            }\n            if (notification_sounds.participant_left && this.canPlayParticipantJoinedSound()) {\n                this.audio.play('left');\n            }\n        };\n        this.waitlistedParticipantJoinedListener = (participant) => {\n            if (!this.canAcceptWaitingRequests())\n                return;\n            const id = `${participant.id}-joined-waitlist`;\n            this.add({\n                id,\n                message: `${formatName(participant.name)} ${this.t('notifications.requesting_to_join_meeting')}`,\n                image: participant.picture,\n                duration: notification_duration.participant_joined_waitlist,\n                button: {\n                    text: this.t('notifications.accept'),\n                    variant: 'primary',\n                    onClick: async () => {\n                        await this.meeting.participants.acceptWaitingRoomRequest(participant.id);\n                        this.remove(id);\n                    },\n                },\n            });\n            if (notification_sounds.participant_joined_waitlist && this.canPlayParticipantJoinedSound()) {\n                this.audio.play('message');\n            }\n        };\n        this.waitlistedParticipantLeftListener = (participant) => {\n            this.remove(`${participant.id}-joined-waitlist`);\n        };\n        this.chatUpdateListener = ({ message }) => {\n            const parsedMessage = parseMessageForTarget(message);\n            if (parsedMessage != null) {\n                if (parsedMessage.userId === meeting.self.userId) {\n                    return;\n                }\n                if (parsedMessage.type === 'text') {\n                    if (notifications.chat) {\n                        this.add({\n                            id: `message-${Math.random().toString(36)}`,\n                            icon: this.iconPack.chat,\n                            message: `${parsedMessage.displayName}: ${parsedMessage.message}`,\n                            duration: notification_duration.chat,\n                        });\n                    }\n                    if (notification_sounds.chat && this.canPlayChatSound()) {\n                        this.audio.play('message');\n                    }\n                }\n            }\n        };\n        this.pollUpdateListener = ({ polls, newPoll }) => {\n            if (newPoll === false)\n                return;\n            if (notifications.polls &&\n                this.meeting.self.userId !== polls[polls.length - 1].createdByUserId) {\n                this.add({\n                    id: `poll-${Math.random().toString(36)}`,\n                    icon: this.iconPack.poll,\n                    message: `${this.t('notifications.new_poll_created_by')} ${polls[polls.length - 1].createdBy}`,\n                    duration: notification_duration.polls,\n                });\n            }\n            if (notification_sounds.polls &&\n                this.meeting.self.userId !== polls[polls.length - 1].createdByUserId &&\n                this.canPlayChatSound()) {\n                this.audio.play('message');\n            }\n        };\n        this.deviceUpdateListener = ({ device, preview }) => {\n            if (preview)\n                return;\n            if (device.kind === 'audiooutput') {\n                this.audio.setDevice(device.deviceId);\n                this.remove(`speaker-switched`);\n                this.add({\n                    id: `speaker-switched`,\n                    message: `${this.t('notifications.connected_to')} ${device.label}`,\n                    icon: this.iconPack.speaker,\n                    duration: 5000,\n                });\n            }\n            if (device.kind === 'videoinput') {\n                this.remove(`camera-switched`);\n                this.add({\n                    id: `camera-switched`,\n                    message: `${this.t('notifications.connected_to')} ${device.label}`,\n                    icon: this.meeting.self.videoEnabled ? this.iconPack.video_on : this.iconPack.video_off,\n                    iconVariant: this.meeting.self.videoEnabled ? 'primary' : 'danger',\n                    duration: 5000,\n                });\n            }\n            if (device.kind === 'audioinput') {\n                this.remove(`mic-switched`);\n                this.add({\n                    id: `mic-switched`,\n                    message: `${this.t('notifications.connected_to')} ${device.label}`,\n                    icon: this.meeting.self.audioEnabled ? this.iconPack.mic_on : this.iconPack.mic_off,\n                    iconVariant: this.meeting.self.audioEnabled ? 'primary' : 'danger',\n                    duration: 5000,\n                });\n            }\n        };\n        this.socketConnectionUpdateListener = ({ state, reconnectionAttempt, reconnected }) => {\n            switch (state) {\n                case 'connected':\n                    this.remove('socket');\n                    if (reconnected)\n                        this.add({\n                            id: `socket`,\n                            icon: this.iconPack.wifi,\n                            message: this.t('network.restored'),\n                            duration: 3000,\n                        });\n                    break;\n                case 'disconnected':\n                    this.remove('socket');\n                    this.add({\n                        id: 'socket',\n                        icon: this.iconPack.disconnected,\n                        message: this.t('network.reconnecting'),\n                    });\n                    break;\n                case 'reconnecting':\n                    if (reconnectionAttempt >= 6) {\n                        this.remove('socket');\n                        this.add({\n                            id: 'socket',\n                            icon: this.iconPack.disconnected,\n                            message: this.t('network.disconnected'),\n                            button: {\n                                text: this.t('end'),\n                                variant: 'danger',\n                                onClick: () => { var _a; return (_a = this.meeting) === null || _a === void 0 ? void 0 : _a.leaveRoom(); },\n                            },\n                        });\n                    }\n                    else if (reconnectionAttempt >= 4) {\n                        this.remove('socket');\n                        this.add({\n                            id: 'socket',\n                            icon: this.iconPack.disconnected,\n                            message: this.t('network.delay_extended'),\n                        });\n                    }\n                    break;\n                case 'failed':\n                    this.remove('socket');\n                    this.add({\n                        id: 'socket',\n                        icon: this.iconPack.disconnected,\n                        message: this.t('network.leaving'),\n                        button: {\n                            text: this.t('end'),\n                            variant: 'danger',\n                            onClick: () => { var _a; return (_a = this.meeting) === null || _a === void 0 ? void 0 : _a.leaveRoom(); },\n                        },\n                    });\n                    break;\n            }\n        };\n        this.activeTabUpdateListener = (activeTab) => {\n            if (!notifications.tab_sync)\n                return;\n            switch (activeTab.type) {\n                case 'plugin':\n                    const activePlugin = meeting.plugins.active\n                        .toArray()\n                        .find((plugin) => plugin.id == activeTab.id);\n                    if (activePlugin != undefined) {\n                        this.add({\n                            id: 'activeTab',\n                            message: `${this.t('notifications.plugin_switched_to')} ${activePlugin.name}`,\n                            duration: notification_duration.participant_joined,\n                        });\n                    }\n                    break;\n                case 'screenshare':\n                    const screenShareParticipant = meeting.participants.joined\n                        .toArray()\n                        .filter((participant) => participant.screenShareEnabled)\n                        .find((participant) => participant.id == activeTab.id);\n                    if (screenShareParticipant != undefined) {\n                        this.add({\n                            id: 'spotlight',\n                            message: `Now watching ${screenShareParticipant.name}'s screen`,\n                            duration: notification_duration.webinar,\n                        });\n                    }\n                    break;\n            }\n        };\n        this.peerStageStatusListener = (participant) => {\n            if (participant.stageStatus === 'REQUESTED_TO_JOIN_STAGE') {\n                this.add({\n                    id: `stage-request-${participant.id}`,\n                    message: `${participant.name} ${this.t('notifications.requested_to_join_stage')}`,\n                    duration: notification_duration.webinar,\n                    button: {\n                        text: this.t('notifications.accept'),\n                        variant: 'primary',\n                        onClick: async () => {\n                            await this.meeting.stage.grantAccess([participant.userId]);\n                            this.remove(`stage-request-${participant.id}`);\n                        },\n                    },\n                });\n                if (notification_sounds.webinar) {\n                    this.audio.play('joined');\n                }\n            }\n            if (participant.stageStatus === 'ON_STAGE') {\n                this.add({\n                    id: `stage-joined-${participant.id}`,\n                    message: `${participant.name} ${this.t('notifications.joined_stage')}`,\n                    duration: notification_duration.webinar,\n                });\n                if (notification_sounds.webinar) {\n                    this.audio.play('joined');\n                }\n            }\n        };\n        this.stageRequestAccepted = () => {\n            this.add({\n                id: 'stage-request-accepted',\n                message: this.t('notifications.request_to_join_accepted'),\n                duration: 3000,\n            });\n        };\n        this.stageRequestRejected = () => {\n            this.add({\n                id: 'stage-request-rejected',\n                message: this.t('notifications.request_to_join_rejected'),\n                duration: 3000,\n            });\n        };\n        this.newStageRequests = ({ count }) => {\n            this.add({\n                id: 'new-stage-request',\n                message: `You have ${count < 0 ? 'new stage' : `${count} pending`} request${count === 1 ? '' : 's'}`,\n                duration: 3000,\n            });\n        };\n        this.stageStatusUpdateListener = (status) => {\n            if (status === 'ON_STAGE')\n                this.addStagePeersListeners(meeting);\n            else\n                this.removeStagePeersListeners(meeting);\n        };\n        !showLivestream(meeting) && ((_a = meeting.chat) === null || _a === void 0 ? void 0 : _a.addListener('chatUpdate', this.chatUpdateListener));\n        // temp fix for viewType mismatch with CHAT\n        if (((_b = meeting.self.config.viewType) === null || _b === void 0 ? void 0 : _b.toString()) === 'CHAT') {\n            return;\n        }\n        // all non Chat viewtype code from here\n        const currentDevices = meeting.self.getCurrentDevices();\n        if (currentDevices.speaker != null) {\n            this.audio.setDevice(currentDevices.speaker.deviceId);\n        }\n        if (isLivestream)\n            (_c = meeting.stage) === null || _c === void 0 ? void 0 : _c.on('stageStatusUpdate', this.stageStatusUpdateListener);\n        else\n            this.addStagePeersListeners(meeting);\n        if (this.canAcceptWaitingRequests()) {\n            meeting.participants.waitlisted.addListener('participantJoined', this.waitlistedParticipantJoinedListener);\n            meeting.participants.waitlisted.addListener('participantLeft', this.waitlistedParticipantLeftListener);\n        }\n        (_d = meeting.polls) === null || _d === void 0 ? void 0 : _d.addListener('pollsUpdate', this.pollUpdateListener);\n        meeting.self.addListener('deviceUpdate', this.deviceUpdateListener);\n        meeting.meta.addListener('socketConnectionUpdate', this.socketConnectionUpdateListener);\n        (_e = meeting.meta) === null || _e === void 0 ? void 0 : _e.addListener('activeTabUpdate', this.activeTabUpdateListener);\n        (_f = meeting.recording) === null || _f === void 0 ? void 0 : _f.addListener('recordingUpdate', this.onRecordingUpdate);\n        (_g = meeting.stage) === null || _g === void 0 ? void 0 : _g.addListener('stageRequestApproved', this.stageRequestAccepted);\n        (_h = meeting.stage) === null || _h === void 0 ? void 0 : _h.addListener('stageRequestRejected', this.stageRequestRejected);\n        if (meeting.self.permissions.stageEnabled && meeting.self.permissions.acceptStageRequests) {\n            (_j = meeting.stage) === null || _j === void 0 ? void 0 : _j.addListener('newStageRequest', this.newStageRequests);\n        }\n    }\n    configChanged(config) {\n        if (config != null) {\n            if ((config === null || config === void 0 ? void 0 : config.config) != null) {\n                this.permissions = parseConfig(config.config);\n                this.enabledSounds = getEnabledSounds(this.permissions.notification_sounds);\n            }\n        }\n    }\n    statesChanged(states) {\n        var _a;\n        if (states != null) {\n            const notificationSoundsEnabled = !((_a = states === null || states === void 0 ? void 0 : states.prefs) === null || _a === void 0 ? void 0 : _a.muteNotificationSounds);\n            // toggle only the notification sounds values which were enabled in the first place\n            for (const permission of this.enabledSounds) {\n                if (permission in this.permissions.notification_sounds) {\n                    this.permissions.notification_sounds[permission] = notificationSoundsEnabled;\n                }\n            }\n        }\n    }\n    apiErrorListener({ detail }) {\n        const { trace, message } = detail;\n        this.add({\n            id: trace,\n            message,\n            duration: DEFAULT_NOTIFICATION_DURATION,\n            icon: this.iconPack.warning,\n        });\n    }\n    sendNotificationListener({ detail }) {\n        const { trace, message } = detail;\n        this.add({\n            id: trace,\n            message,\n            duration: DEFAULT_NOTIFICATION_DURATION,\n        });\n    }\n    add(notification) {\n        // show notifications only if tab is in focus and a maximum of 5 at a time\n        if (document.visibilityState === 'visible' && this.notifications.length < 5) {\n            // adds new notification to start of array so they appear at the bottom\n            this.notifications = [...this.notifications, notification];\n        }\n    }\n    remove(id) {\n        this.notifications = this.notifications.filter((notification) => notification.id !== id);\n    }\n    handleDismiss(e) {\n        e.stopPropagation();\n        const id = e.detail;\n        const el = this.host.shadowRoot.querySelector(`[data-id=\"${id}\"]`);\n        // exit animation\n        el === null || el === void 0 ? void 0 : el.classList.add('exit');\n        setTimeout(() => {\n            writeTask(() => {\n                this.remove(id);\n            });\n        }, 400);\n    }\n    canPlayParticipantJoinedSound() {\n        return (this.permissions.participant_joined_sound_notification_limit == undefined ||\n            this.permissions.participant_joined_sound_notification_limit <= 0 ||\n            this.meeting.participants.count <=\n                this.permissions.participant_joined_sound_notification_limit);\n    }\n    canPlayChatSound() {\n        return (this.permissions.participant_chat_message_sound_notification_limit == undefined ||\n            this.permissions.participant_chat_message_sound_notification_limit <= 0 ||\n            this.meeting.participants.count <=\n                this.permissions.participant_chat_message_sound_notification_limit);\n    }\n    canAcceptWaitingRequests() {\n        return (this.permissions.notifications.participant_joined_waitlist &&\n            this.meeting.self.permissions.acceptWaitingRequests);\n    }\n    render() {\n        return (h(Host, { key: '1e122b16897a90f7c7900057849e89d5152f477f' }, this.notifications.map((notification) => (h(\"dyte-notification\", { size: this.size, key: notification.id, \"data-id\": notification.id, notification: notification, onDyteNotificationDismiss: (e) => this.handleDismiss(e), iconPack: this.iconPack, t: this.t })))));\n    }\n    get host() { return getElement(this); }\n    static get watchers() { return {\n        \"meeting\": [\"meetingChanged\"],\n        \"config\": [\"configChanged\"],\n        \"states\": [\"statesChanged\"]\n    }; }\n};\n__decorate$d([\n    SyncWithStore()\n], DyteNotifications.prototype, \"meeting\", void 0);\n__decorate$d([\n    SyncWithStore()\n], DyteNotifications.prototype, \"states\", void 0);\n__decorate$d([\n    SyncWithStore()\n], DyteNotifications.prototype, \"t\", void 0);\n__decorate$d([\n    SyncWithStore()\n], DyteNotifications.prototype, \"size\", void 0);\n__decorate$d([\n    SyncWithStore()\n], DyteNotifications.prototype, \"iconPack\", void 0);\nDyteNotifications.style = DyteNotificationsStyle0;\n\nconst dyteOverlayModalCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / 0.6);position:fixed;top:var(--dyte-space-0, 0px);right:var(--dyte-space-0, 0px);z-index:50}dyte-icon{height:var(--dyte-space-20, 80px)}h2{margin:var(--dyte-space-2, 8px);font-weight:500}p{margin:var(--dyte-space-0, 0px);font-size:16px}\";\nconst DyteOverlayModalStyle0 = dyteOverlayModalCss;\n\nvar __decorate$c = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteOverlayModal = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.stateUpdate = createEvent(this, \"dyteStateUpdate\", 7);\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n    }\n    connectedCallback() {\n        if (this.states.activeOverlayModal.timeout) {\n            setTimeout(() => {\n                this.stateUpdate.emit({ activeOverlayModal: { active: false } });\n            }, this.states.activeOverlayModal.timeout);\n        }\n    }\n    render() {\n        return (h(Host, { key: 'b4fa570e714d3297c1f7f5b25038d877f6001319' }, h(\"dyte-icon\", { key: 'df183bada8963c6fbb22f27768e96922232201b7', icon: this.states.activeOverlayModal.icon }), h(\"h2\", { key: 'c028667f07d9db82e27e9e25f6e1d8712edccf20' }, this.states.activeOverlayModal.title), h(\"p\", { key: '74e847ad00e26147494acfb74481025e5c62f27c' }, this.states.activeOverlayModal.description)));\n    }\n};\n__decorate$c([\n    SyncWithStore()\n], DyteOverlayModal.prototype, \"meeting\", void 0);\n__decorate$c([\n    SyncWithStore()\n], DyteOverlayModal.prototype, \"states\", void 0);\n__decorate$c([\n    SyncWithStore()\n], DyteOverlayModal.prototype, \"iconPack\", void 0);\n__decorate$c([\n    SyncWithStore()\n], DyteOverlayModal.prototype, \"t\", void 0);\nDyteOverlayModal.style = DyteOverlayModalStyle0;\n\nconst dytePaginatedListCss = \".scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\\\.5, 6px);width:var(--dyte-space-1\\\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;flex:1}.container{box-sizing:border-box;display:flex;flex-direction:column-reverse;padding-top:var(--dyte-space-4, 16px);padding-bottom:var(--dyte-space-4, 16px);flex:1 0 0px;overflow-y:scroll;}.file-picker{display:none}.chat *:first-child{margin-top:var(--dyte-space-0, 0px)}.chat .head{display:flex;align-items:center}.chat .head .name{margin-right:var(--dyte-space-4, 16px);font-size:12px;font-weight:700}.chat .head .time{font-size:12px;color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}.chat .body{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px);overflow-wrap:break-word;font-size:14px;line-height:1.375}.chat .body .emoji{font-size:24px}p{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-3, 12px)}dyte-text-message,dyte-image-message,dyte-file-message{margin-top:var(--dyte-space-4, 16px);display:block;padding-left:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-3, 12px);font-family:var(--dyte-font-family, sans-serif);color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));box-sizing:border-box}*[is-continued]{margin-top:var(--dyte-space-3, 12px)}dyte-text-message[is-continued]{margin-top:var(--dyte-space-2, 8px)}.chat .image{position:relative;height:var(--dyte-space-40, 160px);max-width:var(--dyte-space-64, 256px);cursor:pointer}.chat .image img{display:none;height:100%;width:100%;border-radius:var(--dyte-border-radius-sm, 4px);-o-object-fit:cover;object-fit:cover}.chat .image .image-spinner{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.chat .image .image-spinner dyte-spinner{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity))}.chat .image .image-errored{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;border-radius:var(--dyte-border-radius-sm, 4px);background-color:rgba(var(--dyte-colors-danger, 255 45 45) / 0.1);--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}.chat .image .actions{display:none;height:var(--dyte-space-8, 32px);align-items:center;position:absolute;top:var(--dyte-space-2, 8px);right:var(--dyte-space-2, 8px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));overflow:hidden;--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.chat .image .actions .action{height:var(--dyte-space-8, 32px);width:var(--dyte-space-8, 32px);border-radius:var(--dyte-border-radius-none, 0);border-width:var(--dyte-border-width-none, 0);border-style:none;background-color:transparent;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.chat .image .actions .action:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.image.loaded img{display:block}.image.loaded .image-spinner{display:none}.image:hover .actions,.image:focus .actions{display:flex}.chat .file{display:flex;align-items:center;gap:var(--dyte-space-1, 4px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);padding-top:var(--dyte-space-1\\\\.5, 6px);padding-bottom:var(--dyte-space-1\\\\.5, 6px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.chat .file .file-data{flex:1 1 0%}.chat .file .file-data .name{word-break:break-all;color:rgb(var(--dyte-colors-text-1000, 255 255 255));overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.chat .file .file-data .file-data-split{margin-top:var(--dyte-space-0\\\\.5, 2px);display:flex;align-items:center;font-size:12px}.chat .file .file-data .file-data-split .ext{margin-right:var(--dyte-space-2, 8px);text-transform:uppercase;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.chat .file .file-data .file-data-split .divider{height:var(--dyte-space-4, 16px);width:var(--dyte-space-0\\\\.5, 2px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.chat .file .file-data .file-data-split .size{margin-left:var(--dyte-space-2, 8px)}.smallest-dom-element{width:1px}#top-scroll{transform:translateY(20vh)}#bottom-scroll{transform:translateY(-20vh)}a{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity));text-decoration-line:none}a:hover{text-decoration-line:underline}.show-new-messages-ctr{pointer-events:none;position:absolute;bottom:var(--dyte-space-2, 8px);right:var(--dyte-space-4, 16px);z-index:10;margin-top:calc(var(--dyte-space-14, 56px) * -1);--tw-translate-y:var(--dyte-space-28, 112px);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:0;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.show-new-messages-ctr.active{--tw-translate-y:var(--dyte-space-0, 0px);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:1}.show-new-messages{pointer-events:auto;border-radius:9999px}.show-new-messages:hover{border-radius:9999px;--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);--tw-ring-opacity:1;--tw-ring-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-ring-opacity));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}dyte-spinner,.empty-list{margin:auto}.page-wrapper{margin-left:var(--dyte-space-1, 4px);margin-right:var(--dyte-space-1, 4px)}.message-wrapper{margin-bottom:var(--dyte-space-2, 8px)}.pinned .message-wrapper{position:relative}.pinned .pin-icon{position:absolute;right:calc(var(--dyte-space-1, 4px) * -1);top:calc(var(--dyte-space-1, 4px) * -1);display:flex;border-radius:var(--dyte-border-radius-sm, 4px)}.pinned dyte-message-view{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));padding-top:var(--dyte-space-1, 4px);padding-bottom:var(--dyte-space-1, 4px)}\";\nconst DytePaginatedListStyle0 = dytePaginatedListCss;\n\nvar __decorate$b = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DytePaginatedList = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /** auto scroll list to bottom */\n        this.autoScroll = true;\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        /** label to show when empty */\n        this.emptyListLabel = null;\n        this.isLoading = false;\n        this.rerenderBoolean = false;\n        /**\n         * This gets disabled when the user scrolls up and the bottom node\n         * is not visible anymore.\n         */\n        this.shouldRenderNewNodes = true;\n        /**\n         * This gets disabled when the user scrolls up and the bottom node\n         * is not visible anymore.\n         */\n        this.hasNewNodesToRender = false;\n        this.showEmptyListLabel = false;\n        /**\n         * This is a private variable not a state\n         * since we want to debounce rerenders\n         *\n         * A list of pages where each page contains a number of Nodes\n         * [\n         *  [Node 1, Node 2, Node 3.... Node N],\n         *  [Node 1, Node 2, Node 3.... Node N],\n         * ]\n         */\n        this.pagesToRender = [[]];\n        this.currentTime = () => {\n            return new Date().getTime();\n        };\n        this.observe = (el) => {\n            if (!el)\n                return;\n            this.intersectionObserver.observe(el);\n        };\n    }\n    /**\n     * On a new node created\n     */\n    async onNewNode(node) {\n        if (!this.shouldRenderNewNodes) {\n            this.hasNewNodesToRender = true;\n            return;\n        }\n        this.addNodeToRender(node, false);\n        this.rerender();\n    }\n    /**\n     * On node deleted\n     */\n    async onNodeDelete(key) {\n        const oldLength = this.pagesToRender.flat().length;\n        this.pagesToRender = this.pagesToRender.map((page) => page.filter((item) => item.id !== key));\n        if (oldLength !== this.pagesToRender.flat().length) {\n            this.rerender();\n        }\n    }\n    /**\n     * On node updated\n     */\n    async onNodeUpdate(key, newItem) {\n        let shouldRerender = false;\n        this.pagesToRender = this.pagesToRender.map((page) => page.map((item) => {\n            if (item.id === key) {\n                shouldRerender = true;\n                return newItem;\n            }\n            return item;\n        }));\n        if (shouldRerender)\n            this.rerender();\n    }\n    onItemChanged(newItemId, oldItemId) {\n        if (newItemId !== oldItemId) {\n            this.pagesToRender = [[]];\n            this.loadFirstPage().then(() => this.rerender());\n        }\n    }\n    connectedCallback() {\n        this.rerender = debounce(this.rerender.bind(this), 50, { maxWait: 200 });\n        this.intersectionObserver = new IntersectionObserver((entries) => {\n            writeTask(() => {\n                for (const entry of entries) {\n                    if (entry.target.id === 'bottom-scroll') {\n                        if (entry.isIntersecting)\n                            this.loadBottom();\n                        else\n                            this.shouldRenderNewNodes = false;\n                    }\n                    if (entry.target.id === 'top-scroll' && entry.isIntersecting) {\n                        this.loadTop();\n                    }\n                }\n            });\n        });\n    }\n    disconnectedCallback() {\n        this.intersectionObserver.disconnect();\n    }\n    componentDidLoad() {\n        /**\n         * Adding observes here so that on the first render we scroll down\n         * and shouldRenderNewNodes remains true\n         */\n        this.loadFirstPage();\n        this.observe(this.$topRef);\n        this.observe(this.$bottomRef);\n    }\n    componentDidRender() {\n        if (this.shouldRenderNewNodes && this.autoScroll)\n            smoothScrollToBottom(this.$paginatedList);\n    }\n    loadFirstPage() {\n        return this.loadPage(this.currentTime(), this.pageSize, true, (data) => {\n            if (data.length === 0) {\n                this.showEmptyListLabel = true;\n            }\n        });\n    }\n    loadTop() {\n        /**\n         * If there is only one unfilled page or no page, no need to check\n         * for top since it will be empty\n         */\n        if (this.pagesToRender.length === 0)\n            return;\n        if (this.pagesToRender.length === 1 && this.pagesToRender[0].length < this.pageSize)\n            return;\n        /**\n         * TODO: Make this more flexible currently this only works with chat\n         */\n        const oldestVNode = this.pagesToRender[0][0];\n        const oldestTimestamp = oldestVNode.timeMs;\n        // TODO: scrollIntoView\n        const onPageRendered = () => { }; // oldestVNode.$elm$?.scrollIntoView();\n        this.loadPage(oldestTimestamp - 1, this.pageSize, true, onPageRendered);\n    }\n    loadBottom() {\n        /**\n         * If there is only one unfilled page or no page, no need to check\n         * for top since it will be empty\n         */\n        if (this.pagesToRender.length === 0) {\n            this.shouldRenderNewNodes = true;\n            return;\n        }\n        if (this.pagesToRender.length === 1 && this.pagesToRender[0].length < this.pageSize) {\n            this.shouldRenderNewNodes = true;\n            return;\n        }\n        const newestVNode = this.pagesToRender.at(-1).at(-1);\n        const newestTimestamp = newestVNode.timeMs;\n        // TODO: scrollIntoView\n        const onPageRendered = () => smoothScrollToBottom(this.$paginatedList);\n        this.loadPage(newestTimestamp + 1, this.pageSize, false, onPageRendered);\n    }\n    addNodeToRender(node, addToStart) {\n        if (addToStart) {\n            const firstPage = this.pagesToRender[0];\n            if (firstPage && (firstPage === null || firstPage === void 0 ? void 0 : firstPage.length) < this.pageSize) {\n                /**\n                 * If first page is not full then just add to that page\n                 */\n                firstPage.unshift(node);\n            }\n            else {\n                /**\n                 * If first page is full then add a new page to the start\n                 */\n                const newPage = [node];\n                this.pagesToRender.unshift(newPage);\n                this.removeLastPageIfNeeded(false);\n            }\n        }\n        else {\n            const [lastPage] = this.pagesToRender.slice(-1);\n            if (lastPage && (lastPage === null || lastPage === void 0 ? void 0 : lastPage.length) < this.pageSize) {\n                /**\n                 * If last page is not full then just add it\n                 */\n                lastPage.push(node);\n            }\n            else {\n                /**\n                 * If last page is full add a new page with just\n                 * this node\n                 */\n                const newPage = [node];\n                this.pagesToRender.push(newPage);\n                this.removeLastPageIfNeeded(true);\n            }\n        }\n    }\n    /**\n     * @param start\n     * @param end\n     * @param reversed Defines whether to add the page at the beginning or the end\n     * @param onPageLoaded Callback for when all new nodes are rendered\n     */\n    async loadPage(timestamp, size, reversed, onPageRendered = () => { }) {\n        this.isLoading = true;\n        const data = (await this.fetchData(timestamp, size, reversed));\n        this.isLoading = false;\n        if (!(data === null || data === void 0 ? void 0 : data.length)) {\n            /**\n             * While scrolling down if there were no new items found\n             * then start rendering new nodes;\n             */\n            if (!reversed) {\n                this.hasNewNodesToRender = false;\n                this.shouldRenderNewNodes = true;\n            }\n            onPageRendered([]);\n            return;\n        }\n        // const page = this.createNodes(data);\n        // const lastNodeToBeRendered = page[page.length - 1];\n        // let lastNodeToBeRenderedProxy = new Proxy(lastNodeToBeRendered, {\n        //   set(obj, prop, value) {\n        //     /**\n        //      * Whenever the last node has the 'elm' property added to it\n        //      * we can assume it has been rendered\n        //      */\n        //     if (prop === '$elm$' && value && !obj.$elm$) onPageRendered();\n        //     obj[prop] = value;\n        //     return true;\n        //   },\n        // });\n        // page[page.length - 1] = lastNodeToBeRenderedProxy;\n        data.forEach((node) => this.addNodeToRender(node, reversed));\n        this.rerender();\n        onPageRendered(data);\n    }\n    rerender() {\n        this.rerenderBoolean = !this.rerenderBoolean;\n    }\n    removeLastPageIfNeeded(removeFromStart) {\n        if (this.pagesToRender.length > this.pagesAllowed) {\n            if (removeFromStart)\n                this.pagesToRender.shift();\n            else\n                this.pagesToRender.pop();\n        }\n    }\n    onDownArrowClicked() {\n        /**\n         * Load the freshest pages\n         */\n        this.loadBottom();\n    }\n    render() {\n        var _a;\n        /**\n         * div.container is flex=column-reverse\n         * which is why div#bottom-scroll comes before div#top-scroll\n         * div.page-wrapper prevents reversal of messages\n         */\n        return (h(Host, { key: '704a4d2f1669f83d2b609276c4e43b7d242dc204' }, h(\"div\", { key: 'a73818c8a9db30909b021e5409a05e54b917172c', class: \"scrollbar container\", part: \"container\", ref: (el) => (this.$paginatedList = el) }, h(\"div\", { key: '4f3c5bbde0e1e3d868b9f188c1de0aea83c57ef7', class: { 'show-new-messages-ctr': true, active: !this.shouldRenderNewNodes } }, h(\"dyte-button\", { key: '8bee70e062ccefaedf15495bb4be713b75c72c98', class: \"show-new-messages\", kind: \"icon\", variant: \"secondary\", part: \"show-new-messages\", onClick: () => this.onDownArrowClicked() }, h(\"dyte-icon\", { key: 'd8872dd2b18a05d9969ce4c0e79925e05ca511fe', icon: this.iconPack.chevron_down }))), h(\"div\", { key: 'fbd24ab1cc8352807661d6b78c771df69fa26d12', class: \"smallest-dom-element\", id: \"bottom-scroll\", ref: (el) => (this.$bottomRef = el) }), this.isLoading && this.pagesToRender.flat().length === 0 && h(\"dyte-spinner\", { key: 'df59bc4e2d777d1ce98088930f5dd4e5bfead2dc', size: \"lg\" }), this.pagesToRender.flat().length === 0 && this.showEmptyListLabel ? (h(\"div\", { class: \"empty-list\" }, (_a = this.emptyListLabel) !== null && _a !== void 0 ? _a : this.t('list.empty'))) : (h(\"div\", { class: \"page-wrapper\" }, this.pagesToRender.map((page) => this.createNodes(page)))), h(\"div\", { key: '7b54f683c79b5df12e101fcbb5fb645ddaeca082', class: \"smallest-dom-element\", id: \"top-scroll\", ref: (el) => (this.$topRef = el) }))));\n    }\n    static get watchers() { return {\n        \"selectedItemId\": [\"onItemChanged\"]\n    }; }\n};\n__decorate$b([\n    SyncWithStore()\n], DytePaginatedList.prototype, \"iconPack\", void 0);\n__decorate$b([\n    SyncWithStore()\n], DytePaginatedList.prototype, \"t\", void 0);\nDytePaginatedList.style = DytePaginatedListStyle0;\n\nconst dyteParticipantTileCss = \":host {\\n  line-height: initial;\\n  font-family: var(--dyte-font-family, sans-serif);\\n\\n  font-feature-settings: normal;\\n  font-variation-settings: normal;\\n}\\n\\np {\\n  margin: var(--dyte-space-0, 0px);\\n  padding: var(--dyte-space-0, 0px);\\n}\\n\\n\\n:host {\\n  position: relative;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  aspect-ratio: 16 / 9;\\n  height: var(--dyte-space-56, 224px);\\n  overflow: hidden;\\n  border-radius: var(--dyte-border-radius-lg, 12px);\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n          user-select: none;\\n  --tw-bg-opacity: 1;\\n  background-color: rgba(var(--dyte-colors-video-bg, 24 24 24) / var(--tw-bg-opacity));\\n\\n  transition-property: var(--dyte-transition-property, all);\\n  transition-duration: 150ms;\\n  container-type: inline-size;\\n  container-name: participanttile;\\n}\\n\\n@media (prefers-reduced-motion) {\\n  /* No transitions when disabled */\\n  :host {\\n    --dyte-transition-property: none;\\n  }\\n}\\n\\ndyte-avatar {\\n  z-index: -1;\\n}\\n\\n/**\\n  NOTE: provided :slotted(dyte-name-tag) & dyte-name-tag separately\\n  because ::slotted isn't applied on default slots.\\n*/\\n\\n::slotted(dyte-name-tag), \\ndyte-name-tag {\\n  position: absolute;\\n  left: var(--dyte-space-3, 12px);\\n  bottom: var(--dyte-space-3, 12px);\\n}\\n\\n:host([size='sm'][variant='solid']) ::slotted(dyte-name-tag), \\n  :host([size='sm'][variant='solid']) dyte-name-tag {\\n  left: var(--dyte-space-2, 8px);\\n  bottom: var(--dyte-space-2, 8px);\\n  height: var(--dyte-space-4, 16px);\\n}\\n\\n::slotted(dyte-network-indicator), \\ndyte-network-indicator {\\n  position: absolute;\\n  right: var(--dyte-space-3, 12px);\\n  bottom: var(--dyte-space-3, 12px);\\n}\\n\\n:host([size='sm']) ::slotted(dyte-network-indicator), \\n  :host([size='sm']) dyte-network-indicator {\\n  right: var(--dyte-space-2, 8px);\\n  bottom: var(--dyte-space-2, 8px);\\n}\\n\\nvideo {\\n  position: absolute;\\n  height: 100%;\\n  width: 100%;\\n  border-radius: var(--dyte-border-radius-lg, 12px);\\n}\\n\\nvideo.contain {\\n  -o-object-fit: contain;\\n     object-fit: contain;\\n}\\n\\nvideo.cover {\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n}\\n\\nvideo::-webkit-media-controls {\\n  display: none !important;\\n}\\n\\n.pinned-icon {\\n  position: absolute;\\n  left: var(--dyte-space-3, 12px);\\n  top: var(--dyte-space-3, 12px);\\n  height: var(--dyte-space-5, 20px);\\n  width: var(--dyte-space-5, 20px);\\n  padding: var(--dyte-space-1, 4px);\\n  border-radius: var(--dyte-border-radius-md, 8px);\\n  --tw-bg-opacity: 1;\\n  background-color: rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));\\n}\\n\\n.network-container {\\n  position: absolute;\\n  right: var(--dyte-space-3, 12px);\\n  bottom: var(--dyte-space-3, 12px);\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  padding: var(--dyte-space-2, 8px);\\n  font-size: 12px;\\n  border-radius: var(--dyte-border-radius-md, 8px);\\n  --tw-bg-opacity: 1;\\n  background-color: rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));\\n}\\n.network-icon {\\n  height: var(--dyte-space-5, 20px);\\n  width: var(--dyte-space-5, 20px);\\n  --tw-text-opacity: 1;\\n  color: rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity));\\n}\\n\\n:host([size='sm']) .pinned-icon {\\n  top: var(--dyte-space-2, 8px);\\n  left: var(--dyte-space-2, 8px);\\n}\\n\\n:host([variant='gradient']) ::slotted(dyte-audio-visualizer), \\n  :host([variant='gradient']) dyte-audio-visualizer {\\n  position: absolute;\\n  top: var(--dyte-space-2, 8px);\\n  right: var(--dyte-space-2, 8px);\\n  border-radius: 9999px;\\n  --tw-bg-opacity: 1;\\n  background-color: rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));\\n  padding: var(--dyte-space-2, 8px);\\n}\\n\\n:host([variant='gradient']) ::slotted(dyte-name-tag), \\n  :host([variant='gradient']) dyte-name-tag {\\n  bottom: var(--dyte-space-0, 0px);\\n  left: var(--dyte-space-0, 0px);\\n  display: flex;\\n  width: 100%;\\n  align-items: center;\\n  justify-content: center;\\n  text-align: center;\\n  background-color: transparent;\\n  background-image: linear-gradient(to top, var(--tw-gradient-stops));\\n  --tw-gradient-from: rgb(var(--dyte-colors-background-1000, 8 8 8));\\n  --tw-gradient-to: rgba(var(--dyte-colors-background-1000, 8 8 8) / 0);\\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\\n  --tw-gradient-to: transparent;\\n}\\n\\nvideo.mirror {\\n  transform: scaleX(-1);\\n}\\n\\n/** Name tag positions */\\n\\n:host([name-tag-position='bottom-right']) ::slotted(dyte-name-tag), \\n  :host([name-tag-position='bottom-right']) dyte-name-tag {\\n  left: auto;\\n  right: var(--dyte-space-3, 12px);\\n}\\n\\n:host([name-tag-position='bottom-center']) ::slotted(dyte-name-tag), \\n  :host([name-tag-position='bottom-center']) dyte-name-tag {\\n  left: auto;\\n  right: auto;\\n}\\n\\n:host([name-tag-position='top-left']) ::slotted(dyte-name-tag), \\n  :host([name-tag-position='top-left']) dyte-name-tag {\\n  top: var(--dyte-space-3, 12px);\\n  bottom: auto;\\n}\\n\\n:host([name-tag-position='top-right']) ::slotted(dyte-name-tag), \\n  :host([name-tag-position='top-right']) dyte-name-tag {\\n  top: var(--dyte-space-3, 12px);\\n  right: var(--dyte-space-3, 12px);\\n  left: auto;\\n  bottom: auto;\\n}\\n\\n:host([name-tag-position='top-center']) ::slotted(dyte-name-tag), \\n  :host([name-tag-position='top-center']) dyte-name-tag {\\n  left: auto;\\n  right: auto;\\n  bottom: auto;\\n  top: var(--dyte-space-3, 12px);\\n}\\n\\n@media only screen and (max-height: 480px) and (orientation: landscape) {\\n  :host([size='sm']) {\\n    border-radius: var(--dyte-border-radius-sm, 4px);\\n  }\\n\\n  :host([size='sm']) > video {\\n    border-radius: var(--dyte-border-radius-sm, 4px);\\n  }\\n\\n  ::slotted(dyte-avatar), \\n  dyte-avatar {\\n    height: var(--dyte-space-12, 48px);\\n    width: var(--dyte-space-12, 48px);\\n  }\\n    :host([size='sm'][variant='solid']) ::slotted(dyte-name-tag),\\n    :host([size='sm'][variant='solid']) dyte-name-tag {\\n      transform-origin: -2% 100%;\\n      transform: scale(0.6);\\n      z-index: 10;\\n      left: var(--dyte-space-0, 0px);\\n      bottom: var(--dyte-space-0, 0px);\\n      border-radius: var(--dyte-border-radius-none, 0);\\n    }\\n}\\n\\n@media only screen and (max-width: 480px) and (orientation: portrait) {\\n  :host([size='sm']) {\\n    border-radius: var(--dyte-border-radius-sm, 4px);\\n  }\\n\\n  :host([size='sm']) > video {\\n    border-radius: var(--dyte-border-radius-sm, 4px);\\n  }\\n\\n  ::slotted(dyte-avatar), \\n  dyte-avatar {\\n    height: var(--dyte-space-12, 48px);\\n    width: var(--dyte-space-12, 48px);\\n  }\\n    :host([size='sm'][variant='solid']) ::slotted(dyte-name-tag),\\n    :host([size='sm'][variant='solid']) dyte-name-tag {\\n      transform-origin: -5% 110%;\\n      transform: scale(0.6);\\n      z-index: 10;\\n      left: var(--dyte-space-0, 0px);\\n      bottom: var(--dyte-space-0, 0px);\\n      border-radius: var(--dyte-border-radius-none, 0);\\n    }\\n}\\n\\n@container participanttile (max-width: 300px) {\\n  ::slotted(dyte-name-tag),\\n  dyte-name-tag {\\n    transform-origin: 0 100%;\\n    transform: scale(0.8);\\n  }\\n\\n  ::slotted(dyte-avatar), \\n  dyte-avatar {\\n    height: var(--dyte-space-8, 32px) !important;\\n    width: var(--dyte-space-8, 32px) !important;\\n  }\\n}\\n\\n@container participanttile (max-width: 150px) {\\n  ::slotted(dyte-name-tag),\\n  dyte-name-tag[variant='solid'] {\\n    transform-origin: -10% 130%;\\n    transform: scale(0.6);\\n    z-index: 10;\\n    border-radius: 9999px;\\n  }\\n\\n  ::slotted(dyte-avatar), \\n  dyte-avatar {\\n    height: 6 !important;\\n    width: 6 !important;\\n  }\\n}\\n\";\nconst DyteParticipantTileStyle0 = dyteParticipantTileCss;\n\nvar __decorate$a = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteParticipantTile = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.tileLoad = createEvent(this, \"tileLoad\", 7);\n        this.tileUnload = createEvent(this, \"tileUnload\", 7);\n        this.isPinned = false;\n        this.mediaConnectionError = false;\n        /** Position of name tag */\n        this.nameTagPosition = 'bottom-left';\n        /** Whether tile is used for preview */\n        this.isPreview = false;\n        /** Config object */\n        this.config = defaultConfig;\n        /** Variant */\n        this.variant = 'solid';\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        this.onPinned = ({ isPinned }) => {\n            this.isPinned = isPinned;\n        };\n        this.isSelf = () => { var _a; return this.isPreview || this.participant.id === ((_a = this.meeting) === null || _a === void 0 ? void 0 : _a.self.id); };\n        this.onPause = (event) => {\n            var _a, _b;\n            if (this.isSelf() &&\n                ((_a = this.meeting) === null || _a === void 0 ? void 0 : _a.__internals__.features.hasFeature(FlagsmithFeatureFlags.PLAY_PARTICIPANT_TILE_VIDEO_ON_PAUSE))) {\n                this.meeting.__internals__.logger.warn(`Video player paused for ${this.participant.id} isSelf: ${this.isSelf()}`);\n                // @ts-ignore\n                (_b = event === null || event === void 0 ? void 0 : event.target) === null || _b === void 0 ? void 0 : _b.play();\n            }\n        };\n        this.onPlaying = () => {\n            if (this.playTimeout)\n                clearTimeout(this.playTimeout);\n        };\n    }\n    onVideoRef(el) {\n        if (!this.participant || !this.meeting || el === this.videoEl)\n            return;\n        this.videoEl = el;\n        this.participant.registerVideoElement(this.videoEl, this.isPreview);\n        this.tileLoad.emit({ participant: this.participant, videoElement: this.videoEl });\n    }\n    connectedCallback() {\n        // set videoState before initial render and initialize listeners\n        if (this.meeting)\n            this.meetingChanged(this.meeting);\n        else\n            this.participantsChanged(this.participant);\n    }\n    disconnectedCallback() {\n        if (this.playTimeout)\n            clearTimeout(this.playTimeout);\n        if (this.participant == null)\n            return;\n        this.participant.deregisterVideoElement(this.videoEl, this.isPreview);\n        this.participant.removeListener('pinned', this.onPinned);\n        this.participant.removeListener('unpinned', this.onPinned);\n        this.meeting.meta.off('mediaConnectionUpdate', this.mediaConnectionUpdateListener);\n        this.tileUnload.emit(this.participant);\n    }\n    meetingChanged(meeting) {\n        if (meeting == undefined)\n            return;\n        this.participantsChanged(this.participant);\n    }\n    participantsChanged(participant) {\n        if (participant == undefined)\n            return;\n        if (this.meeting === undefined) {\n            if (this.isPreview) {\n                this.videoEl && this.participant.registerVideoElement(this.videoEl, this.isPreview);\n            }\n            return;\n        }\n        this.isPinned = participant.isPinned;\n        this.videoEl && this.participant.registerVideoElement(this.videoEl, this.isPreview);\n        participant.addListener('pinned', this.onPinned);\n        participant.addListener('unpinned', this.onPinned);\n        this.meeting.meta.on('mediaConnectionUpdate', this.mediaConnectionUpdateListener.bind(this));\n    }\n    mediaConnectionUpdateListener() {\n        var _a, _b, _c;\n        const { recv: consuming, send: producing } = (_c = (_b = (_a = this.meeting) === null || _a === void 0 ? void 0 : _a.meta) === null || _b === void 0 ? void 0 : _b.mediaState) !== null && _c !== void 0 ? _c : {};\n        if ((consuming === null || consuming === void 0 ? void 0 : consuming.state) !== 'connected' && !this.isSelf()) {\n            this.mediaConnectionError = true;\n        }\n        else if ((producing === null || producing === void 0 ? void 0 : producing.state) !== 'connected' && this.isSelf()) {\n            this.mediaConnectionError = true;\n        }\n        else\n            this.mediaConnectionError = false;\n    }\n    isMirrored() {\n        var _a;\n        if (this.participant != null) {\n            if (this.isSelf()) {\n                const states = this.states;\n                const mirrorVideo = (_a = states === null || states === void 0 ? void 0 : states.prefs) === null || _a === void 0 ? void 0 : _a.mirrorVideo;\n                if (typeof mirrorVideo === 'boolean') {\n                    return mirrorVideo;\n                }\n            }\n        }\n        return false;\n    }\n    render() {\n        var _a, _b, _c;\n        const defaults = {\n            meeting: this.meeting,\n            size: this.size,\n            states: this.states,\n            config: this.config,\n            iconPack: this.iconPack,\n            t: this.t,\n        };\n        return (h(Host, { key: 'ae0d125a5d4b2bd7cab5c4c286be3fd31d9b6b80' }, h(\"video\", { key: '46c326caaf26377c1a7e6ba2989eabbc89a3d4aa', ref: (el) => this.onVideoRef(el), class: {\n                mirror: this.isMirrored(),\n                [(_c = (_b = (_a = this.config) === null || _a === void 0 ? void 0 : _a.config) === null || _b === void 0 ? void 0 : _b.videoFit) !== null && _c !== void 0 ? _c : 'cover']: true,\n            }, onPlaying: this.onPlaying, onPause: this.onPause, autoPlay: true, playsInline: true, muted: true, part: \"video\" }), this.isPinned && (h(\"dyte-icon\", { key: '8a3e9d03d2c69b9a281d6633a87f519cd36f8caf', class: \"pinned-icon\", icon: this.iconPack.pin, \"aria-label\": this.t('pinned'), part: \"pinned-icon\" })), this.mediaConnectionError && (h(\"div\", { key: 'b501ff04fcbe6c283b71c5bfa226cdc2b0127c6e', class: \"network-container\", part: \"network-indicator\" }, h(\"dyte-icon\", { key: 'a200fd6ee5973cacd387ea38af916ac8d71355b5', class: \"network-icon\", icon: this.iconPack.disconnected, \"aria-label\": this.t('pinned'), part: \"pinned-icon\" }))), h(\"slot\", { key: '03c182c48452d89f381eecea6895a98f865a1b2f' }, h(Render, { key: '459ff30c21c410a4cd7eea256d203fca6bf9d4bd', element: \"dyte-participant-tile\", defaults: defaults, childProps: {\n                participant: this.participant,\n            }, deepProps: true, onlyChildren: true }))));\n    }\n    static get watchers() { return {\n        \"meeting\": [\"meetingChanged\"],\n        \"participant\": [\"participantsChanged\"]\n    }; }\n};\n__decorate$a([\n    SyncWithStore()\n], DyteParticipantTile.prototype, \"meeting\", void 0);\n__decorate$a([\n    SyncWithStore()\n], DyteParticipantTile.prototype, \"states\", void 0);\n__decorate$a([\n    SyncWithStore()\n], DyteParticipantTile.prototype, \"size\", void 0);\n__decorate$a([\n    SyncWithStore()\n], DyteParticipantTile.prototype, \"iconPack\", void 0);\n__decorate$a([\n    SyncWithStore()\n], DyteParticipantTile.prototype, \"t\", void 0);\nDyteParticipantTile.style = DyteParticipantTileStyle0;\n\nconst dytePermissionsMessageCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{box-sizing:border-box;display:block;max-height:100%;width:600px;overflow-y:auto;padding:var(--dyte-space-6, 24px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));overflow-wrap:break-word;color:rgb(var(--dyte-colors-text-1000, 255 255 255));word-wrap:break-word}.actions{display:flex;align-items:center;gap:var(--dyte-space-2, 8px)}.text-icon{display:inline-block;vertical-align:middle}h2{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-4, 16px)}h2 .text-icon{margin-right:var(--dyte-space-2, 8px);height:var(--dyte-space-8, 32px);width:var(--dyte-space-8, 32px);--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}p{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-4, 16px)}.need-help-link{margin-top:var(--dyte-space-2, 8px);display:inline-block;text-underline-offset:2px;--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-400, 53 110 253) / var(--tw-text-opacity))}.need-help-link:hover{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-600, 13 81 253) / var(--tw-text-opacity))}a dyte-icon{margin-right:var(--dyte-space-2, 8px);height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px)}:host([size='sm']) .actions{flex-direction:column;align-items:flex-start;justify-content:center}:host([size='sm']) .action{width:100%;padding-top:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px)}.actions{margin-top:var(--dyte-space-6, 24px)}.actions dyte-button{flex:1 1 0%}.svg-container{display:flex;width:100%;justify-content:center !important}.svg-ins{width:80%;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}\";\nconst DytePermissionsMessageStyle0 = dytePermissionsMessageCss;\n\nvar __decorate$9 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst steps = {\n    'Chrome.Desktop.audio': ['Chrome1.svg', 'Chrome2.svg', 'Chrome3.svg'],\n    'Chrome.Desktop.video': ['Chrome1.svg', 'Chrome2.svg', 'Chrome3.svg'],\n};\nconst DytePermissionsMessage = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.stateUpdate = createEvent(this, \"dyteStateUpdate\", 7);\n        /** Language */\n        this.t = useLanguage();\n        /** Icon Pack */\n        this.iconPack = defaultIconPack;\n        this.currentStep = 0;\n        this.svgSteps = [];\n        this.continue = () => {\n            this.stateUpdate.emit({\n                activePermissionsMessage: { enabled: false },\n            });\n        };\n        this.reload = () => {\n            if (typeof window !== 'undefined') {\n                window.location.reload();\n            }\n        };\n        this.getImage = async (stepURL) => {\n            function replaceAll(target, search, replacement) {\n                return target.split(search).join(replacement);\n            }\n            const svgReq = await fetch(`https://assets.dyte.io/ui-kit/permissions/${stepURL}`);\n            let svg = await svgReq.text();\n            svg = replaceAll(svg, 'yoursite.com', location.host);\n            svg = replaceAll(svg, 'Yoursite', document.title.length > 14 ? `${document.title.slice(0, 14)}...` : document.title);\n            return svg;\n        };\n        this.nextStep = () => {\n            this.currentStep = (this.currentStep + 1) % this.svgSteps.length;\n        };\n        this.openMacSystemSettings = () => {\n            const l = document.createElement('a');\n            switch (this.mediaType) {\n                case 'audio':\n                    l.href = 'x-apple.systempreferences:com.apple.preference.security?Privacy_Microphone';\n                    break;\n                case 'screenshare':\n                    l.href = 'x-apple.systempreferences:com.apple.preference.security?Privacy_ScreenCapture';\n                    break;\n                case 'video':\n                    l.href = 'x-apple.systempreferences:com.apple.preference.security?Privacy_Camera';\n                    break;\n            }\n            l.click();\n        };\n    }\n    connectedCallback() {\n        this.meetingChanged(this.meeting);\n    }\n    disconnectedCallback() {\n        if (this.stepsTimer)\n            clearTimeout(this.stepsTimer);\n    }\n    meetingChanged(meeting) {\n        var _a, _b, _c;\n        if (meeting != null) {\n            this.device = meeting.self.device;\n            const deviceType = ((_a = this.device) === null || _a === void 0 ? void 0 : _a.isMobile) ? 'Mobile' : 'Desktop';\n            const currentSteps = (_c = steps[`${(_b = this.device) === null || _b === void 0 ? void 0 : _b.browserName}.${deviceType}.${this.mediaType}`]) !== null && _c !== void 0 ? _c : [];\n            Promise.all(currentSteps.map(this.getImage)).then((currentImages) => {\n                this.svgSteps = currentImages;\n            });\n        }\n    }\n    getLink(media) {\n        let kind;\n        switch (media) {\n            case 'audio':\n                kind = 'microphone';\n                break;\n            case 'video':\n                kind = 'camera';\n                break;\n            default:\n                kind = 'screenshare';\n                break;\n        }\n        const GOOGLE_SEARCH_BASE = 'https://www.google.com/search?q=';\n        let query = `Allow+${kind}+access`;\n        if (this.device != null) {\n            const { browserName, isMobile } = this.device;\n            query += '+' + browserName;\n            if (isMobile) {\n                query += '+mobile';\n            }\n        }\n        return GOOGLE_SEARCH_BASE + query;\n    }\n    isDeniedBySystem() {\n        var _a;\n        const permissionsMessage = (_a = this.meeting) === null || _a === void 0 ? void 0 : _a.self.mediaPermissions;\n        if (permissionsMessage == null)\n            return false;\n        if (permissionsMessage[this.mediaType] === 'SYSTEM_DENIED') {\n            return true;\n        }\n        return false;\n    }\n    getTitle() {\n        const isDeniedBySystem = this.isDeniedBySystem();\n        if (isDeniedBySystem) {\n            return this.t(`perm_sys_denied.${this.mediaType}`);\n        }\n        return this.t(`perm_denied.${this.mediaType}`);\n    }\n    get mediaType() {\n        var _a, _b, _c;\n        return (_c = (_b = (_a = this.states) === null || _a === void 0 ? void 0 : _a.activePermissionsMessage) === null || _b === void 0 ? void 0 : _b.kind) !== null && _c !== void 0 ? _c : 'audio';\n    }\n    getMessage() {\n        var _a;\n        const { browserName, osName } = this.meeting.self.device;\n        const isDeniedBySystem = this.isDeniedBySystem();\n        const browser = (_a = browserName.toLowerCase()) !== null && _a !== void 0 ? _a : 'others';\n        const os = osName !== null && osName !== void 0 ? osName : 'others';\n        /* NOTE(ravindra-dyte):\n          If in case a unknown browser or os doesn't have a translation,\n          use the translation for `others`, instead of showing ugly error string,\n          such as `perm_denied.video.yandex browser.message`.\n        */\n        if (isDeniedBySystem) {\n            const systemErrorKey = `perm_sys_denied.${this.mediaType}.${os.toLowerCase()}.message`;\n            return this.t(systemErrorKey) === systemErrorKey\n                ? this.t(`perm_sys_denied.${this.mediaType}.others.message`)\n                : this.t(systemErrorKey);\n        }\n        const browserErrorKey = `perm_denied.${this.mediaType}.${browser}.message`;\n        return this.t(browserErrorKey) === browserErrorKey\n            ? this.t(`perm_denied.${this.mediaType}.others.message`)\n            : this.t(browserErrorKey);\n    }\n    render() {\n        var _a, _b, _c;\n        const isDeniedBySystem = this.isDeniedBySystem();\n        if (this.svgSteps.length > 0) {\n            if (this.stepsTimer)\n                clearTimeout(this.stepsTimer);\n            this.stepsTimer = setTimeout(this.nextStep, 2500);\n        }\n        const showMacDeepLink = isDeniedBySystem && this.meeting.self.device.osName == 'macOS';\n        return (h(Host, { key: 'fd3113af80de08603477d44313c51386dc18af5e' }, h(\"h2\", { key: '105d5ea31c336aa1cd436818328ccd782770c326' }, h(\"dyte-icon\", { key: '459d39bf025a2a86a5dc007d1d37da478de9cbb2', class: \"text-icon\", icon: this.iconPack.warning }), this.getTitle()), this.svgSteps.length > 0 && (h(\"div\", { key: 'd8795f8c99c3d3e2c7fc0e854d4a97df30501f7e', class: 'svg-container' }, this.svgSteps.map((e, index) => (h(\"p\", { innerHTML: e, class: \"svg-ins\", key: this.currentStep, hidden: index !== this.currentStep }))))), h(\"div\", { key: 'f3c61c410b2561a7554cf92335bd45095e026d60' }, this.getMessage()), !isDeniedBySystem && (h(\"a\", { key: '44c3c2a12fbfd15aff428089a795b567c0948c0d', class: \"need-help-link\", href: this.getLink((_c = (_b = (_a = this.states) === null || _a === void 0 ? void 0 : _a.activePermissionsMessage) === null || _b === void 0 ? void 0 : _b.kind) !== null && _c !== void 0 ? _c : 'audio'), target: \"_blank\", rel: \"noreferrer external noreferrer noopener\" }, h(\"dyte-icon\", { key: '98ce0ba2b7a86af4c855cd3ce4025c5a40b5d52c', class: \"text-icon\", icon: this.iconPack.attach }), this.t('cta.help'))), h(\"div\", { key: '3d1c026bee6a4c04bb0239c14af85d67475f66ce', class: \"actions\" }, h(\"dyte-button\", { key: '3ef491db07fc2ec207ad87ef1c814bd132107bda', size: \"lg\", kind: \"wide\", variant: \"secondary\", onClick: this.continue }, this.t('cta.continue')), showMacDeepLink ? (h(\"dyte-button\", { size: \"lg\", kind: \"wide\", onClick: this.openMacSystemSettings }, this.t('cta.system_settings'))) : (h(\"dyte-button\", { size: \"lg\", kind: \"wide\", onClick: this.reload }, this.t('cta.reload')))), h(\"slot\", { key: 'ed5ac76fdf888a80b20f495d2b9daa005b1fd692' })));\n    }\n    static get watchers() { return {\n        \"meeting\": [\"meetingChanged\"]\n    }; }\n};\n__decorate$9([\n    SyncWithStore()\n], DytePermissionsMessage.prototype, \"meeting\", void 0);\n__decorate$9([\n    SyncWithStore()\n], DytePermissionsMessage.prototype, \"t\", void 0);\n__decorate$9([\n    SyncWithStore()\n], DytePermissionsMessage.prototype, \"iconPack\", void 0);\n__decorate$9([\n    SyncWithStore()\n], DytePermissionsMessage.prototype, \"states\", void 0);\nDytePermissionsMessage.style = DytePermissionsMessageStyle0;\n\nconst dyteSettingsCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\\\.5, 6px);width:var(--dyte-space-1\\\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;overflow:hidden;border-radius:var(--dyte-border-radius-md, 8px);width:100%;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}header{display:flex;align-items:center;justify-content:space-between;padding-left:var(--dyte-space-4, 16px);padding-right:var(--dyte-space-4, 16px)}.title{font-size:20px;line-height:1}.back-btn,.dismiss-btn{border-radius:var(--dyte-border-radius-sm, 4px);background-color:transparent;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.back-btn:hover,.dismiss-btn:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}aside{box-sizing:border-box;display:flex;min-width:var(--dyte-space-56, 224px);flex-direction:column;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));padding-left:var(--dyte-space-2, 8px)}aside button{margin-top:var(--dyte-space-4, 16px);box-sizing:border-box;display:flex;width:100%;align-items:center;justify-content:space-between;border-top-left-radius:var(--dyte-border-radius-sm, 4px);border-bottom-left-radius:var(--dyte-border-radius-sm, 4px);padding-left:var(--dyte-space-4, 16px);padding-right:var(--dyte-space-4, 16px);padding-top:var(--dyte-space-3, 12px);padding-bottom:var(--dyte-space-3, 12px);background-color:transparent;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));cursor:default;font-size:16px;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);border-width:var(--dyte-border-width-none, 0);border-style:none;outline:2px solid transparent;outline-offset:2px}aside button .right{display:flex;align-items:center}aside button .right dyte-icon{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}aside button .right dyte-icon:last-child{margin-left:var(--dyte-space-4, 16px)}aside button[type='button']{cursor:pointer;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}aside button[type='button']:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}aside button[type='button']{border-right:var(--dyte-border-width-md, 2px) solid transparent}aside button.active{--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-border-opacity));background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / 0.2)}aside button.active:hover{background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / 0.2)}dyte-icon.poor{--tw-text-opacity:1;color:rgba(var(--dyte-colors-warning, 255 205 7) / var(--tw-text-opacity))}dyte-icon.poorest{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}dyte-icon.good{--tw-text-opacity:1;color:rgba(var(--dyte-colors-success, 98 165 4) / var(--tw-text-opacity))}main{display:flex;flex:1 1 0%;align-items:center;justify-content:center;padding-left:var(--dyte-space-6, 24px);padding-right:var(--dyte-space-6, 24px);box-sizing:border-box;width:100%;max-width:calc(100% - var(--dyte-space-56, 224px))}.dismiss-btn{position:absolute;top:var(--dyte-space-3, 12px);right:var(--dyte-space-3, 12px);height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}:host([size='sm']) aside{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}:host([size='sm']) .dismiss-btn{top:var(--dyte-space-5, 20px);right:var(--dyte-space-4, 16px)}:host([size='sm']) aside{width:100%;padding-left:var(--dyte-space-0, 0px)}:host([size='sm']) aside button{border-radius:var(--dyte-border-radius-none, 0)}:host([size='sm']) aside button.active{border-width:var(--dyte-border-width-none, 0);border-style:none;background-color:transparent}:host([size='sm']) aside button.active:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}:host([size='sm']) aside.hide{display:none}:host([size='sm']) main{display:none;max-width:100%;overflow-y:auto;padding-left:var(--dyte-space-4, 16px);padding-right:var(--dyte-space-4, 16px)}:host([size='sm']) main header{justify-content:center}:host([size='sm']) main header dyte-button{position:absolute;left:var(--dyte-space-4, 16px)}:host([size='sm']) main.active{display:block}\";\nconst DyteSettingsStyle0 = dyteSettingsCss;\n\nvar __decorate$8 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteSettings = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.stateUpdate = createEvent(this, \"dyteStateUpdate\", 7);\n        this.keyPressListener = (e) => {\n            if (e.key === 'Escape') {\n                this.close();\n            }\n        };\n        this.stageStatusListener = () => {\n            this.canProduceVideo = this.meeting.self.permissions.canProduceVideo === 'ALLOWED';\n        };\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        this.activeTab = 'connection';\n        this.isMobileMainVisible = false;\n        this.networkStatus = 'good';\n        this.canProduceVideo = false;\n    }\n    connectedCallback() {\n        document.addEventListener('keydown', this.keyPressListener);\n        this.meetingChanged(this.meeting);\n    }\n    disconnectedCallback() {\n        var _a;\n        // NOTE(ishita1805): hidden because preview was removed from self.\n        // this.meeting?.self.disablePreview();\n        this.keyPressListener && document.removeEventListener('keydown', this.keyPressListener);\n        this.poorConnectionListener &&\n            ((_a = this.meeting) === null || _a === void 0 ? void 0 : _a.meta.removeListener('poorConnection', this.poorConnectionListener));\n        this.meeting.stage.removeListener('stageStatusUpdate', this.stageStatusListener);\n    }\n    meetingChanged(meeting) {\n        if (meeting != null) {\n            this.canProduceVideo = this.meeting.self.permissions.canProduceVideo === 'ALLOWED';\n            if (!this.canProduceVideo) {\n                this.activeTab = 'audio';\n            }\n            else {\n                this.activeTab = 'video';\n            }\n            this.poorConnectionListener = ({ score }) => {\n                if (score < 7) {\n                    this.networkStatus = 'poor';\n                }\n                else if (score < 4) {\n                    this.networkStatus = 'poorest';\n                }\n                setTimeout(() => {\n                    // reset after 5 seconds\n                    this.networkStatus = 'good';\n                }, 5000);\n            };\n            meeting.meta.addListener('poorConnection', this.poorConnectionListener);\n            meeting.stage.addListener('stageStatusUpdate', this.stageStatusListener);\n        }\n    }\n    changeTab(tab) {\n        this.activeTab = tab;\n        if (this.size === 'sm') {\n            if (!this.isMobileMainVisible) {\n                this.isMobileMainVisible = true;\n            }\n        }\n    }\n    close() {\n        this.stateUpdate.emit({ activeSettings: false });\n    }\n    render() {\n        if (this.meeting == null)\n            return null;\n        const defaults = {\n            meeting: this.meeting,\n            states: this.states,\n            iconPack: this.iconPack,\n            t: this.t,\n        };\n        return (h(Host, null, h(\"aside\", { class: { hide: this.isMobileMainVisible }, part: \"menu\" }, h(\"header\", null, h(\"h2\", null, this.t('settings'))), h(\"button\", { type: \"button\", class: { active: this.activeTab === 'audio' }, onClick: () => this.changeTab('audio') }, this.t('audio'), h(\"div\", { class: \"right\" }, h(\"dyte-icon\", { icon: this.iconPack.mic_on }), this.size === 'sm' && h(\"dyte-icon\", { icon: this.iconPack.chevron_right }))), this.canProduceVideo && (h(\"button\", { type: \"button\", class: { active: this.activeTab === 'video' }, onClick: () => this.changeTab('video') }, this.t('video'), h(\"div\", { class: \"right\" }, h(\"dyte-icon\", { icon: this.iconPack.video_on }), this.size === 'sm' && h(\"dyte-icon\", { icon: this.iconPack.chevron_right })))), h(\"button\", { type: \"none\", title: `Your network condition is ${this.networkStatus}` }, this.t('connection'), h(\"div\", { class: \"right\" }, h(\"dyte-icon\", { icon: this.iconPack.wifi, class: this.networkStatus })))), h(\"main\", { class: { active: this.isMobileMainVisible, scrollbar: true }, part: \"main-content\" }, this.size === 'sm' && (h(\"header\", null, h(\"dyte-button\", { kind: \"icon\", class: \"back-btn\", onClick: () => (this.isMobileMainVisible = false) }, h(\"dyte-icon\", { icon: this.iconPack.chevron_left })), h(\"h2\", null, this.t(this.activeTab === 'audio' ? 'audio' : 'video')))), this.activeTab === 'audio' && h(\"dyte-settings-audio\", Object.assign({}, defaults)), this.activeTab === 'video' && h(\"dyte-settings-video\", Object.assign({}, defaults)))));\n    }\n    static get watchers() { return {\n        \"meeting\": [\"meetingChanged\"]\n    }; }\n};\n__decorate$8([\n    SyncWithStore()\n], DyteSettings.prototype, \"meeting\", void 0);\n__decorate$8([\n    SyncWithStore()\n], DyteSettings.prototype, \"states\", void 0);\n__decorate$8([\n    SyncWithStore()\n], DyteSettings.prototype, \"size\", void 0);\n__decorate$8([\n    SyncWithStore()\n], DyteSettings.prototype, \"iconPack\", void 0);\n__decorate$8([\n    SyncWithStore()\n], DyteSettings.prototype, \"t\", void 0);\nDyteSettings.style = DyteSettingsStyle0;\n\nconst dyteSettingsAudioCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;width:100%;flex-direction:column}audio{visibility:hidden}.group{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px)}.group>*{margin-bottom:var(--dyte-space-2, 8px)}.group>*:last-child{margin-bottom:var(--dyte-space-0, 0px)}.group select{flex:1 1 0%}dyte-audio-visualizer{flex-shrink:0}dyte-button{border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}dyte-button dyte-icon{margin-right:var(--dyte-space-2, 8px)}\";\nconst DyteSettingsAudioStyle0 = dyteSettingsAudioCss;\n\nvar __decorate$7 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteSettingsAudio = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.stateUpdate = createEvent(this, \"dyteStateUpdate\", 7);\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n    }\n    render() {\n        var _a, _b;\n        if (this.meeting == null)\n            return null;\n        const defaults = {\n            meeting: this.meeting,\n            states: this.states,\n            size: this.size,\n            iconPack: this.iconPack,\n            t: this.t,\n        };\n        const states = this.states;\n        const initialNotificationSoundsPreference = ((_a = states === null || states === void 0 ? void 0 : states.prefs) === null || _a === void 0 ? void 0 : _a.muteNotificationSounds) === true ||\n            getPreference('mute-notification-sounds') === 'true';\n        return (h(Host, null, h(\"dyte-microphone-selector\", Object.assign({}, defaults), h(\"dyte-audio-visualizer\", { participant: (_b = this.meeting) === null || _b === void 0 ? void 0 : _b.self, iconPack: this.iconPack, t: this.t, slot: \"indicator\" })), h(\"dyte-speaker-selector\", Object.assign({}, defaults)), h(\"div\", { class: \"group\", part: \"notification-toggle\" }, h(\"div\", { class: \"row\" }, h(\"label\", { htmlFor: \"notification-toggle\" }, this.t('settings.notification_sound')), h(\"dyte-switch\", { id: \"notification-toggle\", checked: !initialNotificationSoundsPreference, onDyteChange: (e) => {\n                const { checked } = e.target;\n                const muteNotificationSounds = !checked;\n                this.stateUpdate.emit({ prefs: { muteNotificationSounds } });\n                setPreference('mute-notification-sounds', muteNotificationSounds);\n            }, iconPack: this.iconPack, t: this.t })))));\n    }\n};\n__decorate$7([\n    SyncWithStore()\n], DyteSettingsAudio.prototype, \"meeting\", void 0);\n__decorate$7([\n    SyncWithStore()\n], DyteSettingsAudio.prototype, \"states\", void 0);\n__decorate$7([\n    SyncWithStore()\n], DyteSettingsAudio.prototype, \"size\", void 0);\n__decorate$7([\n    SyncWithStore()\n], DyteSettingsAudio.prototype, \"iconPack\", void 0);\n__decorate$7([\n    SyncWithStore()\n], DyteSettingsAudio.prototype, \"t\", void 0);\nDyteSettingsAudio.style = DyteSettingsAudioStyle0;\n\nconst dyteSettingsVideoCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.dyte-select{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.dyte-select:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.dyte-select{display:block;border-radius:var(--dyte-border-radius-sm, 4px);border-width:var(--dyte-border-width-none, 0);border-style:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:var(--dyte-space-3, 12px);font-size:16px;--icon-size:var(--dyte-select-chevron-size, var(--dyte-space-6, 24px));--icon-right-position:var(--dyte-select-chevron-right-position, var(--dyte-space-2, 8px));background-image:url(\\\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e\\\");background-position:right var(--icon-right-position) center;background-repeat:no-repeat;background-size:var(--icon-size) var(--icon-size);padding-right:calc(var(--icon-right-position) * 5)}:host{display:flex;width:100%;flex-direction:column}.dyte-select{width:100%;text-overflow:ellipsis}dyte-participant-tile{margin-left:auto;margin-right:auto;margin-bottom:var(--dyte-space-4, 16px);max-width:100%}#icon{padding-bottom:var(--dyte-space-1, 4px)}.apply-button{height:var(--dyte-space-10, 40px)}label{-webkit-user-select:none;-moz-user-select:none;user-select:none;font-size:14px}.group{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px)}.group>*{margin-bottom:var(--dyte-space-2, 8px)}.group>*:last-child{margin-bottom:var(--dyte-space-0, 0px)}.group select{flex:1 1 0%}.row{display:flex;align-items:center;justify-content:space-between;gap:var(--dyte-space-3, 12px)}.section{display:flex;flex-direction:column}@media only screen and (max-height: 480px) and (orientation: landscape){:host{flex-direction:row}:host([size='sm']){flex-direction:row}.section[part='tile-preview']{margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-2, 8px);max-height:90%;max-width:40%;flex-shrink:1}.section[part='video-settings']{margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-2, 8px);flex-grow:1}}\";\nconst DyteSettingsVideoStyle0 = dyteSettingsVideoCss;\n\nvar __decorate$6 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteSettingsVideo = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.stateUpdate = createEvent(this, \"dyteStateUpdate\", 7);\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        this.onVideoUpdate = (videoState) => {\n            this.videoEnabled = videoState.videoEnabled;\n        };\n    }\n    componentDidLoad() {\n        this.meetingChanged(this.meeting);\n    }\n    meetingChanged(meeting) {\n        var _a;\n        if (meeting == null)\n            return;\n        this.videoEnabled = meeting.self.videoEnabled;\n        (_a = meeting.self) === null || _a === void 0 ? void 0 : _a.addListener('videoUpdate', this.onVideoUpdate);\n    }\n    disconnectedCallback() {\n        var _a;\n        (_a = this.meeting.self) === null || _a === void 0 ? void 0 : _a.removeListener('videoUpdate', this.onVideoUpdate);\n    }\n    render() {\n        var _a, _b, _c;\n        if (this.meeting == null)\n            return null;\n        const defaults = {\n            meeting: this.meeting,\n            states: this.states,\n            size: this.size,\n            iconPack: this.iconPack,\n            t: this.t,\n        };\n        const states = this.states;\n        const initialMirrorPreference = ((_a = states === null || states === void 0 ? void 0 : states.prefs) === null || _a === void 0 ? void 0 : _a.mirrorVideo) === true || getPreference('mirror-video') === 'true';\n        return (h(Host, null, h(\"div\", { class: \"section\", part: \"tile-preview\" }, h(\"div\", { class: \"group\", part: \"tile-preview\" }, this.videoEnabled === true ? (h(\"dyte-participant-tile\", { meeting: this.meeting, participant: (_b = this.meeting) === null || _b === void 0 ? void 0 : _b.self, iconPack: this.iconPack, t: this.t, states: states, size: this.size, isPreview: true })) : (h(\"div\", { class: \"camera-off-helper\" }, h(\"dyte-participant-tile\", { meeting: this.meeting, participant: (_c = this.meeting) === null || _c === void 0 ? void 0 : _c.self, size: this.size }, h(\"div\", null, h(\"dyte-icon\", { id: \"icon\", icon: this.iconPack.video_off, tabIndex: -1, \"aria-hidden\": true }), h(\"div\", null, this.t('settings.camera_off')))))))), h(\"dyte-camera-selector\", Object.assign({}, defaults)), h(\"div\", { class: \"group\", part: \"mirror-toggle\" }, h(\"div\", { class: \"row\" }, h(\"label\", { htmlFor: \"mirror-toggle\" }, this.t('settings.mirror_video')), h(\"dyte-switch\", { checked: initialMirrorPreference, iconPack: this.iconPack, t: this.t, onDyteChange: (e) => {\n                const { checked } = e.target;\n                this.stateUpdate.emit({ prefs: { mirrorVideo: checked } });\n                setPreference('mirror-video', checked);\n            } })))));\n    }\n    static get watchers() { return {\n        \"meeting\": [\"meetingChanged\"]\n    }; }\n};\n__decorate$6([\n    SyncWithStore()\n], DyteSettingsVideo.prototype, \"meeting\", void 0);\n__decorate$6([\n    SyncWithStore()\n], DyteSettingsVideo.prototype, \"states\", void 0);\n__decorate$6([\n    SyncWithStore()\n], DyteSettingsVideo.prototype, \"size\", void 0);\n__decorate$6([\n    SyncWithStore()\n], DyteSettingsVideo.prototype, \"iconPack\", void 0);\n__decorate$6([\n    SyncWithStore()\n], DyteSettingsVideo.prototype, \"t\", void 0);\nDyteSettingsVideo.style = DyteSettingsVideoStyle0;\n\nconst dyteSpeakerSelectorCss = \".dyte-select{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.dyte-select:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.dyte-select{display:block;border-radius:var(--dyte-border-radius-sm, 4px);border-width:var(--dyte-border-width-none, 0);border-style:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:var(--dyte-space-3, 12px);font-size:16px;--icon-size:var(--dyte-select-chevron-size, var(--dyte-space-6, 24px));--icon-right-position:var(--dyte-select-chevron-right-position, var(--dyte-space-2, 8px));background-image:url(\\\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e\\\");background-position:right var(--icon-right-position) center;background-repeat:no-repeat;background-size:var(--icon-size) var(--icon-size);padding-right:calc(var(--icon-right-position) * 5);width:100%;max-width:100%;text-overflow:ellipsis}.inline .dyte-select{margin-top:var(--dyte-space-1, 4px);width:100%;padding-top:var(--dyte-space-1, 4px);padding-bottom:var(--dyte-space-1, 4px);padding-left:var(--dyte-space-1\\\\.5, 6px);padding-right:var(--dyte-space-1\\\\.5, 6px);padding-right:var(--dyte-space-8, 32px);font-size:14px}.row{display:flex;width:100%;align-items:center;justify-content:space-between;gap:var(--dyte-space-3, 12px)}.group{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px)}.group>*{margin-bottom:var(--dyte-space-2, 8px)}.group>*:last-child{margin-bottom:var(--dyte-space-0, 0px)}.group select{flex:1 1 0%}.inline.group{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-0\\\\.5, 2px)}.inline.group>*{margin-bottom:var(--dyte-space-0, 0px)}label{display:flex;-webkit-user-select:none;-moz-user-select:none;user-select:none;align-items:center;gap:var(--dyte-space-1, 4px);font-size:14px}.inline .container{display:flex;align-items:center;justify-content:flex-start;gap:var(--dyte-space-2, 8px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px)}\";\nconst DyteSpeakerSelectorStyle0 = dyteSpeakerSelectorCss;\n\nvar __decorate$5 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteSpeakerSelector = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /** variant */\n        this.variant = 'full';\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        this.speakerDevices = [];\n        this.currentDevices = { speaker: undefined };\n        this.deviceListUpdateListener = async () => {\n            const devices = await this.meeting.self.getSpeakerDevices();\n            this.speakerDevices = devices;\n        };\n        this.deviceUpdateListener = ({ device }) => {\n            if (device.kind === 'audiooutput') {\n                this.currentDevices = {\n                    speaker: device,\n                };\n            }\n        };\n        this.mediaPermissionUpdate = async ({ kind, message }) => {\n            if (!this.meeting)\n                return;\n            if (kind === 'audio' && message === 'ACCEPTED') {\n                this.speakerDevices = await this.meeting.self.getSpeakerDevices();\n            }\n        };\n    }\n    connectedCallback() {\n        this.meetingChanged(this.meeting);\n    }\n    disconnectedCallback() {\n        var _a, _b, _c;\n        (_a = this.meeting) === null || _a === void 0 ? void 0 : _a.self.removeListener('deviceListUpdate', this.deviceListUpdateListener);\n        (_b = this.meeting) === null || _b === void 0 ? void 0 : _b.self.removeListener('deviceUpdate', this.deviceUpdateListener);\n        (_c = this.meeting) === null || _c === void 0 ? void 0 : _c.self.addListener('mediaPermissionUpdate', this.mediaPermissionUpdate);\n    }\n    meetingChanged(meeting) {\n        if (meeting == null)\n            return;\n        writeTask(async () => {\n            var _a, _b;\n            const { self } = meeting;\n            const speakerDevices = await meeting.self.getSpeakerDevices();\n            const currentSpeakerDevice = (_a = meeting.self.getCurrentDevices()) === null || _a === void 0 ? void 0 : _a.speaker;\n            this.currentDevices = {\n                speaker: currentSpeakerDevice,\n            };\n            self.addListener('deviceListUpdate', this.deviceListUpdateListener);\n            self.addListener('deviceUpdate', this.deviceUpdateListener);\n            self.addListener('mediaPermissionUpdate', this.mediaPermissionUpdate);\n            if (currentSpeakerDevice != undefined) {\n                this.speakerDevices = [\n                    (_b = speakerDevices.find((device) => device.deviceId === currentSpeakerDevice.deviceId)) !== null && _b !== void 0 ? _b : currentSpeakerDevice,\n                    ...speakerDevices.filter((device) => device.deviceId !== currentSpeakerDevice.deviceId),\n                ];\n            }\n            else {\n                this.speakerDevices = speakerDevices;\n            }\n        });\n    }\n    testAudio() {\n        var _a;\n        (_a = this.testAudioEl) === null || _a === void 0 ? void 0 : _a.play();\n    }\n    setDevice(deviceId) {\n        var _a, _b;\n        if (disableSettingSinkId(this.meeting))\n            return;\n        const device = this.speakerDevices.find((d) => d.deviceId === deviceId);\n        this.currentDevices = {\n            speaker: device,\n        };\n        if (device != null) {\n            (_a = this.meeting) === null || _a === void 0 ? void 0 : _a.self.setDevice(device);\n            (_b = this.testAudioEl) === null || _b === void 0 ? void 0 : _b.setSinkId(device.deviceId);\n        }\n    }\n    render() {\n        if (this.meeting == null)\n            return null;\n        let unnamedSpeakerCount = 0;\n        return (h(Host, null, h(\"audio\", { preload: \"auto\", src: \"https://assets.dyte.io/ui-kit/speaker-test.mp3\", ref: (el) => (this.testAudioEl = el) }), h(\"div\", { class: 'group ' + this.variant, part: \"speaker-selection\" }, this.speakerDevices.length > 0 && !disableSettingSinkId(this.meeting) && (h(\"div\", { class: \"container\" }, h(\"label\", null, this.variant !== 'inline' && this.t('settings.speaker_output'), h(\"dyte-icon\", { icon: this.iconPack.speaker, size: \"sm\" })), h(\"div\", { class: \"row\" }, h(\"select\", { class: \"dyte-select\", onChange: (e) => this.setDevice(e.target.value) }, this.speakerDevices.map(({ deviceId, label }) => {\n            var _a;\n            return (h(\"option\", { value: deviceId, selected: ((_a = this.currentDevices.speaker) === null || _a === void 0 ? void 0 : _a.deviceId) === deviceId }, label || `Speaker ${++unnamedSpeakerCount}`));\n        }))))), this.variant === 'full' && (h(\"dyte-button\", { variant: \"secondary\", onClick: () => this.testAudio() }, h(\"dyte-icon\", { icon: this.iconPack.speaker, slot: \"start\" }), this.t('test'))))));\n    }\n    static get watchers() { return {\n        \"meeting\": [\"meetingChanged\"]\n    }; }\n};\n__decorate$5([\n    SyncWithStore()\n], DyteSpeakerSelector.prototype, \"meeting\", void 0);\n__decorate$5([\n    SyncWithStore()\n], DyteSpeakerSelector.prototype, \"states\", void 0);\n__decorate$5([\n    SyncWithStore()\n], DyteSpeakerSelector.prototype, \"size\", void 0);\n__decorate$5([\n    SyncWithStore()\n], DyteSpeakerSelector.prototype, \"iconPack\", void 0);\n__decorate$5([\n    SyncWithStore()\n], DyteSpeakerSelector.prototype, \"t\", void 0);\nDyteSpeakerSelector.style = DyteSpeakerSelectorStyle0;\n\nconst dyteSpinnerCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{box-sizing:border-box;display:block;height:var(--dyte-space-10, 40px);width:var(--dyte-space-10, 40px);--dyte-spinner-color:currentColor}.spinner{height:100%;width:100%}@keyframes spin{to{transform:rotate(360deg)}}.spinner{animation:spin 1s linear infinite;border-radius:9999px;background-color:transparent;animation-duration:1.3s}:host([size='md']){height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}:host([size='sm']){height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px)}\";\nconst DyteSpinnerStyle0 = dyteSpinnerCss;\n\nvar __decorate$4 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteSpinner = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Size */\n        this.size = 'md';\n    }\n    render() {\n        return (h(Host, { key: 'f8333e747d1132d7bc402861ad4977d4c48ce101' }, h(\"dyte-icon\", { key: '5ba9127b0a2096f7315e1b349a2c1499f7bcf20c', class: \"spinner\", icon: this.iconPack.spinner })));\n    }\n};\n__decorate$4([\n    SyncWithStore()\n], DyteSpinner.prototype, \"iconPack\", void 0);\n__decorate$4([\n    SyncWithStore()\n], DyteSpinner.prototype, \"size\", void 0);\nDyteSpinner.style = DyteSpinnerStyle0;\n\nconst dyteSwitchCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{box-sizing:border-box;display:inline-flex;height:var(--dyte-space-6, 24px);width:var(--dyte-space-10, 40px);align-items:center;padding:var(--dyte-space-1, 4px);border-radius:9999px;background-color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52));cursor:pointer}.switch{box-sizing:border-box;height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);background-color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));border-radius:9999px;transition-property:var(--dyte-transition-property, all);transition-duration:200ms}:host(.checked){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity))}:host(.checked) .switch{transform:translateX(100%)}:host([readonly]),:host([disabled]){cursor:not-allowed;opacity:0.6}\";\nconst DyteSwitchStyle0 = dyteSwitchCss;\n\nvar __decorate$3 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteSwitch = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.dyteChange = createEvent(this, \"dyteChange\", 4);\n        /** Whether the switch is enabled/checked */\n        this.checked = false;\n        /** Whether switch is readonly */\n        this.readonly = false;\n        /** Whether switch is readonly */\n        this.disabled = false;\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        this.onClick = () => {\n            if (!this.readonly && !this.disabled) {\n                this.checked = !this.checked;\n            }\n        };\n        this.onKeyPress = (e) => {\n            if (this.readonly)\n                return;\n            switch (e.key) {\n                // Enter or Space\n                case 'Enter':\n                case ' ':\n                    this.checked = !this.checked;\n                    break;\n            }\n        };\n    }\n    connectedCallback() {\n        this.checkedChange(this.checked);\n    }\n    checkedChange(checked) {\n        this.checked = checked;\n        this.dyteChange.emit(checked);\n    }\n    render() {\n        return (h(Host, { key: '873702f9dfe5cff8482944e50c3d18cdbcc83185', role: \"switch\", tabIndex: this.disabled && 0, \"aria-readonly\": this.readonly, \"aria-checked\": this.checked, \"aria-disabled\": this.disabled, class: { checked: this.checked }, onClick: this.onClick, onKeyPress: this.onKeyPress }, h(\"div\", { key: '01d727f8cbe301d7a1134b522dabd0d9a202923f', class: \"switch\", part: \"switch\" })));\n    }\n    static get watchers() { return {\n        \"checked\": [\"checkedChange\"]\n    }; }\n};\n__decorate$3([\n    SyncWithStore()\n], DyteSwitch.prototype, \"iconPack\", void 0);\n__decorate$3([\n    SyncWithStore()\n], DyteSwitch.prototype, \"t\", void 0);\nDyteSwitch.style = DyteSwitchStyle0;\n\nconst dyteTextComposerViewCss = \".chat-input {\\n  position: relative;\\n  z-index: 10;\\n  box-sizing: border-box;\\n  display: flex;\\n  flex-direction: column;\\n  border-top-left-radius: var(--dyte-border-radius-md, 8px);\\n  border-top-right-radius: var(--dyte-border-radius-md, 8px)\\n}\\n\\n  .chat-input textarea {\\n  --tw-bg-opacity: 1;\\n  background-color: rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));\\n  box-sizing: border-box;\\n  padding: var(--dyte-space-3, 12px);\\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255))\\n}\\n\\n  .chat-input textarea::-moz-placeholder {\\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255))\\n}\\n\\n  .chat-input textarea::placeholder {\\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255))\\n}\\n\\n  .chat-input textarea {\\n  font-family: var(--dyte-font-family, sans-serif);\\n  outline: 2px solid transparent;\\n  outline-offset: 2px;\\n  resize: none;\\n  overflow-y: auto;\\n  border-width: var(--dyte-border-width-none, 0);\\n  border-style: none;\\n  min-height: 60px;\\n  font-size: 14px\\n}\\n\\n@container chatcontainer (height < 360px) {\\n  textarea {\\n    height: 30px !important;\\n    min-height: 30px !important\\n  }\\n}\\n\\n.text-error {\\n  left: var(--dyte-space-0, 0px);\\n  z-index: 10;\\n  margin-top: var(--dyte-space-1, 4px);\\n  margin-left: var(--dyte-space-1, 4px);\\n  display: flex;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n  align-items: center;\\n  justify-content: flex-start;\\n  border-radius: var(--dyte-border-radius-sm, 4px);\\n  --tw-border-opacity: 1;\\n  border-color: rgba(var(--dyte-colors-warning, 255 205 7) / var(--tw-border-opacity));\\n  --tw-bg-opacity: 1;\\n  background-color: rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));\\n  padding-left: var(--dyte-space-2, 8px);\\n  padding-right: var(--dyte-space-2, 8px);\\n  font-size: 12px;\\n  font-weight: 600;\\n  --tw-text-opacity: 1;\\n  color: rgba(var(--dyte-colors-warning, 255 205 7) / var(--tw-text-opacity));\\n  border: 1px solid\\n}\\n\\n#warning-indicator {\\n  margin-right: var(--dyte-space-1, 4px);\\n  height: var(--dyte-space-3, 12px);\\n  width: var(--dyte-space-3, 12px)\\n}\\n\\n.text-error.breached {\\n  --tw-border-opacity: 1;\\n  border-color: rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-border-opacity));\\n  --tw-text-opacity: 1;\\n  color: rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))\\n}\";\nconst DyteTextComposerViewStyle0 = dyteTextComposerViewCss;\n\nvar __decorate$2 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteTextComposerView = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.onTextChange = createEvent(this, \"textChange\", 7);\n        /** Disable the text input (default = false) */\n        this.disabled = false;\n        /** Boolean to indicate if rate limit is breached */\n        this.rateLimitBreached = false;\n        /** Keydown event handler function */\n        this.keyDownHandler = () => { };\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        this.maxLengthBreached = 0;\n        this.onInputHandler = () => {\n            const text = this.$textArea.value.trim();\n            this.maybeResize(text);\n            this.checkLength(text);\n            this.onTextChange.emit(text);\n        };\n        this.maybeResize = (text) => {\n            const newLines = [...text.matchAll(/\\n/g)].length;\n            this.$textArea.style.height = `${Math.min(200, 60 + 20 * newLines)}px`;\n        };\n    }\n    componentDidLoad() {\n        if (this.maxLength) {\n            this.$textArea.maxLength = this.maxLength;\n        }\n        const text = this.$textArea.value.trim();\n        if (text !== '') {\n            this.maybeResize(text);\n        }\n        this.$textArea.focus();\n    }\n    /** Sets value of the text input */\n    async setText(text, focus = false) {\n        this.$textArea.value = text;\n        this.maybeResize(text);\n        if (focus) {\n            this.$textArea.focus();\n        }\n        this.checkLength(text);\n        this.onTextChange.emit(text);\n    }\n    checkLength(text) {\n        // unicode code length\n        const textLen = text.length;\n        if (textLen + 10 >= this.maxLength) {\n            this.maxLengthBreached = text.length;\n        }\n        else if (textLen + 10 < this.maxLength && this.maxLengthBreached > 0) {\n            this.maxLengthBreached = 0;\n        }\n    }\n    render() {\n        return (h(\"div\", { key: '61ed661cf0660b1fc1b4a7efb76ade09d536145d', class: \"chat-input\", part: \"chat-input-container\" }, this.maxLengthBreached > 0 && (h(\"div\", { key: '97aecab3860485a146fe4725ebe05bfb010baefa', class: 'text-error ' + (this.maxLengthBreached === this.maxLength ? 'breached' : '') }, h(\"dyte-icon\", { key: 'daebcf9e4728ea6a9efe79f0b1a781a863bd465d', id: \"warning-indicator\", icon: this.iconPack.warning, part: \"warning-indicator\" }), ' ', this.maxLengthBreached, \" / \", this.maxLength, \" \", this.t('chat.max_limit_warning'))), this.rateLimitBreached && (h(\"div\", { key: '92f309d491682582352bdc48b73f06fa9ab49bde', class: 'text-error breached' }, h(\"dyte-icon\", { key: '7ff7d2636801892348061ea60473dd846f0d2b1d', id: \"warning-indicator\", icon: this.iconPack.warning, part: \"warning-indicator\" }), ' ', this.t('chat.rate_limit_error'))), h(\"textarea\", { key: '386477d46285c144ec055cf48bf59b5dbff3989c', ref: (el) => (this.$textArea = el), placeholder: this.placeholder, disabled: this.disabled, onInput: this.onInputHandler, onKeyDown: this.keyDownHandler, part: \"chat-input\", value: this.value })));\n    }\n};\n__decorate$2([\n    SyncWithStore()\n], DyteTextComposerView.prototype, \"iconPack\", void 0);\n__decorate$2([\n    SyncWithStore()\n], DyteTextComposerView.prototype, \"t\", void 0);\nDyteTextComposerView.style = DyteTextComposerViewStyle0;\n\nvar __decorate$1 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteTextMessage = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /** Date object of now, to calculate distance between dates */\n        this.now = new Date();\n        /** Whether the message is continued by same user */\n        this.isContinued = false;\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Language */\n        this.t = useLanguage();\n        /** show message in bubble */\n        this.showBubble = false;\n    }\n    render() {\n        return (h(Host, { key: 'e082f0075f22f97890614d9b15899a0ed09ade61' }, !this.isContinued && (h(ChatHead, { key: '4b825acf9ef68956ff3ce22227de8b411adb34a1', name: this.message.displayName, time: this.message.time, now: this.now })), h(\"div\", { key: 'fdeaa70cd0f2b5bc0576e81269af073724081c5f', class: {\n                body: true,\n                bubble: this.showBubble,\n            }, part: \"body\" }, h(\"div\", { key: '6ecfefe0b50f26759757e88024e050551d32f370', class: { text: true, emoji: hasOnlyEmojis(this.message.message) } }, h(TextMessageView, { key: '8272d97cf01cd17426607194a9c39c6152db6e2c', message: this.message.message })))));\n    }\n};\n__decorate$1([\n    SyncWithStore()\n], DyteTextMessage.prototype, \"iconPack\", void 0);\n__decorate$1([\n    SyncWithStore()\n], DyteTextMessage.prototype, \"t\", void 0);\n\nconst dyteTextMessageViewCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.text{word-break:break-word;display:block;overflow-wrap:break-word;line-height:1.375}.text.emoji{font-size:24px}\";\nconst DyteTextMessageViewStyle0 = dyteTextMessageViewCss;\n\nconst DyteTextMessageView = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /** Renders text as markdown (default = true) */\n        this.isMarkdown = false;\n    }\n    render() {\n        return (h(\"p\", { key: '0bfd2379f422f2ec89f13714fd40ca29b73bed0d', class: { text: true, emoji: hasOnlyEmojis(this.text) } }, this.isMarkdown ? h(\"dyte-markdown-view\", { text: this.text }) : this.text));\n    }\n};\nDyteTextMessageView.style = DyteTextMessageViewStyle0;\n\nconst dyteTooltipCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{--background-color:var(--dyte-tooltip-background-color, rgb(var(--dyte-colors-background-600, 60 60 60)));--color:var(--dyte-tooltip-color, rgb(var(--dyte-colors-text-1000, 255 255 255)));display:inline-flex}#trigger{display:block;width:100%;flex:1 1 0%}.tooltip{max-width:var(--dyte-space-64, 256px);position:fixed;z-index:20;display:none;width:-moz-max-content;width:max-content;padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);padding-top:var(--dyte-space-1, 4px);padding-bottom:var(--dyte-space-1, 4px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);font-size:12px}.tooltip,#arrow{position:absolute;background-color:var(--background-color);color:var(--color)}#arrow{position:absolute;height:var(--dyte-space-2, 8px);width:var(--dyte-space-2, 8px);transform:rotate(45deg)}:host([variant='primary']){--background-color:rgb(var(--dyte-colors-brand-500, 33 96 253));--color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}:host([kind='block']){display:block}\";\nconst DyteTooltipStyle0 = dyteTooltipCss;\n\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteMenu = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.dyteOpenChange = createEvent(this, \"dyteOpenChange\", 7);\n        /** Tooltip label */\n        this.label = '';\n        /** Tooltip variant */\n        this.variant = 'secondary';\n        /** Disabled */\n        this.disabled = false;\n        /** Open */\n        this.open = false;\n        /** Tooltip kind */\n        this.kind = 'inline';\n        /** Placement of menu */\n        this.placement = 'top';\n        /** Delay before showing the tooltip */\n        this.delay = 0;\n        this.isInFocus = false;\n        this.showMenu = () => {\n            if (this.disabled)\n                return;\n            this.isInFocus = true;\n            setTimeout(() => {\n                if (this.isInFocus) {\n                    this.tooltipEl.style.display = 'block';\n                    this.update();\n                    this.dyteOpenChange.emit(true);\n                    if (this.size === 'sm') {\n                        setTimeout(() => {\n                            if (this.isInFocus) {\n                                this.hideMenu();\n                            }\n                        }, 1000);\n                    }\n                }\n            }, this.delay);\n        };\n        this.hideMenu = () => {\n            if (this.open || this.disabled)\n                return;\n            this.isInFocus = false;\n            this.tooltipEl.style.display = 'none';\n            this.dyteOpenChange.emit(false);\n        };\n    }\n    componentDidLoad() {\n        this.triggerEl.addEventListener('focusin', this.showMenu);\n        this.triggerEl.addEventListener('mouseenter', this.showMenu);\n        this.triggerEl.addEventListener('focusout', this.hideMenu);\n        this.triggerEl.addEventListener('mouseleave', this.hideMenu);\n        writeTask(() => {\n            this.openChanged(this.open);\n        });\n    }\n    disconnectedCallback() {\n        if (!this.triggerEl)\n            return;\n        this.triggerEl.removeEventListener('focusin', this.showMenu);\n        this.triggerEl.removeEventListener('mouseenter', this.showMenu);\n        this.triggerEl.removeEventListener('focusout', this.hideMenu);\n        this.triggerEl.removeEventListener('mouseleave', this.hideMenu);\n        this.triggerEl = undefined;\n    }\n    openChanged(open) {\n        if (open) {\n            this.showMenu();\n        }\n        else {\n            this.hideMenu();\n        }\n    }\n    update() {\n        computePosition(this.triggerEl, this.tooltipEl, {\n            placement: this.placement,\n            middleware: [offset(8), flip(), shift({ padding: 5 }), arrow({ element: this.arrowEl })],\n        }).then(({ x, y, placement, middlewareData }) => {\n            Object.assign(this.tooltipEl.style, {\n                left: `${x}px`,\n                top: `${y}px`,\n            });\n            const { x: arrowX, y: arrowY } = middlewareData.arrow;\n            const staticSide = {\n                top: 'bottom',\n                right: 'left',\n                bottom: 'top',\n                left: 'right',\n            }[placement.split('-')[0]];\n            Object.assign(this.arrowEl.style, {\n                left: arrowX != null ? `${arrowX}px` : '',\n                top: arrowY != null ? `${arrowY}px` : '',\n                right: '',\n                bottom: '',\n                [staticSide]: '-4px',\n            });\n        });\n    }\n    render() {\n        return (h(Host, { key: '408cc292b9ee81259eb1bb4b9df70eb2adf469a7' }, h(\"span\", { key: '4fb7a6d6ebe5a15dfe2e016c6a8e83f6c1571463', part: \"trigger\", id: \"trigger\", ref: (el) => (this.triggerEl = el) }, h(\"slot\", { key: '7cec3218611b38d3de272f80b21aaf2406d6ea46' })), h(\"div\", { key: '0bcf3a675eb667b2604d9f69fc8cf5c125ef0c5c', part: \"tooltip\", class: \"tooltip\", id: \"tooltip\", role: \"tooltip\", ref: (el) => (this.tooltipEl = el) }, h(\"div\", { key: '51965a748edbb9ec286fc3f89a34e93e30ec958e', id: \"arrow\", ref: (el) => (this.arrowEl = el), part: \"arrow\" }), this.label, h(\"slot\", { key: '6149d55b7fa3b346161d02d793717f5f839fafff', name: \"tooltip\" }))));\n    }\n    static get watchers() { return {\n        \"open\": [\"openChanged\"]\n    }; }\n};\n__decorate([\n    SyncWithStore()\n], DyteMenu.prototype, \"size\", void 0);\nDyteMenu.style = DyteTooltipStyle0;\n\nexport { DyteAudioVisualizer as dyte_audio_visualizer, DyteAvatar as dyte_avatar, DyteBreakoutRoomManager as dyte_breakout_room_manager, DyteBreakoutRoomParticipants as dyte_breakout_room_participants, DyteBreakoutRoomsManager as dyte_breakout_rooms_manager, DyteBroadcastMessageModal as dyte_broadcast_message_modal, DyteButton as dyte_button, DyteCameraSelector as dyte_camera_selector, DyteChannelCreator as dyte_channel_creator, DyteChannelDetails as dyte_channel_details, DyteChannelHeader as dyte_channel_header, DyteChannelSelectorView as dyte_channel_selector_view, DyteChat as dyte_chat, DyteChatComposerView as dyte_chat_composer_view, DyteChatMessage as dyte_chat_message, DyteChatMessagesUi as dyte_chat_messages_ui, DyteChatMessagesUiPaginated as dyte_chat_messages_ui_paginated, DyteChatSearchResults as dyte_chat_search_results, DyteConfirmationModal as dyte_confirmation_modal, DyteCounter as dyte_counter, DyteDebugger as dyte_debugger, DyteDebuggerAudio as dyte_debugger_audio, DyteDebuggerScreenShare as dyte_debugger_screenshare, DyteDebuggerSystem as dyte_debugger_system, DyteDebuggerVideo as dyte_debugger_video, DyteDialog as dyte_dialog, DyteDialogManager as dyte_dialog_manager, DyteDraftAttachmentView as dyte_draft_attachment_view, DyteEmojiPicker as dyte_emoji_picker, DyteEmojiPickerButton as dyte_emoji_picker_button, DyteFileMessage as dyte_file_message, DyteFileMessageView as dyte_file_message_view, DyteFilePickerButton as dyte_file_picker_button, DyteIcon as dyte_icon, DyteImageMessage as dyte_image_message, DyteImageMessageView as dyte_image_message_view, DyteImageViewer as dyte_image_viewer, DyteJoinStage as dyte_join_stage, DyteLeaveMeeting as dyte_leave_meeting, DyteLogo as dyte_logo, DyteMarkdownView as dyte_markdown_view, DyteMeeting as dyte_meeting, DyteMenu$1 as dyte_menu, DyteMenuItem as dyte_menu_item, DyteMenuList as dyte_menu_list, DyteMessageView as dyte_message_view, DyteMicrophoneSelector as dyte_microphone_selector, DyteMuteAllConfirmation as dyte_mute_all_confirmation, DyteNotification as dyte_notification, DyteNotifications as dyte_notifications, DyteOverlayModal as dyte_overlay_modal, DytePaginatedList as dyte_paginated_list, DyteParticipantTile as dyte_participant_tile, DytePermissionsMessage as dyte_permissions_message, DyteSettings as dyte_settings, DyteSettingsAudio as dyte_settings_audio, DyteSettingsVideo as dyte_settings_video, DyteSpeakerSelector as dyte_speaker_selector, DyteSpinner as dyte_spinner, DyteSwitch as dyte_switch, DyteTextComposerView as dyte_text_composer_view, DyteTextMessage as dyte_text_message, DyteTextMessageView as dyte_text_message_view, DyteMenu as dyte_tooltip };\n","/*\nWildEmitter.js is a slim little event emitter by @henrikjoreteg largely based\non @visionmedia's Emitter from UI Kit.\n\nWhy? I wanted it standalone.\n\nI also wanted support for wildcard emitters like this:\n\nemitter.on('*', function (eventName, other, event, payloads) {\n\n});\n\nemitter.on('somenamespace*', function (eventName, payloads) {\n\n});\n\nPlease note that callbacks triggered by wildcard registered events also get\nthe event name as the first argument.\n*/\n\nvar wildemitter = WildEmitter$1;\n\nfunction WildEmitter$1() { }\n\nWildEmitter$1.mixin = function (constructor) {\n    var prototype = constructor.prototype || constructor;\n\n    prototype.isWildEmitter= true;\n\n    // Listen on the given `event` with `fn`. Store a group name if present.\n    prototype.on = function (event, groupName, fn) {\n        this.callbacks = this.callbacks || {};\n        var hasGroup = (arguments.length === 3),\n            group = hasGroup ? arguments[1] : undefined,\n            func = hasGroup ? arguments[2] : arguments[1];\n        func._groupName = group;\n        (this.callbacks[event] = this.callbacks[event] || []).push(func);\n        return this;\n    };\n\n    // Adds an `event` listener that will be invoked a single\n    // time then automatically removed.\n    prototype.once = function (event, groupName, fn) {\n        var self = this,\n            hasGroup = (arguments.length === 3),\n            group = hasGroup ? arguments[1] : undefined,\n            func = hasGroup ? arguments[2] : arguments[1];\n        function on() {\n            self.off(event, on);\n            func.apply(this, arguments);\n        }\n        this.on(event, group, on);\n        return this;\n    };\n\n    // Unbinds an entire group\n    prototype.releaseGroup = function (groupName) {\n        this.callbacks = this.callbacks || {};\n        var item, i, len, handlers;\n        for (item in this.callbacks) {\n            handlers = this.callbacks[item];\n            for (i = 0, len = handlers.length; i < len; i++) {\n                if (handlers[i]._groupName === groupName) {\n                    //console.log('removing');\n                    // remove it and shorten the array we're looping through\n                    handlers.splice(i, 1);\n                    i--;\n                    len--;\n                }\n            }\n        }\n        return this;\n    };\n\n    // Remove the given callback for `event` or all\n    // registered callbacks.\n    prototype.off = function (event, fn) {\n        this.callbacks = this.callbacks || {};\n        var callbacks = this.callbacks[event],\n            i;\n\n        if (!callbacks) return this;\n\n        // remove all handlers\n        if (arguments.length === 1) {\n            delete this.callbacks[event];\n            return this;\n        }\n\n        // remove specific handler\n        i = callbacks.indexOf(fn);\n        if (i !== -1) {\n            callbacks.splice(i, 1);\n            if (callbacks.length === 0) {\n                delete this.callbacks[event];\n            }\n        }\n        return this;\n    };\n\n    /// Emit `event` with the given args.\n    // also calls any `*` handlers\n    prototype.emit = function (event) {\n        this.callbacks = this.callbacks || {};\n        var args = [].slice.call(arguments, 1),\n            callbacks = this.callbacks[event],\n            specialCallbacks = this.getWildcardCallbacks(event),\n            i,\n            len,\n            listeners;\n\n        if (callbacks) {\n            listeners = callbacks.slice();\n            for (i = 0, len = listeners.length; i < len; ++i) {\n                if (!listeners[i]) {\n                    break;\n                }\n                listeners[i].apply(this, args);\n            }\n        }\n\n        if (specialCallbacks) {\n            len = specialCallbacks.length;\n            listeners = specialCallbacks.slice();\n            for (i = 0, len = listeners.length; i < len; ++i) {\n                if (!listeners[i]) {\n                    break;\n                }\n                listeners[i].apply(this, [event].concat(args));\n            }\n        }\n\n        return this;\n    };\n\n    // Helper for for finding special wildcard event handlers that match the event\n    prototype.getWildcardCallbacks = function (eventName) {\n        this.callbacks = this.callbacks || {};\n        var item,\n            split,\n            result = [];\n\n        for (item in this.callbacks) {\n            split = item.split('*');\n            if (item === '*' || (split.length === 2 && eventName.slice(0, split[0].length) === split[0])) {\n                result = result.concat(this.callbacks[item]);\n            }\n        }\n        return result;\n    };\n\n};\n\nWildEmitter$1.mixin(WildEmitter$1);\n\nvar WildEmitter = wildemitter;\n\nfunction getMaxVolume (analyser, fftBins) {\n  var maxVolume = -Infinity;\n  analyser.getFloatFrequencyData(fftBins);\n\n  for(var i=4, ii=fftBins.length; i < ii; i++) {\n    if (fftBins[i] > maxVolume && fftBins[i] < 0) {\n      maxVolume = fftBins[i];\n    }\n  }\n  return maxVolume;\n}\n\n\nvar audioContextType;\nif (typeof window !== 'undefined') {\n  audioContextType = window.AudioContext || window.webkitAudioContext;\n}\n// use a single audio context due to hardware limits\nvar audioContext = null;\nvar hark = function(stream, options) {\n  var harker = new WildEmitter();\n\n  // make it not break in non-supported browsers\n  if (!audioContextType) return harker;\n\n  //Config\n  var options = options || {},\n      smoothing = (options.smoothing || 0.1),\n      interval = (options.interval || 50),\n      threshold = options.threshold,\n      play = options.play,\n      history = options.history || 10,\n      running = true;\n\n  // Ensure that just a single AudioContext is internally created\n  audioContext = options.audioContext || audioContext || new audioContextType();\n\n  var sourceNode, fftBins, analyser;\n\n  analyser = audioContext.createAnalyser();\n  analyser.fftSize = 512;\n  analyser.smoothingTimeConstant = smoothing;\n  fftBins = new Float32Array(analyser.frequencyBinCount);\n\n  if (stream.jquery) stream = stream[0];\n  if (stream instanceof HTMLAudioElement || stream instanceof HTMLVideoElement) {\n    //Audio Tag\n    sourceNode = audioContext.createMediaElementSource(stream);\n    if (typeof play === 'undefined') play = true;\n    threshold = threshold || -50;\n  } else {\n    //WebRTC Stream\n    sourceNode = audioContext.createMediaStreamSource(stream);\n    threshold = threshold || -50;\n  }\n\n  sourceNode.connect(analyser);\n  if (play) analyser.connect(audioContext.destination);\n\n  harker.speaking = false;\n\n  harker.suspend = function() {\n    return audioContext.suspend();\n  };\n  harker.resume = function() {\n    return audioContext.resume();\n  };\n  Object.defineProperty(harker, 'state', { get: function() {\n    return audioContext.state;\n  }});\n  audioContext.onstatechange = function() {\n    harker.emit('state_change', audioContext.state);\n  };\n\n  harker.setThreshold = function(t) {\n    threshold = t;\n  };\n\n  harker.setInterval = function(i) {\n    interval = i;\n  };\n\n  harker.stop = function() {\n    running = false;\n    harker.emit('volume_change', -100, threshold);\n    if (harker.speaking) {\n      harker.speaking = false;\n      harker.emit('stopped_speaking');\n    }\n    analyser.disconnect();\n    sourceNode.disconnect();\n  };\n  harker.speakingHistory = [];\n  for (var i = 0; i < history; i++) {\n      harker.speakingHistory.push(0);\n  }\n\n  // Poll the analyser node to determine if speaking\n  // and emit events if changed\n  var looper = function() {\n    setTimeout(function() {\n\n      //check if stop has been called\n      if(!running) {\n        return;\n      }\n\n      var currentVolume = getMaxVolume(analyser, fftBins);\n\n      harker.emit('volume_change', currentVolume, threshold);\n\n      var history = 0;\n      if (currentVolume > threshold && !harker.speaking) {\n        // trigger quickly, short history\n        for (var i = harker.speakingHistory.length - 3; i < harker.speakingHistory.length; i++) {\n          history += harker.speakingHistory[i];\n        }\n        if (history >= 2) {\n          harker.speaking = true;\n          harker.emit('speaking');\n        }\n      } else if (currentVolume < threshold && harker.speaking) {\n        for (var i = 0; i < harker.speakingHistory.length; i++) {\n          history += harker.speakingHistory[i];\n        }\n        if (history == 0) {\n          harker.speaking = false;\n          harker.emit('stopped_speaking');\n        }\n      }\n      harker.speakingHistory.shift();\n      harker.speakingHistory.push(0 + (currentVolume > threshold));\n\n      looper();\n    }, interval);\n  };\n  looper();\n\n  return harker;\n};\n\nexport { hark as h };\n","const sm = 640;\nconst md = 768;\nconst lg = 1080;\nconst xl = 2160;\nconst breakpoints = {\n\tsm: sm,\n\tmd: md,\n\tlg: lg,\n\txl: xl\n};\n\n/**\n * Get the screen breakpoint from a given width\n * @param width The width of the container\n * @returns The screen breakpoint value\n */\nconst getSize = (width) => {\n    if (width >= breakpoints.lg)\n        return 'lg';\n    else if (width >= breakpoints.md)\n        return 'md';\n    else\n        return 'sm';\n};\n\nexport { getSize as g };\n","/**\n * Scroll to bottom of an element.\n *\n * Works in all browsers - just that in Safari, the smooth scrolling doesn't work.\n * @param el The bottom of which element you want to scroll down to\n */\nconst smoothScrollToBottom = (el, smooth = true) => {\n    if (el == null)\n        return;\n    el.scrollTo({ top: el.scrollHeight, behavior: smooth ? 'smooth' : 'auto' });\n};\n\nexport { smoothScrollToBottom as s };\n","import { h } from './index-08f4416b.js';\nimport { M as MAX_TEXT_LENGTH, j as extractReplyBlock, s as stripOutReplyBlock, f as parseRichText } from './chat-d3096b6e.js';\n\nconst renderLink = (content) => {\n    return (h(\"a\", { class: \"link\", href: content, target: \"_blank\", rel: \"noopener noreferrer\" }, content));\n};\nconst renderBold = (content) => {\n    if (typeof content === 'string') {\n        return h(\"b\", null, content);\n    }\n    return h(\"b\", null, renderTokens(content));\n};\nconst renderItalic = (content) => {\n    if (typeof content === 'string') {\n        return h(\"i\", null, content);\n    }\n    return h(\"i\", null, renderTokens(content));\n};\nconst renderStrikethrough = (content) => {\n    if (typeof content === 'string') {\n        return h(\"s\", null, content);\n    }\n    return h(\"b\", null, renderTokens(content));\n};\nconst renderPlainText = (content) => {\n    if (typeof content === 'string') {\n        return content;\n    }\n    return h(\"p\", null, renderTokens(content));\n};\nconst renderTokens = (tokens) => {\n    return tokens.map((token) => {\n        switch (token.type) {\n            case 'a':\n                if (typeof token.content === 'string') {\n                    return renderLink(token.content);\n                }\n            case 'b':\n                return renderBold(token.content);\n            case 'i':\n                return renderItalic(token.content);\n            case 's':\n                return renderStrikethrough(token.content);\n            case 'q':\n                return h(\"span\", { class: \"block-quote\" });\n            case 'plain_text':\n            default:\n                return renderPlainText(token.content);\n        }\n    });\n};\nconst TextMessageView = ({ message }) => {\n    const slicedMessage = message.slice(0, MAX_TEXT_LENGTH);\n    const withReply = extractReplyBlock(slicedMessage, true);\n    const withoutReply = stripOutReplyBlock(slicedMessage);\n    return (h(\"p\", null,\n        withReply.length !== 0 && (h(\"blockquote\", null, withReply.split('\\n').map((line) => {\n            const tokens = parseRichText(line);\n            return h(\"p\", null, renderTokens(tokens));\n        }))),\n        withoutReply.split('\\n').map((line) => {\n            const tokens = parseRichText(line);\n            return h(\"p\", null, renderTokens(tokens));\n        })));\n};\n\nexport { TextMessageView as T };\n"],"names":["differenceInMinutes","oldDate","newDate","diff","getTime","Math","round","abs","elapsedDuration","minutes","concat","hours","days","weeks","formatDateTime","date","toDateString","toLocaleTimeString","ChatHead","_ref","name","time","now","h","class","shorten","formatName","title","symbolTag","reWhitespace","reTrimStart","baseTrim","string","slice","index","length","test","charAt","trimmedEndIndex","replace","NAN","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","toNumber","value","isObjectLike","baseGetTag","isSymbol","isObject","other","valueOf","isBinary","now$1","root","Date","FUNC_ERROR_TEXT","nativeMax","max","nativeMin","min","debounce","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","args","thisArg","undefined","apply","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","setTimeout","timeWaiting","remainingWait","debounced","isInvoking","arguments","this","leadingEdge","clearTimeout","cancel","flush","drawBarsVisualizer","canvas","volume","halfwaySlice","nSlices","sample","Array","map","_","i","width","height","context","getContext","x","sliceWidth","slicePadding","clearRect","fillStyle","fillRect","color","getComputedStyle","getPropertyValue","strokeStyle","lineCap","lineWidth","beginPath","item","y","sliceHeight","moveTo","lineTo","stroke","__decorate$Z","decorators","target","key","desc","d","c","r","Object","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","DyteAudioVisualizer","constructor","hostRef","registerInstance","variant","iconPack","defaultIconPack","t","useLanguage","hideMuted","isScreenShare","connectedCallback","participantChanged","participant","componentDidLoad","visualizer","disconnectedCallback","_a","_b","_c","hark","stop","audioUpdateListener","removeListener","screenShareUpdateListener","audioEnabled","audioTrack","stream","MediaStream","addTrack","calcVolume","_ref2","screenShareEnabled","screenShareTracks","audio","video","addListener","play","interval","on","dBs","prevVolume","audioVol","render","Host","bars","visible","ref","el","part","icon","mic_off","watchers","SyncWithStore","prototype","style","__decorate$Y","DyteAvatar","imageState","getAvatar","picture","src","loaded","loading","onLoad","onError","initials","getInitials","__decorate$X","DyteBreakoutRoomManager","onParticipantsAdd","createEvent","onParticipantDelete","onRoomJoin","deleteRoom","updateRoom","allowDelete","isDragMode","defaultExpanded","editingTitleRoomId","newTitle","showExpandedCard","glowingCard","permissionsUpdateListener","permissions","meeting","self","connectedMeetings","reset","onEditClick","roomTitle","emit","id","glowCard","room","writeTask","inputTextEl","focus","select","onDrop","e","currentTarget","HTMLParagraphElement","classList","remove","onAssign","onDragOver","add","preventDefault","allParticipants","getAllConnectedParticipants","isParent","canEditMeetingTitle","canAlterConnectedMeetings","isActive","off","onDragLeave","getAssignmentHint","assigningParticipants","participants","toggleCardDisplay","onJoin","onTitleChanged","renderPeer","displayPictureUrl","find","p","participantIdentifier","displayName","size","userId","renderExpandedCardMaybe","onClick","renderParticipantsMaybe","role","dismiss","placeholder","disabled","minlength","onChange","onKeyPress","people","label","checkmark","edit","delete","kind","mode","canSwitchConnectedMeetings","meta","meetingId","chevron_up","chevron_down","__decorate$W","DyteBreakoutRoomParticipants","onSelectedParticipantsUpdate","onAllToggled","onParticipantsDragging","participantIds","search","participantsToShow","selectedParticipantIds","isDragging","onSearchInput","onDragStart","updateSelectedParticipants","onDragEnd","selected","includes","onToggleAll","checked","selectedParticipants","meetingChanged","searchChanged","filter","getParticipants","participantsChanged","toLowerCase","type","autocomplete","onInput","dragging","draggable","people_checked","__decorate$V","DyteBreakoutRoomsManager","_this","stateUpdate","roomConfig","rooms","step","applyingChanges","ephemeralStatusText","updateLocalState","payload","stateManager","updateCurrentState","draftState","currentState","assign","resetRoomCount","meetings","onAddNewRoom","addNewMeeting","selectorRef","scrollTo","top","scrollHeight","behavior","onRoomUpdate","event","detail","updateMeetingTitle","onRoomDelete","allConnectedMeetings","deleteMeeting","unassignParticipant","unassignParticipants","onUnassignAll","unassignAllParticipants","assignParticipantsToRoom","destinationMeetingId","assignParticipantsToMeeting","setEphemeralStatus","handleClose","store","activeBreakoutRoomsManager","active","enableConfirmationModal","modalType","activeConfirmationModal","header","content","cancelText","ctaText","applyChanges","onClose","closeBreakout","close","discardChanges","async","onSelectedParticipantsChanged","BreakoutRoomsManager","fetchRoomState","getConnectedMeetings","text","onCreateRooms","addNewMeetings","toggleDragMode","assignParticipantsRandomly","unassignedParticipants","joinRoom","participantId","forEach","updateAllParticipants","getStatusText","statusText","getApproxDistribution","num","deselectAll","shouldShowOnlyRoomSwitcher","getPermittedRooms","cMeeting","renderMainRoomMaybe","canSwitchToParentMeeting","parentMeeting","onUpdate","states","renderRoomSwitcher","breakout_rooms","idx","onDelete","renderLoading","renderRoomConfig","minValue","onValueChange","val","slot","shuffle","flatMap","m","hasLocalChanges","__decorate$U","DyteBroadcastMessageModal","messagePayload","to","message","successMessage","activeBroadcastMessageModal","sendMessage","__decorate$T","DyteButton","reverse","__decorate$S","DyteCameraSelector","videoDevices","canProduceVideo","stageStateListener","deviceListUpdateListener","_ref3","devices","device","deviceUpdateListener","_ref4","currentDevice","mediaPermissionUpdateListener","_ref5","getVideoDevices","currentVideoDevice","getCurrentDevices","deviceId","_d","_e","stage","setDevice","unnamedVideoCount","video_on","_ref6","__decorate$R","DyteChannelCreator","_this2","switchChannel","channelName","searchQuery","selectedMemberIds","Set","focusedMemberIndex","showAllMembersList","allMembers","Map","inputTextRef","searchInputTextRef","focusOnSearch","selectText","onClickHandler","members","all","toArray","selfId","member","set","createChannel","from","newChannel","chat","visibility","isDirectMessage","activeChannelCreator","onMemberAdd","keyDownHandler","filteredMembers","lastMemberId","values","at","forceUpdate","$el","renderMemberSelector","has","selectedMembers","get","disableInput","trim","onKeyDown","$li","scrollIntoView","block","inline","getElement","__decorate$Q","DyteChannelDetails","renderMembers","__decorate$P","DyteChannelHeader","searchDismissed","back","showChannelDetailsDialog","showSearchBar","showBackButton","onChannelChanged","$searchInput","channel","getChannelMembers","then","renderChannelDetails","open","onDyteDialogClose","searching","chevron_left","join","__decorate$O","DyteChannelSelectorView","channelChange","disableSearch","hideAvatar","viewAs","showDropdown","calculateListHeight","$listEl","slotEl","shadowRoot","querySelector","assignedElements","offsetHeight","$searchEl","window","innerHeight","getFilteredChannels","channels","toggleDropdown","getChannelById","getTotalUnreads","reduce","acc","curr","unreadCount","onChannelClickHandler","resizeObserver","ResizeObserver","observe","disconnect","getTimeLabel","messageDate","today","yesterday","setDate","getDate","firstDayOfWeek","getDay","hour","minute","weekdays","Intl","DateTimeFormat","day","month","year","format","filteredChannels","shouldShowDropdown","dropdown","scrollbar","list","selectedChannelId","avatarUrl","latestMessage","isMarkdown","latestMessageTime","__decorate$N","DyteChat","chatUpdateListener","_ref7","channelId","displayFilter","addToChatGroup","chatGroups","chatPermissionUpdateListener","canSend","chatPublic","canSendTextMessage","canSendFiles","files","config","defaultConfig","disablePrivateChat","canPinMessages","privatePresetFilter","unreadCountGroups","everyone","selectedGroup","dropzoneActivated","showLatestMessageButton","canPrivateMessage","canSendPrivateTexts","canSendPrivateFiles","emojiPickerEnabled","chatRecipientId","editingMessage","replyMessage","selectorState","creatingChannel","showPinnedMessages","channelMap","handleFilesDataTransfer","dataTransfer","items","file","isFileMessagingAllowed","sendImageMessage","getRecipientPeerIds","sendFileMessage","disconnectMeeting","_f","isPrivateChatSupported","joined","onParticipantUpdate","onChannelCreateOrUpdate","getFilteredParticipants","presetName","selectedParticipant","usePaginatedChat","isGroupCall","updateUnreadCountGroups","obj","updateRecipients","targetKey","generateChatGroupKey","isTextMessagingAllowed","TEMPORARY_CHANNEL_PREFIX","createDMChannel","cleanup","memberId","onQuotedMessageDismiss","chan","allChannels","isDirectMessageChannel","sort","a","b","alphabeticalSorter","membersWithChannel","getMemberDisplayName","membersWithoutChannel","matcher","getDMComparator","every","memberIds","dms","nonTemporaryChannel","onNewMessageHandler","isChatViewType","sendMessageToChannel","replyTo","onEditMessageHandler","editTextMessage","onEditCancel","onSearchHandler","onSearchDismissed","onChannelCreateClicked","onPinMessage","pinned","unpin","pin","onDeleteMessage","deleteMessage","getChannelItems","stripOutReplyBlock","getPrivateChatRecipients","onTogglePinnedMessages","renderPinnedMessagesHeader","host","addEventListener","onEditMessageInit","flags","isReply","isEdit","removeEventListener","oldMeeting","chatPrivate","canReceive","__internals__","features","hasFeature","FlagsmithFeatureFlags","PINNED_MESSAGES","pinParticipant","viewType","entries","entry","contentBoxSize","inlineSize","initializeChatGroups","chatGroupsChanged","unreadCounts","lastReadTimestamp","chatUnreadTimestamps","messages","onDisplayFilterChanged","newFilter","oldFilter","parsedMessage","parseMessageForTarget","targetUserIds","isEditedMessage","push","peerIds","channelSwitchListener","renderHeadlessComponents","Fragment","renderComposerUI","uiProps","quotedMessage","storageKey","isEditing","disableEmojiPicker","DISABLE_EMOJI_PICKER","maxLength","maxTextLimit","rateLimits","inputTextPlaceholder","onNewMessage","onEditMessage","renderFullChat","create_channel_illustration","selectedChannel","onSearch","onBack","query","selfUserId","chatMessages","onChannelChange","attach","__decorate$M","messageLimits","messagesSent","startTime","DyteChatComposerView","period","maxInvocations","fileToUpload","isEmojiPickerOpen","disableSendButton","rateLimitsBreached","textMessage","sendFile","image","handleSendMessage","currentTime","checkRateLimitBreached","handleEditMessage","handleEditCancel","onTextChangeHandler","MAX_TEXT_LENGTH","gracefulStorage","setItem","onKeyDownHandler","shiftKey","onFileUploadHandler","onQuotedMessageDismissHandler","$textComposer","setText","bind","getItem","componentWillUpdate","timeRemainingForReset","onPickerClose","onDyteEmojiClicked","attachment","onDeleteAttachment","onTextChange","rateLimitBreached","onFileChange","delay","send","__decorate$L","DyteChatMessage","reply","isSelf","canEdit","canDelete","canReply","canPin","disableControls","alignRight","leftAlign","renderMessage","isContinued","isUnread","showBubble","child","setAttribute","JSON","stringify","node","cloneNode","appendChild","onReply","onPinned","onEdit","isTouchDevice","navigator","maxTouchPoints","renderControls","placement","renderAvatar","senderDisplayPicture","__decorate$K","DyteChatMessagesUi","observingEl","autoScrollEnabled","onScroll","scrollTop","clientHeight","scrollToBottom","smoothScrollToBottom","$chat","observeMessage","intersectionObserver","getMessageActions","actions","onMessageActionHandler","actionId","IntersectionObserver","document","hasFocus","isIntersecting","getAttribute","updateNow","timeout","request","requestAnimationFrame","chatChanged","componentDidRender","selectedBucketChanged","unobserve","cancelAnimationFrame","prevMessage","reachedFirstUnread","authorName","hideAuthorName","hideMetadata","onAction","url","link","onPreview","__decorate$J","DyteChatMessagesUiPaginated","editMessageInit","permissionsChanged","pageSize","lastReadMessageIndex","maybeMarkChannelAsRead","latestMsg","channelIndex","markLastReadMessage","getChatMessages","timestamp","reversed","getMessages","createChatNodes","data","createChatNode","displayPicture","waitlisted","action","$paginatedListRef","onNewNode","onNodeDelete","onNodeUpdate","slotted","children","channelChanged","pagesAllowed","fetchData","createNodes","selectedItemId","emptyListLabel","__decorate$I","DyteChatSearchResults","searchMessages","nodeRenderer","__decorate$H","DyteConfirmationModal","keyPressListener","onConfirmation","state","__decorate$G","DyteCounter","input","watchStateHandler","toString","increment","decrement","subtract","isNaN","__decorate$F","DyteDebugger","activeTab","isMobileMainVisible","progress","progressUpdate","changeTab","tab","activeDebugger","getActiveTab","defaults","showSystemsTab","getBattery","hide","mic_on","chevron_right","share_screen_start","hidden","settings","getNetworkBasedMediaHealth","_ref8","stats","networkHealth","allStatsHealths","statsObj","verdict","getPacketLossVerdict","_ref9","packetLossPercentage","getJitterVerdict","_ref0","jitterInMS","getBitrateVerdict","_ref1","bitrate","getBatteryLevelVerdict","_ref11","batteryLevelPercentage","batteryLevelVerdict","getBatteryChargingVerdict","_ref12","charging","dischargingTimeInSeconds","__decorate$E","DyteDebuggerAudio","isNetworkOpen","isDevicesOpen","audioProducerFormattedStats","audioProducerScoreStats","networkBasedMediaHealth","devicesHealth","mediaScoreUpdateListener","_ref13","isScreenshare","scoreStats","audioDevices","getAudioDevices","audioProducerScoreStatsChanged","newAudioProducerScoreStats","newStatsList","description","packetsLostPercentage","jitter","formattedStatsObj","__decorate$D","DyteDebuggerScreenShare","videoProducerFormattedStats","videoProducerScoreStats","_ref14","videoProducerScoreStatsChanged","newVideoProducerScoreStats","cpuLimitations","bandwidthLimitations","__decorate$C","DyteDebuggerSystem","isBatterySectionOpen","batterySectionHealth","battery","batteryFormattedStats","batteryUpdateListener","level","newBatteryStats","chargingTimeInSeconds","chargingTime","dischargingTime","_ref10","getOverallBatteryVerdict","toggleSection","section","__decorate$B","DyteDebuggerVideo","_ref15","videoUpdateListener","videoEnabled","__decorate$A","DyteDialog","hideCloseButton","disableEscapeKey","keydownListener","__decorate$z","DyteDialogManager","updateStoreState","cancelJoinStage","status","leave","joinStage","stageStatusUpdateListener","activeJoinStage","onImageClose","activeSettings","activeLeaveConfirmation","activePermissionsMessage","enabled","activeOverlayModal","dataState","accept","reject","dataConfig","onDyteJoinStage","onDyteLeaveStage","activeMuteAllConfirmation","__decorate$y","DyteDraftAttachmentView","filePreview","fileReader","FileReader","generatePreview","readAsDataURL","onDeleteClickHandler","onAttachmentChange","onload","componentWillLoad","__decorate$x","DyteEmojiPicker","pickerClose","emojiClicked","filterVal","filteredEmojis","fetch","json","fetchEmojis","emojiList","handleInputChange","regex","RegExp","matchAll","emoji","handleEmojiClick","mapEmojiList","__decorate$w","DyteEmojiPickerButton","emoji_multiple","getExtension","split","pop","getFileSize","floor","log","toFixed","downloadFile","sanitizeLink","res","ok","blobURL","URL","createObjectURL","blob","createElement","href","download","fallback","pathname","getFileName","fallbackName","click","__decorate$v","DyteFileMessage","body","bubble","__decorate$u","DyteFileMessageView","__decorate$t","DyteFilePickerButton","uploadFile","fileInputField","onchange","validity","valid","__decorate$s","parseIcon","parse","DyteIcon","innerHTML","__decorate$r","DyteImageMessage","image_off","full_screen_maximize","__decorate$q","DyteImageMessageView","__decorate$p","DyteImageViewer","keypressListener","handleOutsideClick","stopPropagation","__decorate$o","DyteJoinStage","leaveStage","isLoading","Render","element","props","childProps","deepProps","spinner","__decorate$n","DyteLeaveMeeting","canEndMeeting","isBreakoutRoomsActive","isChildMeeting","canJoinMainRoom","kickParticipant","handleLeave","leaveRoom","handleJoinMainRoom","moveParticipants","handleEndMeeting","kickAll","supportsConnectedMeetings","some","cMeet","__decorate$m","DyteLogo","configChanged","configLogo","designTokens","logo","logoUrl","meetingLogo","elements","alt","DyteMarkdownView","restoreEmpty","tag","renderCallback","renderLink","rel","renderBold","renderTokens","renderItalic","renderStrikethrough","renderPlainText","tokens","token","lines","isCodeBlock","line","parseRichText","whiteSpace","overflow","slicedMessage","withReply","extractReplyBlock","withoutReply","__decorate$l","DyteMeeting","statesUpdate","roomJoinedListener","updateStates","waitlistedListener","roomLeftListener","_ref16","roomLeftState","_ref17","uiState","permissionModalSettings","socketConnectionUpdateListener","_ref18","leaveRoomTimer","loadConfigFromPreset","applyDesignSystem","leaveOnUnmount","gridLayout","authErrorListener","ev","handleResize","provideDyteDesignSystem","documentElement","clearListeners","theme","generateConfig","showSetupScreen","once","handleChangingMeeting","roomJoined","listenState","getSize","clientWidth","newStates","deepMerge","elementProps","layout","asHost","__decorate$k","DyteMenu$1","clickedThis","offset","menuListEl","display","update","computePosition","triggerEl","middleware","flip","shift","padding","_ref19","left","__decorate$j","DyteMenuItem","__decorate$i","DyteMenuList","__decorate$h","DyteMessageView","renderActions","__decorate$g","DyteMicrophoneSelector","audioinputDevices","canProduceAudio","currentDevices","_ref20","_ref21","currentAudioDevice","disableSettingSinkId","unnamedMicCount","_ref22","__decorate$f","DyteMuteAllConfirmation","allowUnmute","onMuteAll","disableAllAudio","__decorate$e","DyteNotification","notificationChanged","notification","duration","iconVariant","TextMessageView","button","DEFAULT_NOTIFICATION_DURATION","DEFAULT_NOTIFICATION_CONFIG","freeze","notifications","participant_joined","participant_left","participant_joined_waitlist","polls","webinar","tab_sync","recording_started","recording_stopped","notification_sounds","notification_duration","participant_joined_sound_notification_limit","participant_chat_message_sound_notification_limit","__decorate$d","getEnabledSounds","sounds","keys","DyteNotifications","enabledSounds","addStagePeersListeners","participantJoinedListener","participantLeftListener","removeStagePeersListeners","onDyteNotification","playSound","onRecordingUpdate","recordingState","recording","stop_recording","statesChanged","_g","_h","isLivestream","pollUpdateListener","stageRequestAccepted","stageRequestRejected","newStageRequests","disconnectTimeout","waitlistedParticipantJoinedListener","waitlistedParticipantLeftListener","activeTabUpdateListener","peerStageStatusListener","_j","DyteNotificationsAudio","canPlayParticipantJoinedSound","socketState","canAcceptWaitingRequests","acceptWaitingRoomRequest","_ref23","random","canPlayChatSound","_ref24","newPoll","createdByUserId","poll","createdBy","_ref25","preview","speaker","video_off","_ref26","reconnectionAttempt","reconnected","wifi","disconnected","activePlugin","plugins","plugin","screenShareParticipant","stageStatus","grantAccess","_ref27","count","showLivestream","stageEnabled","acceptStageRequests","parseConfig","notificationSoundsEnabled","prefs","muteNotificationSounds","permission","apiErrorListener","_ref28","trace","warning","sendNotificationListener","_ref29","visibilityState","handleDismiss","acceptWaitingRequests","onDyteNotificationDismiss","__decorate$c","DyteOverlayModal","__decorate$b","DytePaginatedList","autoScroll","rerenderBoolean","shouldRenderNewNodes","hasNewNodesToRender","showEmptyListLabel","pagesToRender","addNodeToRender","rerender","oldLength","flat","page","newItem","shouldRerender","onItemChanged","newItemId","oldItemId","loadFirstPage","loadBottom","loadTop","$topRef","$bottomRef","$paginatedList","loadPage","oldestTimestamp","timeMs","onPageRendered","newestTimestamp","addToStart","firstPage","unshift","newPage","removeLastPageIfNeeded","lastPage","removeFromStart","onDownArrowClicked","__decorate$a","DyteParticipantTile","tileLoad","tileUnload","isPinned","mediaConnectionError","nameTagPosition","isPreview","_ref30","onPause","PLAY_PARTICIPANT_TILE_VIDEO_ON_PAUSE","logger","warn","onPlaying","playTimeout","onVideoRef","videoEl","registerVideoElement","videoElement","deregisterVideoElement","mediaConnectionUpdateListener","recv","consuming","producing","mediaState","isMirrored","mirrorVideo","mirror","videoFit","autoPlay","playsInline","muted","onlyChildren","__decorate$9","steps","DytePermissionsMessage","currentStep","svgSteps","continue","reload","location","getImage","replaceAll","replacement","svgReq","stepURL","svg","nextStep","openMacSystemSettings","l","mediaType","stepsTimer","deviceType","isMobile","currentSteps","browserName","Promise","currentImages","getLink","media","isDeniedBySystem","permissionsMessage","mediaPermissions","getTitle","getMessage","osName","browser","os","systemErrorKey","browserErrorKey","showMacDeepLink","__decorate$8","DyteSettings","stageStatusListener","networkStatus","poorConnectionListener","_ref31","score","__decorate$7","DyteSettingsAudio","initialNotificationSoundsPreference","getPreference","htmlFor","onDyteChange","setPreference","__decorate$6","DyteSettingsVideo","onVideoUpdate","videoState","initialMirrorPreference","tabIndex","__decorate$5","DyteSpeakerSelector","speakerDevices","getSpeakerDevices","_ref32","mediaPermissionUpdate","_ref33","currentSpeakerDevice","testAudio","testAudioEl","setSinkId","unnamedSpeakerCount","preload","_ref34","__decorate$4","DyteSpinner","__decorate$3","DyteSwitch","dyteChange","readonly","checkedChange","__decorate$2","DyteTextComposerView","maxLengthBreached","onInputHandler","$textArea","maybeResize","checkLength","newLines","textLen","__decorate$1","DyteTextMessage","hasOnlyEmojis","DyteTextMessageView","__decorate","DyteMenu","dyteOpenChange","isInFocus","showMenu","tooltipEl","hideMenu","openChanged","arrow","arrowEl","_ref35","middlewareData","arrowX","arrowY","staticSide","right","bottom","wildemitter","WildEmitter$1","mixin","isWildEmitter","groupName","fn","callbacks","hasGroup","group","_groupName","releaseGroup","len","handlers","splice","indexOf","listeners","call","specialCallbacks","getWildcardCallbacks","eventName","audioContextType","WildEmitter","AudioContext","webkitAudioContext","audioContext","harker","sourceNode","fftBins","analyser","smoothing","threshold","history","running","createAnalyser","fftSize","smoothingTimeConstant","Float32Array","frequencyBinCount","jquery","HTMLAudioElement","HTMLVideoElement","createMediaElementSource","createMediaStreamSource","connect","destination","speaking","suspend","resume","onstatechange","setThreshold","setInterval","speakingHistory","looper","currentVolume","maxVolume","getFloatFrequencyData","ii","getMaxVolume","breakpoints","smooth"],"sourceRoot":""}