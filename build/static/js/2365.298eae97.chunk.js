"use strict";(self.webpackChunkjagruti_software=self.webpackChunkjagruti_software||[]).push([[2365],{2365:(e,s,r)=>{r.r(s),r.d(s,{default:()=>W});var a=r(89379),o=r(65043),l=r(99904),n=r(12327),i=r(22345),t=r(26259),d=r(49157),c=r(18353),h=r(88190),m=r(10591),u=r(20782),p=r(97877),w=r(6221),x=r(23194),g=r(72679),b=r(7493),j=r(75541),f=r(22166),y=r(73216),v=r(35475),P=r(42905),A=r(80899),N=r(86897),C=r(91036),k=r(25601),S=r(91364),R=r(78639),B=r(70579);const W=(0,P.A)(()=>{const e=(0,f.wA)(),s=(0,y.Zp)(),[r,P]=(0,o.useState)(!1),[W,Y]=(0,o.useState)(!1),[E,F]=(0,o.useState)(!1),[z,Q]=(0,o.useState)(""),{showChangePasswordModal:T=!1,tempToken:q=null,loading:I}=(0,f.d4)(e=>e.User||{}),D=(0,N.Wx)({enableReinitialize:!0,initialValues:{email:"",password:""},validationSchema:A.Ik({email:A.Yj().required("Please Enter Your Email"),password:A.Yj().required("Please Enter Your Password")}),onSubmit:async r=>{e({type:"user/loginUser",payload:{values:(0,a.A)((0,a.A)({},r),{},{email:r.email}),navigate:s}})}}),U=(0,N.Wx)({enableReinitialize:!0,initialValues:{newPassword:"",confirmPassword:""},validationSchema:A.Ik({newPassword:A.Yj().min(8,"Password must be at least 8 characters").required("Please Enter Your New Password"),confirmPassword:A.Yj().oneOf([A.KR("newPassword"),null],"Passwords must match").required("Please Confirm Your New Password")}),onSubmit:async r=>{try{const a=q;await(0,k.hQF)({oldPassword:D.values.password,newPassword:r.newPassword,token:a}),C.oR.success("Password changed successfully!"),e((0,S.bQ)()),e({type:"user/loginUser",payload:{values:{email:D.values.email,password:r.newPassword},navigate:s}})}catch(l){var a,o;console.error("Password change error:",l),Q((null===(a=l.response)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.message)||"Failed to change password")}}});return document.title="Login",(0,B.jsxs)(o.Fragment,{children:[(0,B.jsx)(j.A,{children:(0,B.jsx)("div",{className:"auth-page-content",style:{minHeight:"100vh",backgroundColor:"#f4f6f9"},children:(0,B.jsxs)(l.A,{children:[(0,B.jsx)(n.A,{children:(0,B.jsx)(i.A,{lg:12,children:(0,B.jsx)("div",{style:{textAlign:"center",marginTop:"3rem",marginBottom:"2rem",color:"#6c757d"},children:(0,B.jsx)("div",{className:"d-inline-block auth-logo",children:(0,B.jsx)("h2",{style:{fontWeight:600,color:"#4a90e2"},children:"Jagruti Rehab Center Dashboard"})})})})}),(0,B.jsx)(n.A,{className:"justify-content-center",children:(0,B.jsx)("div",{className:"col-12 col-md-8 col-lg-5",children:(0,B.jsx)(d.A,{className:"shadow",style:{border:"none",borderRadius:"20px",backgroundColor:"#ffffff",marginTop:"1rem"},children:(0,B.jsxs)(c.A,{style:{padding:"2rem"},children:[(0,B.jsxs)("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[(0,B.jsx)("h4",{style:{color:"#1f2937",fontWeight:"600"},children:"Welcome Back!"}),(0,B.jsx)("p",{style:{color:"#6b7280",marginTop:"0.5rem"},children:"Sign in to continue."})]}),(0,B.jsx)("div",{children:(0,B.jsxs)(w.A,{onSubmit:e=>(e.preventDefault(),D.handleSubmit(),!1),action:"#",children:[(0,B.jsxs)("div",{className:"mb-3",children:[(0,B.jsx)(b.A,{htmlFor:"email",className:"form-label",style:{fontWeight:"500",color:"#374151"},children:"Email"}),(0,B.jsx)(g.A,{name:"email",className:"form-control",placeholder:"Enter your email",type:"email",autoComplete:"on",onChange:D.handleChange,onBlur:D.handleBlur,value:D.values.email||"",invalid:!(!D.touched.email||!D.errors.email),style:{height:"45px",borderRadius:"10px",borderColor:"#ced4da"}}),D.touched.email&&D.errors.email?(0,B.jsx)(x.A,{type:"invalid",children:D.errors.email}):null]}),(0,B.jsxs)("div",{className:"mb-3",children:[(0,B.jsx)(b.A,{className:"form-label",htmlFor:"password-input",style:{fontWeight:"500",color:"#374151"},children:"Password"}),(0,B.jsxs)("div",{className:"position-relative auth-pass-inputgroup mb-3",style:{position:"relative"},children:[(0,B.jsx)(g.A,{name:"password",value:D.values.password||"",type:r?"text":"password",className:"form-control pe-5",placeholder:"Enter Password",autoComplete:"on",onChange:D.handleChange,onBlur:D.handleBlur,invalid:!(!D.touched.password||!D.errors.password),style:{height:"45px",borderRadius:"10px",borderColor:"#ced4da"}}),D.touched.password&&D.errors.password?(0,B.jsx)(x.A,{type:"invalid",children:D.errors.password}):null,(0,B.jsx)("button",{className:"btn btn-link position-absolute",type:"button",onClick:()=>P(!r),style:{top:"50%",transform:"translateY(-50%)",right:"10px",color:"#6c757d",fontSize:"1.1rem"},children:(0,B.jsx)("i",{className:"ri-eye-fill align-middle"})})]}),(0,B.jsx)("div",{style:{textAlign:"right",marginBottom:"0.25rem"},children:(0,B.jsx)(v.N_,{to:"/forgot-password",className:"text-muted",style:{fontSize:"0.9rem"},children:"Forgot password?"})})]}),(0,B.jsx)("div",{className:"d-grid",children:(0,B.jsxs)(t.A,{disabled:I,color:"success",type:"submit",style:{backgroundColor:"#10b981",border:"none",borderRadius:"10px",height:"45px",fontWeight:"500",fontSize:"1rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:[(0,B.jsx)(R.A,{isTrue:I,children:(0,B.jsx)("div",{className:"spinner-border spinner-border-sm",role:"status",style:{width:"1rem",height:"1rem"},children:(0,B.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),"Sign In"]})})]})})]})})})})]})})}),(0,B.jsxs)(h.A,{isOpen:T,toggle:()=>e((0,S.bQ)()),centered:!0,children:[(0,B.jsx)(m.A,{toggle:()=>e((0,S.bQ)()),children:"Change Password"}),(0,B.jsx)(u.A,{children:(0,B.jsxs)(w.A,{onSubmit:e=>(e.preventDefault(),U.handleSubmit(),!1),children:[(0,B.jsxs)("div",{className:"mb-3",children:[(0,B.jsx)(b.A,{htmlFor:"newPassword",className:"form-label",style:{fontWeight:"500",color:"#374151"},children:"New Password"}),(0,B.jsxs)("div",{className:"position-relative auth-pass-inputgroup mb-3",style:{position:"relative"},children:[(0,B.jsx)(g.A,{name:"newPassword",className:"form-control pe-5",placeholder:"Enter new password",type:W?"text":"password",onChange:U.handleChange,onBlur:U.handleBlur,value:U.values.newPassword||"",invalid:!(!U.touched.newPassword||!U.errors.newPassword),style:{height:"45px",borderRadius:"10px",borderColor:"#ced4da"}}),U.touched.newPassword&&U.errors.newPassword?(0,B.jsx)(x.A,{type:"invalid",children:U.errors.newPassword}):null,(0,B.jsx)("button",{className:"btn btn-link position-absolute",type:"button",onClick:()=>Y(!W),style:{top:"50%",transform:"translateY(-50%)",right:"10px",color:"#6c757d",fontSize:"1.1rem"},children:(0,B.jsx)("i",{className:"ri-eye-fill align-middle"})})]})]}),(0,B.jsxs)("div",{className:"mb-3",children:[(0,B.jsx)(b.A,{htmlFor:"confirmPassword",className:"form-label",style:{fontWeight:"500",color:"#374151"},children:"Confirm Password"}),(0,B.jsxs)("div",{className:"position-relative auth-pass-inputgroup mb-3",style:{position:"relative"},children:[(0,B.jsx)(g.A,{name:"confirmPassword",className:"form-control pe-5",placeholder:"Confirm new password",type:E?"text":"password",onChange:U.handleChange,onBlur:U.handleBlur,value:U.values.confirmPassword||"",invalid:!(!U.touched.confirmPassword||!U.errors.confirmPassword),style:{height:"45px",borderRadius:"10px",borderColor:"#ced4da"}}),U.touched.confirmPassword&&U.errors.confirmPassword?(0,B.jsx)(x.A,{type:"invalid",children:U.errors.confirmPassword}):null,(0,B.jsx)("button",{className:"btn btn-link position-absolute",type:"button",onClick:()=>F(!E),style:{top:"50%",transform:"translateY(-50%)",right:"10px",color:"#6c757d",fontSize:"1.1rem"},children:(0,B.jsx)("i",{className:"ri-eye-fill align-middle"})})]})]}),z&&(0,B.jsx)("div",{className:"alert alert-danger",role:"alert",children:z})]})}),(0,B.jsxs)(p.A,{children:[(0,B.jsx)(t.A,{color:"primary",onClick:()=>U.handleSubmit(),style:{borderRadius:"10px",height:"45px",fontWeight:"500"},children:"Change Password"}),(0,B.jsx)(t.A,{color:"secondary",onClick:()=>e((0,S.bQ)()),style:{borderRadius:"10px",height:"45px",fontWeight:"500"},children:"Cancel"})]})]})]})})}}]);
//# sourceMappingURL=2365.298eae97.chunk.js.map