{"version":3,"file":"static/js/4400.90fd2f04.chunk.js","mappings":"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","sources":["../node_modules/@dytesdk/ui-kit/dist/esm/index-25aba8a9.js","../node_modules/@dytesdk/ui-kit/dist/esm/dyte-recording-toggle.entry.js"],"sourcesContent":["import { a as getElement } from './index-08f4416b.js';\nimport { o as appendElement, q as removeElement, u as uiStore } from './ui-store-11740cb4.js';\n\nfunction SyncWithStore() {\n    return function (proto, propName) {\n        const { connectedCallback, disconnectedCallback } = proto;\n        proto.connectedCallback = function () {\n            const host = getElement(this);\n            const value = host[propName];\n            if (!value) {\n                const storeValue = uiStore.state[propName];\n                host[propName] = storeValue;\n                appendElement(propName, host);\n            }\n            return connectedCallback === null || connectedCallback === void 0 ? void 0 : connectedCallback.call(this);\n        };\n        proto.disconnectedCallback = function () {\n            removeElement(propName, getElement(this));\n            return disconnectedCallback === null || disconnectedCallback === void 0 ? void 0 : disconnectedCallback.call(this);\n        };\n    };\n}\n\nexport { SyncWithStore as S };\n","import { r as registerInstance, c as createEvent, h, H as Host } from './index-08f4416b.js';\nimport { c as useLanguage, a as defaultIconPack } from './ui-store-11740cb4.js';\nimport { S as SyncWithStore } from './index-25aba8a9.js';\n\nconst dyteRecordingToggleCss = \":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block}\";\nconst DyteRecordingToggleStyle0 = dyteRecordingToggleCss;\n\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n        r = Reflect.decorate(decorators, target, key, desc);\n    else\n        for (var i = decorators.length - 1; i >= 0; i--)\n            if (d = decorators[i])\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst DyteRecordingToggle = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.dyteAPIError = createEvent(this, \"dyteAPIError\", 7);\n        /** Variant */\n        this.variant = 'button';\n        /** Language */\n        this.t = useLanguage();\n        /** Icon pack */\n        this.iconPack = defaultIconPack;\n        /** Disable the button */\n        this.disabled = false;\n        this.canRecord = false;\n        this.permissionsUpdateListener = () => {\n            this.canRecord = this.meeting.self.permissions.canRecord === true;\n        };\n        this.toggleRecording = async () => {\n            var _a, _b, _c;\n            if (this.isLoading() || this.disabled)\n                return;\n            switch (this.recordingState) {\n                case 'IDLE':\n                    try {\n                        await ((_a = this.meeting) === null || _a === void 0 ? void 0 : _a.recording.start());\n                        return;\n                    }\n                    catch (_d) {\n                        this.dyteAPIError.emit({\n                            trace: this.t('recording.start'),\n                            message: this.t('recording.error.start'),\n                        });\n                    }\n                    return;\n                case 'RECORDING':\n                    try {\n                        await ((_b = this.meeting) === null || _b === void 0 ? void 0 : _b.recording.stop());\n                        return;\n                    }\n                    catch (_e) {\n                        this.dyteAPIError.emit({\n                            trace: this.t('recording.stop'),\n                            message: this.t('recording.error.stop'),\n                        });\n                    }\n                    return;\n                case 'PAUSED':\n                    try {\n                        await ((_c = this.meeting) === null || _c === void 0 ? void 0 : _c.recording.resume());\n                        return;\n                    }\n                    catch (_f) {\n                        this.dyteAPIError.emit({\n                            trace: this.t('recording.resume'),\n                            message: this.t('recording.error.resume'),\n                        });\n                    }\n                    return;\n                case 'STARTING':\n                case 'STOPPING':\n                default:\n                    return;\n            }\n        };\n        this.isLoading = () => {\n            return (this.meeting == null ||\n                this.recordingState === 'STARTING' ||\n                this.recordingState === 'STOPPING');\n        };\n    }\n    connectedCallback() {\n        this.meetingChanged(this.meeting);\n    }\n    disconnectedCallback() {\n        var _a, _b;\n        this.recordingStateUpdateListener &&\n            ((_a = this.meeting) === null || _a === void 0 ? void 0 : _a.recording.removeListener('recordingUpdate', this.recordingStateUpdateListener));\n        (_b = this.meeting) === null || _b === void 0 ? void 0 : _b.self.permissions.removeListener('permissionsUpdate', this.permissionsUpdateListener);\n    }\n    meetingChanged(meeting) {\n        if (meeting != null) {\n            this.recordingState = meeting.recording.recordingState;\n            this.permissionsUpdateListener();\n            this.recordingStateUpdateListener = (recordingState) => {\n                this.recordingState = recordingState;\n            };\n            meeting.recording.addListener('recordingUpdate', this.recordingStateUpdateListener);\n            meeting.self.permissions.addListener('permissionsUpdate', this.permissionsUpdateListener);\n        }\n    }\n    getLabel() {\n        switch (this.recordingState) {\n            case 'IDLE':\n                return 'recording.idle';\n            case 'RECORDING':\n                return 'recording.stop';\n            case 'STARTING':\n                return 'recording.starting';\n            case 'STOPPING':\n                return 'recording.stopping';\n            case 'PAUSED':\n                return 'recording.resume';\n            default:\n                return 'recording.loading';\n        }\n    }\n    getIcon() {\n        switch (this.recordingState) {\n            case 'IDLE':\n                return this.iconPack.recording;\n            case 'RECORDING':\n                return this.iconPack.stop_recording;\n            case 'STARTING':\n            case 'STOPPING':\n            default:\n                return this.iconPack.recording;\n        }\n    }\n    render() {\n        if (!this.canRecord)\n            return;\n        return (h(Host, { title: this.t(this.recordingState === 'RECORDING' ? 'recording.stop' : 'recording.idle') }, h(\"dyte-controlbar-button\", { part: \"controlbar-button\", size: this.size, iconPack: this.iconPack, onClick: this.toggleRecording, icon: this.getIcon(), isLoading: this.isLoading(), label: this.t(this.getLabel()), variant: this.variant, disabled: this.disabled })));\n    }\n    static get watchers() { return {\n        \"meeting\": [\"meetingChanged\"]\n    }; }\n};\n__decorate([\n    SyncWithStore()\n], DyteRecordingToggle.prototype, \"meeting\", void 0);\n__decorate([\n    SyncWithStore()\n], DyteRecordingToggle.prototype, \"t\", void 0);\n__decorate([\n    SyncWithStore()\n], DyteRecordingToggle.prototype, \"iconPack\", void 0);\n__decorate([\n    SyncWithStore()\n], DyteRecordingToggle.prototype, \"size\", void 0);\nDyteRecordingToggle.style = DyteRecordingToggleStyle0;\n\nexport { DyteRecordingToggle as dyte_recording_toggle };\n"],"names":["SyncWithStore","proto","propName","connectedCallback","disconnectedCallback","host","getElement","this","storeValue","uiStore","state","appendElement","call","removeElement","__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","DyteRecordingToggle","constructor","hostRef","registerInstance","dyteAPIError","createEvent","variant","t","useLanguage","iconPack","defaultIconPack","disabled","canRecord","permissionsUpdateListener","meeting","self","permissions","toggleRecording","async","_a","_b","_c","isLoading","recordingState","recording","start","_d","emit","trace","message","stop","_e","resume","_f","meetingChanged","recordingStateUpdateListener","removeListener","addListener","getLabel","getIcon","stop_recording","render","h","Host","title","part","size","onClick","icon","label","watchers","prototype","style"],"sourceRoot":""}