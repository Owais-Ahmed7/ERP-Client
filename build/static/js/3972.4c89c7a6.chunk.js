"use strict";(self.webpackChunkjagruti_software=self.webpackChunkjagruti_software||[]).push([[3972],{23972:(t,e,i)=>{i.r(e),i.d(e,{dyte_participant:()=>p,dyte_participants_stage_list:()=>l,dyte_participants_stage_queue:()=>y,dyte_participants_viewer_list:()=>u,dyte_participants_waiting_list:()=>f,dyte_sidebar_ui:()=>w});var a=i(85077),s=i(7508),n=i(77424),r=i(61674),c=i(53335),o=i(12617);var d=function(t,e,i,a){var s,n=arguments.length,r=n<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,i):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,i,a);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(r=(n<3?s(r):n>3?s(e,i,r):s(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r};const p=class{constructor(t){(0,a.r)(this,t),this.dyteSendNotification=(0,a.c)(this,"dyteSendNotification",7),this.pinnedListener=t=>{let{isPinned:e}=t;this.isPinned=e},this.toggleTileListener=t=>{let{hidden:e}=t;this.isHidden=e},this.stageListener=t=>{let{stageStatus:e}=t;this.isOnStage="ON_STAGE"===e},this.view="sidebar",this.iconPack=s.a,this.t=(0,s.c)(),this.config=s.d,this.audioEnabled=!1,this.videoEnabled=!1,this.isPinned=!1,this.isHidden=!1,this.isOnStage=!1,this.canDisableParticipantAudio=!1,this.canDisableParticipantVideo=!1,this.canKickParticipant=!1,this.canPinParticipant=!1,this.canAllowParticipantOnStage=!1,this.menuOpen=!1,this.permissionsUpdateListener=()=>{this.meetingChanged(this.meeting)},this.inviteToStageToggle=async()=>{const t=this.participant,{stage:e}=this.meeting;"ACCEPTED_TO_JOIN_STAGE"!==t.stageStatus?(this.isOnStage?(t.isPinned&&t.unpin(),await e.kick([t.userId])):(await e.grantAccess([t.userId]),this.dyteSendNotification.emit({message:"".concat(t.name," ").concat(this.t("stage.invited_notification")),trace:"join-stage-invite-".concat(t.id)})),this.isOnStage="ON_STAGE"===t.stageStatus):this.dyteSendNotification.emit({message:"".concat(t.name," ").concat(this.t("stage.invited_notification")),trace:"join-stage-".concat(t.id)})},this.handleOutsideClick=t=>{!t.composedPath().includes(this.host)&&this.menuOpen&&(this.menuOpen=!1)},this.update=()=>{const t=this.host.shadowRoot.getElementById("trigger"),e=this.host.shadowRoot.getElementById("menu-list");(0,c.c)(t,e,{placement:"bottom-end",middleware:[(0,c.b)({allowedPlacements:["bottom-end","top-end"],alignment:"end"}),(0,c.o)(4),(0,c.s)({padding:8}),(0,c.h)()]}).then(t=>{let{x:i,y:a,placement:s}=t,n=null;n="bottom-end"===s?{right:"".concat(i,"px"),top:"".concat(a,"px")}:{right:"".concat(i,"px"),bottom:"".concat(a,"px")},Object.assign(e.style,n)})},this.onMenuToggle=()=>{this.menuOpen=!this.menuOpen,this.menuOpen&&this.update()}}connectedCallback(){this.meetingChanged(this.meeting),this.participantChanged(this.participant),document.addEventListener("click",this.handleOutsideClick)}disconnectedCallback(){var t;document.removeEventListener("click",this.handleOutsideClick),null===(t=this.meeting)||void 0===t||t.self.permissions.removeListener("permissionsUpdate",this.permissionsUpdateListener),null!=this.participant&&void 0!=this.participant.removeListener&&(this.audioUpdateListener&&this.participant.removeListener("audioUpdate",this.audioUpdateListener),this.videoUpdateListener&&this.participant.removeListener("videoUpdate",this.videoUpdateListener),this.participant.removeListener("pinned",this.pinnedListener),this.participant.removeListener("unpinned",this.pinnedListener),this.participant.removeListener("stageStatusUpdate",this.stageListener),this.participant.removeListener("toggleTile",this.toggleTileListener))}meetingChanged(t){var e,i,a,n,r,c,o;if(null!=t){const{self:d}=t;this.canDisableParticipantAudio=d.permissions.canAllowParticipantAudio||d.permissions.canDisableParticipantAudio,this.canDisableParticipantVideo=d.permissions.canAllowParticipantVideo||d.permissions.canDisableParticipantVideo,this.canKickParticipant=d.permissions.kickParticipant&&!0!==(null===(e=this.meeting)||void 0===e?void 0:e.__internals__.features.hasFeature(s.F.DISABLE_KICKING))&&(!0!==(null===(i=this.meeting)||void 0===i?void 0:i.__internals__.features.hasFeature(s.F.ADMIN_CANTREMOVE_ADMIN))||"webinar_admin"!==(null===(a=this.participant)||void 0===a?void 0:a.presetName)),this.canPinParticipant=d.permissions.pinParticipant,this.canAllowParticipantOnStage=d.permissions.acceptStageRequests&&d.permissions.stageEnabled&&(!0!==(null===(n=this.meeting)||void 0===n?void 0:n.__internals__.features.hasFeature(s.F.ADMIN_CANTREMOVE_ADMIN))||"webinar_admin"!==(null===(r=this.participant)||void 0===r?void 0:r.presetName))&&(!0!==(null===(c=this.meeting)||void 0===c?void 0:c.__internals__.features.hasFeature(s.F.CANTINVITE_VIEWER))||"webinar_viewer"!==(null===(o=this.participant)||void 0===o?void 0:o.presetName)),t.self.permissions.addListener("permissionsUpdate",this.permissionsUpdateListener)}}participantChanged(t){var e;if(null!=t){if(this.audioEnabled=t.audioEnabled,this.videoEnabled=t.videoEnabled,this.isPinned=t.isPinned,this.isHidden=null!==(e=t.hidden)&&void 0!==e&&e,this.isOnStage="ON_STAGE"===t.stageStatus,this.audioUpdateListener=t=>{let{audioEnabled:e}=t;this.audioEnabled=e},this.videoUpdateListener=t=>{let{videoEnabled:e}=t;this.videoEnabled=e},void 0==t.addListener)return;t.addListener("audioUpdate",this.audioUpdateListener),t.addListener("videoUpdate",this.videoUpdateListener),t.addListener("pinned",this.pinnedListener),t.addListener("unpinned",this.pinnedListener),t.addListener("stageStatusUpdate",this.stageListener),this.participant.addListener("toggleTile",this.toggleTileListener)}}render(){var t,e,i,s,c,o,d,p,h;const l="AUDIO_ROOM"===(null===(t=this.meeting)||void 0===t?void 0:t.meta.viewType),g=(null===(e=this.meeting)||void 0===e?void 0:e.self.id)===this.participant.id,y=this.canDisableParticipantAudio&&this.audioEnabled||this.canDisableParticipantVideo&&this.videoEnabled&&!l||this.canKickParticipant||this.canPinParticipant&&this.isOnStage||this.canAllowParticipantOnStage,m=(0,r.f)((null===(i=this.participant)||void 0===i?void 0:i.name)||""),u=this.isOnStage||["GROUP_CALL","AUDIO_ROOM"].includes(null===(s=this.meeting)||void 0===s?void 0:s.meta.viewType),v={meeting:this.meeting,size:"sm",states:this.states,config:this.config,iconPack:this.iconPack,t:this.t};return(0,a.h)(a.H,{key:"6d2a340a09306d4981227b3048faeed243a14cce"},(0,a.h)("div",{class:"left",key:null===(c=this.participant)||void 0===c?void 0:c.id},(0,a.h)("dyte-avatar",{key:"bc8453dc32910051b58cf61fdd282a32955d1612",participant:this.participant,size:"sm",iconPack:this.iconPack,t:this.t}),(0,a.h)("p",{key:"ca4a796d5354d0fbe8d3358a321245a3d841a3f1",class:"name",title:m},(0,r.s)(m,16)," ",(null===(o=this.meeting)||void 0===o?void 0:o.self.id)===(null===(d=this.participant)||void 0===d?void 0:d.id)&&this.t("(you)"))),"sidebar"===this.view&&(0,a.h)("div",{key:"febaee3e2c6c2fd398d1fb05f846fbef796d73fd",class:"right"},u&&(0,a.h)("dyte-icon",{key:"7eeb84f4a67cd6fdc4b2175ac5de5e32afd50486",class:{red:!this.audioEnabled},icon:this.audioEnabled?this.iconPack.mic_on:this.iconPack.mic_off}),u&&!l&&(0,a.h)("dyte-icon",{key:"21aaa6cca2ed53deb8b1276f8f1786c1089e2dd6",class:{red:!this.videoEnabled},icon:this.videoEnabled?this.iconPack.video_on:this.iconPack.video_off}),(y||(0,n.l)({element:"dyte-participant",defaults:v,childProps:{participant:this.participant}})>0)&&(0,a.h)("div",{key:"6c7cc6c9a02e83fb1c87416b601dd1e016c3a549",class:"menu"},(0,a.h)("span",{key:"0dc87f46b4f0ceb1100a1a204f3b0dc92e042b12",id:"trigger",onClick:this.onMenuToggle},(0,a.h)("dyte-button",{key:"6e15059d18d929005ec8c820011de9046d69c5c6",variant:"ghost",kind:"icon",slot:"trigger"},(0,a.h)("dyte-icon",{key:"2424eb5e59c79fff940435486befc709b24dd5f5",class:"more",icon:this.iconPack.more_vertical}))),(0,a.h)("span",{key:"972e9250b7b434b1a6673b3924563535def9f114",id:"menu-list"},this.menuOpen&&(0,a.h)("dyte-menu-list",{key:"eb12f27f3eec66530257a9dc653f049a9b691569",iconPack:this.iconPack,t:this.t},this.canPinParticipant&&u&&!l&&(0,a.h)("dyte-menu-item",{key:"6fd8046b97eb6d97a872cf9b6b8d550d853aeaed",onClick:()=>{this.isPinned?this.participant.unpin():this.participant.pin()},iconPack:this.iconPack,t:this.t},(0,a.h)("dyte-icon",{key:"80f2a8d9b3a6ec7c4da6ca162865b296949ab07b",icon:this.isPinned?this.iconPack.pin_off:this.iconPack.pin,slot:"start"}),this.isPinned?this.t("unpin"):this.t("pin")),g&&(0,a.h)("dyte-menu-item",{key:"e784419ef130de759f507650de1bc92c6ac07c2a",iconPack:this.iconPack,t:this.t,onClick:()=>{this.isHidden?this.participant.show():this.participant.hide()}},(0,a.h)("dyte-icon",{key:"b349973219fb497d83b2a8852da0fc8558a1a51c",icon:this.isHidden?this.iconPack.minimize:this.iconPack.maximize,slot:"start"}),this.meeting.self.hidden?this.t("maximize"):this.t("minimize")),this.canDisableParticipantAudio&&u&&this.audioEnabled&&(0,a.h)("dyte-menu-item",{key:"a6aa845f9ed193e7aaecb8dfc13390b2aab672c3",iconPack:this.iconPack,t:this.t,onClick:()=>{this.participant.disableAudio()}},(0,a.h)("dyte-icon",{key:"e0ac24333a670684d60802edc085c0eb918571c0",icon:this.iconPack.mic_off,slot:"start"}),this.t("mute")),this.canDisableParticipantVideo&&u&&this.videoEnabled&&(0,a.h)("dyte-menu-item",{key:"07ec0b852abd9dc7739343ce5953fbdc8c4e9408",iconPack:this.iconPack,t:this.t,onClick:()=>{this.participant.disableVideo()}},(0,a.h)("dyte-icon",{key:"1cccc03618c740983971502a9bbb50ab86947170",icon:this.iconPack.video_off,slot:"start"}),this.t("participants.turn_off_video")),this.canAllowParticipantOnStage&&(null===(p=this.participant)||void 0===p?void 0:p.id)!==(null===(h=this.meeting)||void 0===h?void 0:h.self.id)&&(0,a.h)("dyte-menu-item",{key:"2ee271afaf0b99eb6b793abe337777251b4d2ce8",iconPack:this.iconPack,t:this.t,class:this.isOnStage?"red":"",onClick:this.inviteToStageToggle},(0,a.h)("dyte-icon",{key:"3734c9fa9bb9654d2c7d1b75bf53ad051020a88d",icon:this.isOnStage?this.iconPack.leave_stage:this.iconPack.join_stage,slot:"start"}),this.isOnStage?this.t("stage.remove_from_stage"):this.t("stage.add_to_stage")),!g&&this.canKickParticipant&&(0,a.h)("dyte-menu-item",{key:"2ecb4ee36b844bd605c72a13049d1508d6bc9e62",iconPack:this.iconPack,t:this.t,class:"red",onClick:()=>{var t,e;null===(t=this.meeting)||void 0===t||t.participants.kick(null===(e=this.participant)||void 0===e?void 0:e.id)}},(0,a.h)("dyte-icon",{key:"1e328de97168baf6c5bf66eb56eb3c6017ff4f90",icon:this.iconPack.dismiss,slot:"start"}),this.t("kick")),(0,a.h)("slot",{key:"73c6d605b84d57666f083484660f269a8bc9b36e"},(0,a.h)(n.R,{key:"8dbbbf398d6ff4cd6d98d353ebb31326e99f4742",element:"dyte-participant",defaults:v,childProps:{participant:this.participant},deepProps:!0,onlyChildren:!0})))))))}get host(){return(0,a.a)(this)}static get watchers(){return{meeting:["meetingChanged"],participant:["participantChanged"]}}};d([(0,o.S)()],p.prototype,"meeting",void 0),d([(0,o.S)()],p.prototype,"states",void 0),d([(0,o.S)()],p.prototype,"iconPack",void 0),d([(0,o.S)()],p.prototype,"t",void 0),p.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:relative;display:flex;height:var(--dyte-space-14, 56px);align-items:center;justify-content:space-between;cursor:pointer;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}:host dyte-avatar{height:var(--dyte-space-8, 32px);width:var(--dyte-space-8, 32px);font-size:14px}.left{display:flex;align-items:center}.left>*{margin-right:var(--dyte-space-2, 8px)}.left>*:last-child{margin-right:var(--dyte-space-0, 0px)}.right{display:flex;align-items:center;justify-content:flex-end}.right>*{margin-left:var(--dyte-space-2, 8px)}.right>*:first-child{margin-left:var(--dyte-space-0, 0px)}.name{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}dyte-icon{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}dyte-icon.red{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}dyte-icon.more{cursor:pointer}.menu{position:relative;display:inline-block;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}#menu-list{position:absolute;top:var(--dyte-space-8, 32px) !important;right:var(--dyte-space-4, 16px) !important;z-index:20}";var h=function(t,e,i,a){var s,n=arguments.length,r=n<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,i):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,i,a);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(r=(n<3?s(r):n>3?s(e,i,r):s(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r};const l=class{constructor(t){(0,a.r)(this,t),this.config=s.d,this.hideHeader=!1,this.iconPack=s.a,this.view="sidebar",this.t=(0,s.c)(),this.search="",this.participants=[],this.createParticipantNode=t=>{const e={meeting:this.meeting,view:this.view,t:this.t,config:this.config,states:this.states,size:this.size,iconPack:this.iconPack};return(0,a.h)("div",null,(0,a.h)(n.R,{element:"dyte-participant",defaults:e,props:{role:"listitem",participant:t,key:t.id},childProps:Object.assign(Object.assign({},e),{participant:t,size:this.size}),deepProps:!0}))},this.updateStageList=()=>{this.getParticipants(this.search)}}connectedCallback(){this.meetingChanged(this.meeting),this.searchChanged(this.search)}disconnectedCallback(){const{participants:t,stage:e}=this.meeting;null!=this.meeting&&(this.participantJoinedListener&&this.meeting.participants.joined.removeListener("participantJoined",this.participantJoinedListener),this.participantLeftListener&&this.meeting.participants.joined.removeListener("participantLeft",this.participantLeftListener),t.joined.removeListener("stageStatusUpdate",this.updateStageList),null===e||void 0===e||e.removeListener("stageStatusUpdate",this.updateStageList))}meetingChanged(t){null!=t&&(this.participantJoinedListener=t=>{if("ON_STAGE"!==t.stageStatus)return;const e=this.search.toLowerCase();t.name.toLowerCase().includes(e)&&t.id.toLowerCase().includes(e)&&(this.participants=[...this.participants.filter(e=>e.id!==t.id),t])},this.participantLeftListener=t=>{this.participants=this.participants.filter(e=>e.id!==t.id)},t.participants.joined.addListener("participantJoined",this.participantJoinedListener),t.participants.joined.addListener("participantLeft",this.participantLeftListener),this.updateStageList(),null===t||void 0===t||t.participants.joined.on("stageStatusUpdate",this.updateStageList),null===t||void 0===t||t.stage.on("stageStatusUpdate",this.updateStageList))}searchChanged(t){this.getParticipants(t)}getParticipants(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.search,e="ON_STAGE"===this.meeting.stage.status?[this.meeting.self]:[];e=[...e,...this.meeting.participants.joined.toArray().filter(t=>"ON_STAGE"===t.stageStatus)],this.participants=""===t?e:e.filter(e=>{var i;return(null!==(i=e.name)&&void 0!==i?i:e.id).toLowerCase().includes(t.toLowerCase())})}render(){return(0,a.h)(a.H,{key:"1cfe52f6c91528ce8d5e733beba07f1bb7d3e080"},(0,a.h)("div",{key:"5883133588f2b11d045244d30b5a0fa118dd4d4c",class:"participants-container"},!this.hideHeader&&(0,a.h)("div",{key:"5bc3c5b64c68496d32abd2e8921c45c0a1c078a5",class:"heading-count",part:"heading-count"},this.t("participants")," (",this.participants.length,")"),(0,a.h)("dyte-virtualized-participant-list",{key:"4e709fdb9c5b04920f9ce06a7ca359e6c57d84e5",items:this.participants,renderItem:this.createParticipantNode,part:"participants",class:"participants",emptyListElement:(0,a.h)("div",{class:"empty-stage-list"},this.search.length>0?this.t("search.could_not_find"):this.t("search.empty"))})))}static get watchers(){return{meeting:["meetingChanged"],search:["searchChanged"]}}};h([(0,o.S)()],l.prototype,"meeting",void 0),h([(0,o.S)()],l.prototype,"states",void 0),h([(0,o.S)()],l.prototype,"size",void 0),h([(0,o.S)()],l.prototype,"iconPack",void 0),h([(0,o.S)()],l.prototype,"t",void 0),l.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;width:100%;flex-direction:column;font-size:14px}.participants-container{margin-bottom:var(--dyte-space-4, 16px);height:100%;width:100%}h3,.heading-count{margin:var(--dyte-space-0, 0px);display:flex;align-items:center;justify-content:center;padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:400;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));text-align:center}.heading-count{font-size:14px}.participants{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.empty-stage-list{margin-top:var(--dyte-space-4, 16px);margin-bottom:var(--dyte-space-4, 16px);text-align:center;font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}dyte-participant{width:100%}";var g=function(t,e,i,a){var s,n=arguments.length,r=n<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,i):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,i,a);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(r=(n<3?s(r):n>3?s(e,i,r):s(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r};const y=class{constructor(t){(0,a.r)(this,t),this.config=s.d,this.iconPack=s.a,this.view="sidebar",this.t=(0,s.c)(),this.stageRequestedParticipants=[],this.updateStageRequestedParticipants=()=>{this.stageRequestedParticipants=this.meeting.participants.joined.toArray().filter(t=>"REQUESTED_TO_JOIN_STAGE"===t.stageStatus)},this.acceptStageRequest=async t=>{const{userId:e}=t;await this.meeting.stage.grantAccess([e]),this.updateStageRequestedParticipants()},this.rejectStageRequest=async t=>{const{userId:e}=t;await this.meeting.stage.denyAccess([e]),this.updateStageRequestedParticipants()},this.acceptAllStageRequest=async()=>{await this.meeting.stage.grantAccess(this.stageRequestedParticipants.map(t=>t.userId)),this.updateStageRequestedParticipants()},this.denyAllStageRequest=async()=>{var t;await(null===(t=this.meeting.stage)||void 0===t?void 0:t.denyAccess(this.stageRequestedParticipants.map(t=>t.userId))),this.updateStageRequestedParticipants()},this.shouldShowStageRequests=()=>this.meeting.self.permissions.stageEnabled&&this.meeting.self.permissions.acceptStageRequests&&this.stageRequestedParticipants.length>0,this.updateRequestList=async t=>{var e,i,a,s,n,r,c;this.meeting.self.permissions.acceptStageRequests&&this.meeting.self.permissions.stageEnabled?"LIVESTREAM"===this.meeting.meta.viewType||"HIVE"===(null===(a=null===(i=null===(e=this.meeting)||void 0===e?void 0:e.self)||void 0===i?void 0:i.permissions)||void 0===a?void 0:a.mediaRoomType)?(t||(t=null!==(r=null===(n=await(null===(s=this.meeting.stage)||void 0===s?void 0:s.getAccessRequests()))||void 0===n?void 0:n.stageRequests)&&void 0!==r?r:[]),this.stageRequestedParticipants=t.map(t=>Object.assign(Object.assign({},t),{name:t.displayName}))):this.stageRequestedParticipants=null===(c=[this.meeting.self,...this.meeting.participants.joined.toArray()])||void 0===c?void 0:c.filter(t=>"REQUESTED_TO_JOIN_STAGE"===t.stageStatus):this.stageRequestedParticipants=[]}}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){const{stage:t}=this.meeting;null===t||void 0===t||t.removeListener("stageAccessRequestUpdate",this.updateRequestList)}meetingChanged(t){var e;null!=t&&(this.updateRequestList(),null===(e=t.stage)||void 0===e||e.on("stageAccessRequestUpdate",this.updateRequestList))}render(){if("sidebar"===this.view&&this.shouldShowStageRequests())return(0,a.h)("div",{class:"stage-requested-participants"},(0,a.h)("div",{class:"heading-count",part:"staged-heading-count"},this.t("stage_request.header_title")," (",this.stageRequestedParticipants.length,")"),(0,a.h)("ul",{class:"participants",part:"staged-participants"},this.stageRequestedParticipants.map(t=>(0,a.h)("li",{class:"waiting-participant",key:t.id},(0,a.h)("div",{class:"participant-details"},(0,a.h)("dyte-avatar",{participant:t,size:"sm",iconPack:this.iconPack,t:this.t}),(0,a.h)("p",{class:"name",title:t.name},t.name)),(0,a.h)("div",{class:"waitlist-controls"},(0,a.h)("dyte-tooltip",{label:this.t("stage_request.deny_request"),variant:"secondary"},(0,a.h)("dyte-button",{variant:"secondary",kind:"icon",onClick:()=>this.rejectStageRequest(t)},(0,a.h)("dyte-icon",{class:"deny",icon:this.iconPack.dismiss}))),(0,a.h)("dyte-tooltip",{label:this.t("stage_request.accept_request"),variant:"secondary"},(0,a.h)("dyte-button",{variant:"secondary",kind:"icon",onClick:()=>this.acceptStageRequest(t)},(0,a.h)("dyte-icon",{class:"accept",icon:this.iconPack.checkmark}))))))),(0,a.h)("div",{class:"bulk-actions"},(0,a.h)("dyte-button",{class:"accept-all-button",variant:"secondary",onClick:this.acceptAllStageRequest},this.t("stage_request.accept_all")),(0,a.h)("dyte-button",{class:"deny-all-button",variant:"danger",onClick:this.denyAllStageRequest},this.t("stage_request.deny_all"))))}static get watchers(){return{meeting:["meetingChanged"]}}};g([(0,o.S)()],y.prototype,"meeting",void 0),g([(0,o.S)()],y.prototype,"size",void 0),g([(0,o.S)()],y.prototype,"iconPack",void 0),g([(0,o.S)()],y.prototype,"t",void 0),y.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{margin-top:var(--dyte-space-2, 8px);display:flex;width:100%;flex-direction:column;font-size:14px}.stage-requested-participants{margin-bottom:var(--dyte-space-8, 32px)}.stage-requested-participants .bulk-actions{display:flex;gap:var(--dyte-space-2, 8px)}.stage-requested-participants .bulk-actions .accept-all-button{--tw-text-opacity:1;color:rgba(var(--dyte-colors-success, 98 165 4) / var(--tw-text-opacity))}.stage-requested-participants .bulk-actions dyte-button{flex:1 1 0%}h3,.heading-count{margin:var(--dyte-space-0, 0px);display:flex;align-items:center;justify-content:center;padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:400;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));text-align:center}.heading-count{font-size:14px}.participants{margin-top:var(--dyte-space-2, 8px);padding:var(--dyte-space-0, 0px)}.waiting-participant{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px);display:flex;align-items:center}.waiting-participant .participant-details{margin-right:auto;display:flex;align-items:center}.waiting-participant .participant-details dyte-avatar{margin-right:var(--dyte-space-2, 8px);height:var(--dyte-space-8, 32px);width:var(--dyte-space-8, 32px);flex-shrink:0;font-size:14px}.waiting-participant .participant-details .name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}@media (min-width: 1080px){.waiting-participant .participant-details .name{max-width:var(--dyte-space-40, 160px)}}.waiting-participant .waitlist-controls{display:flex}.waiting-participant .waitlist-controls dyte-button{margin-left:var(--dyte-space-2, 8px);cursor:pointer;border-radius:var(--dyte-border-radius-sm, 4px)}.waiting-participant .waitlist-controls dyte-icon.accept{--tw-text-opacity:1;color:rgba(var(--dyte-colors-success, 98 165 4) / var(--tw-text-opacity))}.waiting-participant .waitlist-controls dyte-icon.deny{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}";var m=function(t,e,i,a){var s,n=arguments.length,r=n<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,i):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,i,a);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(r=(n<3?s(r):n>3?s(e,i,r):s(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r};const u=class{constructor(t){(0,a.r)(this,t),this.updateStageViewers=()=>{this.getViewers(this.search)},this.config=s.d,this.hideHeader=!1,this.iconPack=s.a,this.view="sidebar",this.search="",this.t=(0,s.c)(),this.stageViewers=[],this.createParticipantNode=t=>(0,a.h)("dyte-participant",{role:"listitem",key:t.id,meeting:this.meeting,participant:t,view:this.view,iconPack:this.iconPack,config:this.config,t:this.t}),this.shouldShowViewers=()=>{var t,e,i;return null===(i=null===(e=null===(t=this.meeting)||void 0===t?void 0:t.self)||void 0===e?void 0:e.permissions)||void 0===i?void 0:i.stageEnabled}}connectedCallback(){this.meetingChanged(this.meeting),this.searchChanged(this.search)}meetingChanged(t){null!=t&&(this.participantJoinedListener=t=>{if("ON_STAGE"===t.stageStatus)return;const e=this.search.toLowerCase();e.length>0&&!t.name.toLowerCase().includes(e)||(this.stageViewers=[...this.stageViewers.filter(e=>e.id!==t.id),t])},this.participantLeftListener=t=>{this.stageViewers=this.stageViewers.filter(e=>e.id!==t.id)},t.participants.joined.addListener("participantJoined",this.participantJoinedListener),t.participants.joined.addListener("participantLeft",this.participantLeftListener),t.participants.joined.on("stageStatusUpdate",this.updateStageViewers),t.stage.on("stageStatusUpdate",this.updateStageViewers))}searchChanged(t){this.getViewers(t)}disconnectedCallback(){const{participants:t,stage:e}=this.meeting;this.participantJoinedListener&&this.meeting.participants.joined.removeListener("participantJoined",this.participantJoinedListener),this.participantLeftListener&&this.meeting.participants.joined.removeListener("participantLeft",this.participantLeftListener),t.joined.removeListener("stageStatusUpdate",this.updateStageViewers),e.removeListener("stageStatusUpdate",this.updateStageViewers)}getViewers(t){let e="ON_STAGE"===this.meeting.stage.status?[]:[this.meeting.self];e=[...e,...this.meeting.participants.joined.toArray()].filter(t=>"ON_STAGE"!==t.stageStatus),this.stageViewers=""===t?e:e.filter(e=>{var i;return(null!==(i=e.name)&&void 0!==i?i:e.id).toLowerCase().includes(t.toLowerCase())})}render(){if("sidebar"===this.view&&this.shouldShowViewers())return(0,a.h)("div",{class:"list"},!this.hideHeader&&(0,a.h)("div",{class:"heading-count",part:"heading-count"},this.t("viewers")," (",this.stageViewers.length,")"),(0,a.h)("dyte-virtualized-participant-list",{items:this.stageViewers,renderItem:this.createParticipantNode,class:"participants",part:"participants",style:{height:"100%"},emptyListElement:(0,a.h)("div",{class:"empty-viewers-list"},this.search.length>0?this.t("participants.errors.empty_results"):this.t("participants.empty_list"))}))}static get watchers(){return{meeting:["meetingChanged"],search:["searchChanged"]}}};m([(0,o.S)()],u.prototype,"meeting",void 0),m([(0,o.S)()],u.prototype,"size",void 0),m([(0,o.S)()],u.prototype,"iconPack",void 0),m([(0,o.S)()],u.prototype,"t",void 0),u.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;height:100%;width:100%;flex-direction:column;font-size:14px}.list{margin-bottom:var(--dyte-space-4, 16px);display:flex;height:100%;flex-direction:column}h3,.heading-count{margin:var(--dyte-space-0, 0px);align-items:center;justify-content:center;padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:400;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));text-align:center}.heading-count{font-size:14px}.participants{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.empty-viewers-list{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px);text-align:center;font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}";var v=function(t,e,i,a){var s,n=arguments.length,r=n<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,i):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,i,a);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(r=(n<3?s(r):n>3?s(e,i,r):s(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r};const f=class{constructor(t){(0,a.r)(this,t),this.config=s.d,this.iconPack=s.a,this.view="sidebar",this.t=(0,s.c)(),this.acceptWaitingRoomRequest=async t=>{await this.meeting.participants.acceptWaitingRoomRequest(t)},this.waitlistedParticipants=[],this.acceptAllWaitingRoomRequests=async()=>{await this.meeting.participants.acceptAllWaitingRoomRequest(this.waitlistedParticipants.map(t=>t.id))},this.rejectWaitingRoomRequest=async t=>{await this.meeting.participants.rejectWaitingRoomRequest(t)},this.shouldShowWaitlist=()=>"LIVESTREAM"!==this.meeting.meta.viewType&&(this.meeting.self.permissions.acceptWaitingRequests&&0!==this.waitlistedParticipants.length)}disconnectedCallback(){const{participants:t}=this.meeting;this.waitlistedParticipantJoinedListener&&t.waitlisted.removeListener("participantJoined",this.waitlistedParticipantJoinedListener),this.waitlistedParticipantLeftListener&&t.waitlisted.removeListener("participantLeft",this.waitlistedParticipantLeftListener),this.waitlistedParticipantsClearedListener&&t.waitlisted.removeListener("participantsCleared",this.waitlistedParticipantsClearedListener)}connectedCallback(){this.meetingChanged(this.meeting)}meetingChanged(t){null!=t&&(this.waitlistedParticipants=t.participants.waitlisted.toArray(),this.waitlistedParticipantJoinedListener=t=>{this.waitlistedParticipants.some(e=>e.id===t.id)||(this.waitlistedParticipants=[...this.waitlistedParticipants,t])},this.waitlistedParticipantLeftListener=t=>{this.waitlistedParticipants=this.waitlistedParticipants.filter(e=>e.id!==t.id)},this.waitlistedParticipantsClearedListener=()=>{this.waitlistedParticipants=[]},t.participants.waitlisted.addListener("participantJoined",this.waitlistedParticipantJoinedListener),t.participants.waitlisted.addListener("participantLeft",this.waitlistedParticipantLeftListener),t.participants.waitlisted.addListener("participantsCleared",this.waitlistedParticipantsClearedListener))}render(){if("sidebar"===this.view&&this.shouldShowWaitlist())return(0,a.h)("div",{class:"waiting-participants"},(0,a.h)("div",{class:"heading-count",part:"waitlisted-heading-count"},this.t("waitlist.header_title")," (",this.waitlistedParticipants.length,")"),(0,a.h)("ul",{class:"participants",part:"waitlisted-participants"},this.waitlistedParticipants.map(t=>(0,a.h)("li",{class:"waiting-participant",key:t.id},(0,a.h)("div",{class:"participant-details"},(0,a.h)("dyte-avatar",{participant:t,size:"sm",iconPack:this.iconPack,t:this.t}),(0,a.h)("p",{class:"name",title:t.name},t.name)),(0,a.h)("div",{class:"waitlist-controls"},(0,a.h)("dyte-tooltip",{label:this.t("waitlist.deny_request"),variant:"secondary"},(0,a.h)("dyte-button",{variant:"secondary",kind:"icon",onClick:()=>this.rejectWaitingRoomRequest(t.id)},(0,a.h)("dyte-icon",{class:"deny",icon:this.iconPack.dismiss}))),(0,a.h)("dyte-tooltip",{label:this.t("waitlist.accept_request"),variant:"secondary"},(0,a.h)("dyte-button",{variant:"secondary",kind:"icon",onClick:()=>this.acceptWaitingRoomRequest(t.id)},(0,a.h)("dyte-icon",{class:"accept",icon:this.iconPack.checkmark}))))))),(0,a.h)("dyte-button",{class:"accept-all-button",variant:"secondary",kind:"wide",onClick:this.acceptAllWaitingRoomRequests},this.t("waitlist.accept_all")))}static get watchers(){return{meeting:["meetingChanged"]}}};v([(0,o.S)()],f.prototype,"meeting",void 0),v([(0,o.S)()],f.prototype,"size",void 0),v([(0,o.S)()],f.prototype,"iconPack",void 0),v([(0,o.S)()],f.prototype,"t",void 0),f.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{margin-top:var(--dyte-space-4, 16px);margin-bottom:calc(var(--dyte-space-2, 8px) * -1);display:flex;width:100%;flex-direction:column;font-size:14px}.waiting-participants{margin-bottom:var(--dyte-space-8, 32px)}.waiting-participants .accept-all-button{--tw-text-opacity:1;color:rgba(var(--dyte-colors-success, 98 165 4) / var(--tw-text-opacity))}h3,.heading-count{margin:var(--dyte-space-0, 0px);display:flex;align-items:center;justify-content:center;padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:400;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));text-align:center}.heading-count{font-size:14px}.participants{margin-top:var(--dyte-space-2, 8px);padding:var(--dyte-space-0, 0px)}.waiting-participant{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px);display:flex;align-items:center}.waiting-participant .participant-details{margin-right:auto;display:flex;align-items:center}.waiting-participant .participant-details dyte-avatar{margin-right:var(--dyte-space-2, 8px);height:var(--dyte-space-8, 32px);width:var(--dyte-space-8, 32px);flex-shrink:0;font-size:14px}.waiting-participant .participant-details .name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media (min-width: 1080px){.waiting-participant .participant-details .name{max-width:var(--dyte-space-40, 160px)}}.waiting-participant .waitlist-controls{display:flex}.waiting-participant .waitlist-controls dyte-button{margin-left:var(--dyte-space-2, 8px);cursor:pointer;border-radius:var(--dyte-border-radius-sm, 4px)}.waiting-participant .waitlist-controls dyte-icon.accept{--tw-text-opacity:1;color:rgba(var(--dyte-colors-success, 98 165 4) / var(--tw-text-opacity))}.waiting-participant .waitlist-controls dyte-icon.deny{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}";var b=function(t,e,i,a){var s,n=arguments.length,r=n<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,i):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,i,a);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(r=(n<3?s(r):n>3?s(e,i,r):s(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r};const w=class{constructor(t){(0,a.r)(this,t),this.tabChange=(0,a.c)(this,"tabChange",7),this.sidebarClose=(0,a.c)(this,"sidebarClose",7),this.view="sidebar",this.tabs=[],this.hideHeader=!1,this.hideCloseAction=!1,this.iconPack=s.a,this.t=(0,s.c)(),this.onClose=()=>{this.sidebarClose.emit()}}render(){const t="full-screen"===this.view,e=this.tabs.find(t=>t.id===this.currentTab);return(0,a.h)(a.H,{key:"3cc819dfdd7a7afb27c4d5c0caad190e744416e5",class:this.view},!this.hideCloseAction&&(0,a.h)("dyte-button",{key:"49f610426277037837150d9b5f732c86a8a008df",variant:"ghost",kind:"icon",class:"close",onClick:this.onClose,"aria-label":this.t("close")},(0,a.h)("dyte-icon",{key:"6c5f8cbb8d2e4b12e2e924aa7881811a5c6afa32",icon:this.iconPack.dismiss})),e&&!this.hideHeader&&(0,a.h)("header",{key:"f55415f94849e74606dd21973822dd9495d01327",class:"main-header"},(0,a.h)("h3",{key:"f240ff5fa5fe71e83d1c43ab705ec75903720c89"},e.name),(0,a.h)("slot",{key:"f4d05f1edd487c5d1c731914b94dae796cf1daf6",name:"pinned-state"})),t&&(0,a.h)("header",{key:"9a782da10bf0f63523ef96a5bd98708853489beb",class:"mobile-tabs"},this.tabs.map(t=>(0,a.h)("button",{onClick:()=>{this.tabChange.emit(t.id)},class:{active:this.currentTab===t.id}},t.name))),(0,a.h)("slot",{key:"2656a53d4f0ce0c8b4001292b667e5efa2adcc9d",name:this.currentTab}))}};b([(0,o.S)()],w.prototype,"t",void 0),w.style=":host {\n  line-height: initial;\n  font-family: var(--dyte-font-family, sans-serif);\n\n  font-feature-settings: normal;\n  font-variation-settings: normal;\n}\n\np {\n  margin: var(--dyte-space-0, 0px);\n  padding: var(--dyte-space-0, 0px);\n}\n\n\n:host {\n  position: relative;\n  height: 100%;\n  width: 100%;\n  font-family: var(--dyte-font-family, sans-serif);\n  z-index: 50;\n  display: flex;\n  flex-direction: column;\n\n  container-type: size;\n  container-name: sidebarui;\n}\n\n@container sidebarui (height < 370px) {\n  .main-header {\n    height: var(--dyte-space-8, 32px) !important;\n  }\n  .close {\n    top: var(--dyte-space-0\\.5, 2px) !important;\n    left: var(--dyte-space-0, 0px) !important;\n    color: rgba(var(--dyte-colors-danger, 255 45 45) / 0.6);\n  }\n}\n\n:host([view='sidebar']) {\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));\n}\n\n:host([view='full-screen']) {\n  position: absolute;\n  top: var(--dyte-space-0, 0px);\n  right: var(--dyte-space-0, 0px);\n  bottom: var(--dyte-space-0, 0px);\n  left: var(--dyte-space-0, 0px);\n  max-width: 100%;\n  border: none;\n}\n\n::slotted(*) {\n  flex-grow: 1;\n}\n\n.close {\n  position: absolute;\n  top: var(--dyte-space-2, 8px);\n  left: var(--dyte-space-2, 8px);\n  z-index: 10;\n}\n\n.main-header {\n  position: relative;\n  display: flex;\n  height: var(--dyte-space-12, 48px);\n  place-items: center;\n  justify-content: center;\n}\n\n.main-header, \n.mobile-tabs {\n  flex-shrink: 0;\n}\n\n.mobile-tabs {\n  display: flex;\n  place-items: center;\n  justify-content: space-evenly;\n  border-bottom: 1px solid rgb(var(--dyte-colors-background-700, 44 44 44));\n}\n\n.mobile-tabs button {\n  margin: var(--dyte-space-0, 0px);\n  border-width: var(--dyte-border-width-none, 0);\n  border-style: none;\n  background-color: transparent;\n  padding: var(--dyte-space-0, 0px);\n  color: rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52));\n  height: var(--dyte-space-10, 40px);\n  cursor: pointer;\n  padding-left: var(--dyte-space-4, 16px);\n  padding-right: var(--dyte-space-4, 16px);\n  font-weight: 500;\n  border-bottom: 1px solid transparent;\n}\n\n.mobile-tabs button.active {\n  --tw-border-opacity: 1;\n  border-color: rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-border-opacity));\n  --tw-text-opacity: 1;\n  color: rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity));\n}\n\nheader h3 {\n  font-size: 14px;\n  font-weight: 500;\n}\n\n@media only screen and (max-device-height: 480px) and (orientation: landscape) {\n  .main-header {\n    display: none !important;\n  }\n}\n\n.tab-participant-count-badge {\n  display: inline-block;\n  padding: 2px 5px;\n  border-radius: 9999px;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));\n  font-size: 12px;\n  color: rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));\n}\n\n.tab-participant-count-badge:not(.selected-tab) {\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));\n}\n\n.tab-participant-count-badge.requests-pending{\n  background-color: rgba(var(--dyte-colors-danger));\n}"}}]);
//# sourceMappingURL=3972.4c89c7a6.chunk.js.map